(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var om={exports:{}},Ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function xb(){if(m_)return Ml;m_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ml.Fragment=e,Ml.jsx=n,Ml.jsxs=n,Ml}var p_;function Db(){return p_||(p_=1,om.exports=xb()),om.exports}var T=Db(),lm={exports:{}},Pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function Nb(){if(g_)return Pe;g_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator;function A(k){return k===null||typeof k!="object"?null:(k=b&&k[b]||k["@@iterator"],typeof k=="function"?k:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,U={};function C(k,re,he){this.props=k,this.context=re,this.refs=U,this.updater=he||P}C.prototype.isReactComponent={},C.prototype.setState=function(k,re){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,re,"setState")},C.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function B(){}B.prototype=C.prototype;function H(k,re,he){this.props=k,this.context=re,this.refs=U,this.updater=he||P}var Q=H.prototype=new B;Q.constructor=H,N(Q,C.prototype),Q.isPureReactComponent=!0;var X=Array.isArray,G={H:null,A:null,T:null,S:null,V:null},Z=Object.prototype.hasOwnProperty;function x(k,re,he,ue,ve,Ce){return he=Ce.ref,{$$typeof:r,type:k,key:re,ref:he!==void 0?he:null,props:Ce}}function R(k,re){return x(k.type,re,void 0,void 0,void 0,k.props)}function I(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function V(k){var re={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(he){return re[he]})}var L=/\/+/g;function z(k,re){return typeof k=="object"&&k!==null&&k.key!=null?V(""+k.key):re.toString(36)}function M(){}function dt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(M,M):(k.status="pending",k.then(function(re){k.status==="pending"&&(k.status="fulfilled",k.value=re)},function(re){k.status==="pending"&&(k.status="rejected",k.reason=re)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Ue(k,re,he,ue,ve){var Ce=typeof k;(Ce==="undefined"||Ce==="boolean")&&(k=null);var de=!1;if(k===null)de=!0;else switch(Ce){case"bigint":case"string":case"number":de=!0;break;case"object":switch(k.$$typeof){case r:case e:de=!0;break;case _:return de=k._init,Ue(de(k._payload),re,he,ue,ve)}}if(de)return ve=ve(k),de=ue===""?"."+z(k,0):ue,X(ve)?(he="",de!=null&&(he=de.replace(L,"$&/")+"/"),Ue(ve,re,he,"",function(Ne){return Ne})):ve!=null&&(I(ve)&&(ve=R(ve,he+(ve.key==null||k&&k.key===ve.key?"":(""+ve.key).replace(L,"$&/")+"/")+de)),re.push(ve)),1;de=0;var le=ue===""?".":ue+":";if(X(k))for(var me=0;me<k.length;me++)ue=k[me],Ce=le+z(ue,me),de+=Ue(ue,re,he,Ce,ve);else if(me=A(k),typeof me=="function")for(k=me.call(k),me=0;!(ue=k.next()).done;)ue=ue.value,Ce=le+z(ue,me++),de+=Ue(ue,re,he,Ce,ve);else if(Ce==="object"){if(typeof k.then=="function")return Ue(dt(k),re,he,ue,ve);throw re=String(k),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return de}function ee(k,re,he){if(k==null)return k;var ue=[],ve=0;return Ue(k,ue,"","",function(Ce){return re.call(he,Ce,ve++)}),ue}function te(k){if(k._status===-1){var re=k._result;re=re(),re.then(function(he){(k._status===0||k._status===-1)&&(k._status=1,k._result=he)},function(he){(k._status===0||k._status===-1)&&(k._status=2,k._result=he)}),k._status===-1&&(k._status=0,k._result=re)}if(k._status===1)return k._result.default;throw k._result}var ce=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Te(){}return Pe.Children={map:ee,forEach:function(k,re,he){ee(k,function(){re.apply(this,arguments)},he)},count:function(k){var re=0;return ee(k,function(){re++}),re},toArray:function(k){return ee(k,function(re){return re})||[]},only:function(k){if(!I(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Pe.Component=C,Pe.Fragment=n,Pe.Profiler=o,Pe.PureComponent=H,Pe.StrictMode=s,Pe.Suspense=p,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(k){return G.H.useMemoCache(k)}},Pe.cache=function(k){return function(){return k.apply(null,arguments)}},Pe.cloneElement=function(k,re,he){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ue=N({},k.props),ve=k.key,Ce=void 0;if(re!=null)for(de in re.ref!==void 0&&(Ce=void 0),re.key!==void 0&&(ve=""+re.key),re)!Z.call(re,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&re.ref===void 0||(ue[de]=re[de]);var de=arguments.length-2;if(de===1)ue.children=he;else if(1<de){for(var le=Array(de),me=0;me<de;me++)le[me]=arguments[me+2];ue.children=le}return x(k.type,ve,void 0,void 0,Ce,ue)},Pe.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Pe.createElement=function(k,re,he){var ue,ve={},Ce=null;if(re!=null)for(ue in re.key!==void 0&&(Ce=""+re.key),re)Z.call(re,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ve[ue]=re[ue]);var de=arguments.length-2;if(de===1)ve.children=he;else if(1<de){for(var le=Array(de),me=0;me<de;me++)le[me]=arguments[me+2];ve.children=le}if(k&&k.defaultProps)for(ue in de=k.defaultProps,de)ve[ue]===void 0&&(ve[ue]=de[ue]);return x(k,Ce,void 0,void 0,null,ve)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(k){return{$$typeof:m,render:k}},Pe.isValidElement=I,Pe.lazy=function(k){return{$$typeof:_,_payload:{_status:-1,_result:k},_init:te}},Pe.memo=function(k,re){return{$$typeof:g,type:k,compare:re===void 0?null:re}},Pe.startTransition=function(k){var re=G.T,he={};G.T=he;try{var ue=k(),ve=G.S;ve!==null&&ve(he,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Te,ce)}catch(Ce){ce(Ce)}finally{G.T=re}},Pe.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},Pe.use=function(k){return G.H.use(k)},Pe.useActionState=function(k,re,he){return G.H.useActionState(k,re,he)},Pe.useCallback=function(k,re){return G.H.useCallback(k,re)},Pe.useContext=function(k){return G.H.useContext(k)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(k,re){return G.H.useDeferredValue(k,re)},Pe.useEffect=function(k,re,he){var ue=G.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect(k,re)},Pe.useId=function(){return G.H.useId()},Pe.useImperativeHandle=function(k,re,he){return G.H.useImperativeHandle(k,re,he)},Pe.useInsertionEffect=function(k,re){return G.H.useInsertionEffect(k,re)},Pe.useLayoutEffect=function(k,re){return G.H.useLayoutEffect(k,re)},Pe.useMemo=function(k,re){return G.H.useMemo(k,re)},Pe.useOptimistic=function(k,re){return G.H.useOptimistic(k,re)},Pe.useReducer=function(k,re,he){return G.H.useReducer(k,re,he)},Pe.useRef=function(k){return G.H.useRef(k)},Pe.useState=function(k){return G.H.useState(k)},Pe.useSyncExternalStore=function(k,re,he){return G.H.useSyncExternalStore(k,re,he)},Pe.useTransition=function(){return G.H.useTransition()},Pe.version="19.1.0",Pe}var y_;function tp(){return y_||(y_=1,lm.exports=Nb()),lm.exports}var D=tp(),um={exports:{}},Pl={},cm={exports:{}},hm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function Ob(){return v_||(v_=1,function(r){function e(ee,te){var ce=ee.length;ee.push(te);e:for(;0<ce;){var Te=ce-1>>>1,k=ee[Te];if(0<o(k,te))ee[Te]=te,ee[ce]=k,ce=Te;else break e}}function n(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var te=ee[0],ce=ee.pop();if(ce!==te){ee[0]=ce;e:for(var Te=0,k=ee.length,re=k>>>1;Te<re;){var he=2*(Te+1)-1,ue=ee[he],ve=he+1,Ce=ee[ve];if(0>o(ue,ce))ve<k&&0>o(Ce,ue)?(ee[Te]=Ce,ee[ve]=ce,Te=ve):(ee[Te]=ue,ee[he]=ce,Te=he);else if(ve<k&&0>o(Ce,ce))ee[Te]=Ce,ee[ve]=ce,Te=ve;else break e}}return te}function o(ee,te){var ce=ee.sortIndex-te.sortIndex;return ce!==0?ce:ee.id-te.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],_=1,b=null,A=3,P=!1,N=!1,U=!1,C=!1,B=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function X(ee){for(var te=n(g);te!==null;){if(te.callback===null)s(g);else if(te.startTime<=ee)s(g),te.sortIndex=te.expirationTime,e(p,te);else break;te=n(g)}}function G(ee){if(U=!1,X(ee),!N)if(n(p)!==null)N=!0,Z||(Z=!0,z());else{var te=n(g);te!==null&&Ue(G,te.startTime-ee)}}var Z=!1,x=-1,R=5,I=-1;function V(){return C?!0:!(r.unstable_now()-I<R)}function L(){if(C=!1,Z){var ee=r.unstable_now();I=ee;var te=!0;try{e:{N=!1,U&&(U=!1,H(x),x=-1),P=!0;var ce=A;try{t:{for(X(ee),b=n(p);b!==null&&!(b.expirationTime>ee&&V());){var Te=b.callback;if(typeof Te=="function"){b.callback=null,A=b.priorityLevel;var k=Te(b.expirationTime<=ee);if(ee=r.unstable_now(),typeof k=="function"){b.callback=k,X(ee),te=!0;break t}b===n(p)&&s(p),X(ee)}else s(p);b=n(p)}if(b!==null)te=!0;else{var re=n(g);re!==null&&Ue(G,re.startTime-ee),te=!1}}break e}finally{b=null,A=ce,P=!1}te=void 0}}finally{te?z():Z=!1}}}var z;if(typeof Q=="function")z=function(){Q(L)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,dt=M.port2;M.port1.onmessage=L,z=function(){dt.postMessage(null)}}else z=function(){B(L,0)};function Ue(ee,te){x=B(function(){ee(r.unstable_now())},te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(ee){switch(A){case 1:case 2:case 3:var te=3;break;default:te=A}var ce=A;A=te;try{return ee()}finally{A=ce}},r.unstable_requestPaint=function(){C=!0},r.unstable_runWithPriority=function(ee,te){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ce=A;A=ee;try{return te()}finally{A=ce}},r.unstable_scheduleCallback=function(ee,te,ce){var Te=r.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Te+ce:Te):ce=Te,ee){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ce+k,ee={id:_++,callback:te,priorityLevel:ee,startTime:ce,expirationTime:k,sortIndex:-1},ce>Te?(ee.sortIndex=ce,e(g,ee),n(p)===null&&ee===n(g)&&(U?(H(x),x=-1):U=!0,Ue(G,ce-Te))):(ee.sortIndex=k,e(p,ee),N||P||(N=!0,Z||(Z=!0,z()))),ee},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(ee){var te=A;return function(){var ce=A;A=te;try{return ee.apply(this,arguments)}finally{A=ce}}}}(hm)),hm}var __;function Mb(){return __||(__=1,cm.exports=Ob()),cm.exports}var fm={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function Pb(){if(E_)return un;E_=1;var r=tp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:_}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,un.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},un.flushSync=function(p){var g=f.T,_=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=_,s.d.f()}},un.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},un.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},un.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,b=m(_,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,P=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:P}):_==="script"&&s.d.X(p,{crossOrigin:b,integrity:A,fetchPriority:P,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},un.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},un.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,b=m(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},un.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},un.requestFormReset=function(p){s.d.r(p)},un.unstable_batchedUpdates=function(p,g){return p(g)},un.useFormState=function(p,g,_){return f.H.useFormState(p,g,_)},un.useFormStatus=function(){return f.H.useHostTransitionStatus()},un.version="19.1.0",un}var T_;function Vb(){if(T_)return fm.exports;T_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),fm.exports=Pb(),fm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function kb(){if(S_)return Pl;S_=1;var r=Mb(),e=tp(),n=Vb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var E=!1,S=h.child;S;){if(S===a){E=!0,a=h,l=d;break}if(S===l){E=!0,l=h,a=d;break}S=S.sibling}if(!E){for(S=d.child;S;){if(S===a){E=!0,a=d,l=h;break}if(S===l){E=!0,l=d,a=h;break}S=S.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=L&&t[L]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function dt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case C:return"Profiler";case U:return"StrictMode";case G:return"Suspense";case Z:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case Q:return(t.displayName||"Context")+".Provider";case H:return(t._context.displayName||"Context")+".Consumer";case X:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:dt(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return dt(t(i))}catch{}}return null}var Ue=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Te=[],k=-1;function re(t){return{current:t}}function he(t){0>k||(t.current=Te[k],Te[k]=null,k--)}function ue(t,i){k++,Te[k]=t.current,t.current=i}var ve=re(null),Ce=re(null),de=re(null),le=re(null);function me(t,i){switch(ue(de,i),ue(Ce,t),ue(ve,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?qv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=qv(i),t=Hv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}he(ve),ue(ve,t)}function Ne(){he(ve),he(Ce),he(de)}function _e(t){t.memoizedState!==null&&ue(le,t);var i=ve.current,a=Hv(i,t.type);i!==a&&(ue(Ce,t),ue(ve,a))}function mt(t){Ce.current===t&&(he(ve),he(Ce)),le.current===t&&(he(le),Cl._currentValue=ce)}var Lt=Object.prototype.hasOwnProperty,ot=r.unstable_scheduleCallback,ct=r.unstable_cancelCallback,Rn=r.unstable_shouldYield,an=r.unstable_requestPaint,Et=r.unstable_now,Ln=r.unstable_getCurrentPriorityLevel,En=r.unstable_ImmediatePriority,Un=r.unstable_UserBlockingPriority,on=r.unstable_NormalPriority,Oe=r.unstable_LowPriority,ze=r.unstable_IdlePriority,ki=r.log,jn=r.unstable_setDisableYieldValue,ht=null,Xe=null;function mn(t){if(typeof ki=="function"&&jn(t),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(ht,t)}catch{}}var xt=Math.clz32?Math.clz32:ps,Su=Math.log,uf=Math.LN2;function ps(t){return t>>>=0,t===0?32:31-(Su(t)/uf|0)|0}var gs=256,ys=4194304;function ei(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function sa(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=ei(l):(E&=S,E!==0?h=ei(E):a||(a=S&~t,a!==0&&(h=ei(a))))):(S=l&~d,S!==0?h=ei(S):E!==0?h=ei(E):a||(a=l&~t,a!==0&&(h=ei(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function vs(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Co(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xo(){var t=gs;return gs<<=1,(gs&4194048)===0&&(gs=256),t}function Do(){var t=ys;return ys<<=1,(ys&62914560)===0&&(ys=4194304),t}function Li(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ui(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function No(t,i,a,l,h,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,O=t.expirationTimes,Y=t.hiddenUpdates;for(a=E&~a;0<a;){var ne=31-xt(a),se=1<<ne;S[ne]=0,O[ne]=-1;var $=Y[ne];if($!==null)for(Y[ne]=null,ne=0;ne<$.length;ne++){var W=$[ne];W!==null&&(W.lane&=-536870913)}a&=~se}l!==0&&di(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~i))}function di(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-xt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Oo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-xt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function _r(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function aa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Er(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:l_(t.type))}function Au(t,i){var a=te.p;try{return te.p=t,i()}finally{te.p=a}}var yt=Math.random().toString(36).slice(2),Ut="__reactFiber$"+yt,Dt="__reactProps$"+yt,Bn="__reactContainer$"+yt,Mo="__reactEvents$"+yt,cf="__reactListeners$"+yt,Tr="__reactHandles$"+yt,bu="__reactResources$"+yt,_s="__reactMarker$"+yt;function Sr(t){delete t[Ut],delete t[Dt],delete t[Mo],delete t[cf],delete t[Tr]}function ji(t){var i=t[Ut];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Bn]||a[Ut]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Qv(t);t!==null;){if(a=t[Ut])return a;t=Qv(t)}return i}t=a,a=t.parentNode}return null}function mi(t){if(t=t[Ut]||t[Bn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function pi(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function pn(t){var i=t[bu];return i||(i=t[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function wt(t){t[_s]=!0}var Po=new Set,oa={};function ti(t,i){Bi(t,i),Bi(t+"Capture",i)}function Bi(t,i){for(oa[t]=i,t=0;t<i.length;t++)Po.add(i[t])}var wu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ru={},Es={};function Iu(t){return Lt.call(Es,t)?!0:Lt.call(Ru,t)?!1:wu.test(t)?Es[t]=!0:(Ru[t]=!0,!1)}function Ar(t,i,a){if(Iu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function gi(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Wt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var Ts,Cu;function zi(t){if(Ts===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ts=i&&i[1]||"",Cu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ts+t+Cu}var la=!1;function ua(t,i){if(!t||la)return"";la=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(W){var $=W}Reflect.construct(t,[],se)}else{try{se.call()}catch(W){$=W}t.call(se.prototype)}}else{try{throw Error()}catch(W){$=W}(se=t())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(W){if(W&&$&&typeof W.stack=="string")return[W.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],S=d[1];if(E&&S){var O=E.split(`
`),Y=S.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<Y.length&&!Y[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===Y.length)for(l=O.length-1,h=Y.length-1;1<=l&&0<=h&&O[l]!==Y[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==Y[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==Y[h]){var ne=`
`+O[l].replace(" at new "," at ");return t.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",t.displayName)),ne}while(1<=l&&0<=h);break}}}finally{la=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?zi(a):""}function Vo(t){switch(t.tag){case 26:case 27:case 5:return zi(t.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return ua(t.type,!1);case 11:return ua(t.type.render,!1);case 1:return ua(t.type,!0);case 31:return zi("Activity");default:return""}}function ca(t){try{var i="";do i+=Vo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function gn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ko(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function hf(t){var i=ko(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ha(t){t._valueTracker||(t._valueTracker=hf(t))}function Lo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=ko(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ss(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ff=/[\n"\\]/g;function Nt(t){return t.replace(ff,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function In(t,i,a,l,h,d,E,S){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+gn(i)):t.value!==""+gn(i)&&(t.value=""+gn(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?br(t,E,gn(i)):a!=null?br(t,E,gn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+gn(S):t.removeAttribute("name")}function As(t,i,a,l,h,d,E,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+gn(a):"",i=i!=null?""+gn(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function br(t,i,a){i==="number"&&Ss(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function qi(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+gn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function it(t,i,a){if(i!=null&&(i=""+gn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+gn(a):""}function bs(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ue(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=gn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function zn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var ws=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||ws.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Uo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&xu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&xu(t,d,i[d])}function jo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var df=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(t){return mf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Hi=null;function qn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fi=null,Gi=null;function Bo(t){var i=mi(t);if(i&&(t=i.stateNode)){var a=t[Dt]||null;e:switch(t=i.stateNode,i.type){case"input":if(In(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Nt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Dt]||null;if(!h)throw Error(s(90));In(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Lo(l)}break e;case"textarea":it(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&qi(t,!!a.multiple,i,!1)}}}var yi=!1;function Du(t,i,a){if(yi)return t(i,a);yi=!0;try{var l=t(i);return l}finally{if(yi=!1,(Fi!==null||Gi!==null)&&(Ac(),Fi&&(i=Fi,t=Gi,Gi=Fi=null,Bo(i),t)))for(i=0;i<t.length;i++)Bo(t[i])}}function Rs(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Dt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hn=!1;if(ni)try{var Is={};Object.defineProperty(Is,"passive",{get:function(){Hn=!0}}),window.addEventListener("test",Is,Is),window.removeEventListener("test",Is,Is)}catch{Hn=!1}var vi=null,wr=null,Ki=null;function zo(){if(Ki)return Ki;var t,i=wr,a=i.length,l,h="value"in vi?vi.value:vi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var E=a-t;for(l=1;l<=E&&i[a-l]===h[d-l];l++);return Ki=h.slice(t,1<l?1-l:void 0)}function _i(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ei(){return!0}function qo(){return!1}function Ft(t){function i(a,l,h,d,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ei:qo,this.isPropagationStopped=qo,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),i}var Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},da=Ft(Je),Cs=_({},Je,{view:0,detail:0}),Nu=Ft(Cs),ma,pa,Ti,xs=_({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ti&&(Ti&&t.type==="mousemove"?(ma=t.screenX-Ti.screenX,pa=t.screenY-Ti.screenY):pa=ma=0,Ti=t),ma)},movementY:function(t){return"movementY"in t?t.movementY:pa}}),Fn=Ft(xs),Ou=_({},xs,{dataTransfer:0}),pf=Ft(Ou),Ds=_({},Cs,{relatedTarget:0}),ga=Ft(Ds),Ho=_({},Je,{animationName:0,elapsedTime:0,pseudoElement:0}),ya=Ft(Ho),Mu=_({},Je,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),va=Ft(Mu),gf=_({},Je,{data:0}),Fo=Ft(gf),Ns={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Go(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Vu[t])?!!i[t]:!1}function Os(){return Go}var ku=_({},Cs,{key:function(t){if(t.key){var i=Ns[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=_i(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Pu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(t){return t.type==="keypress"?_i(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_i(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_a=Ft(ku),Lu=_({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ko=Ft(Lu),Qi=_({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),Uu=Ft(Qi),ju=_({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bu=Ft(ju),zu=_({},xs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ea=Ft(zu),yn=_({},Je,{newState:0,oldState:0}),qu=Ft(yn),Hu=[9,13,27,32],Si=ni&&"CompositionEvent"in window,c=null;ni&&"documentMode"in document&&(c=document.documentMode);var y=ni&&"TextEvent"in window&&!c,v=ni&&(!Si||c&&8<c&&11>=c),w=" ",F=!1;function J(t,i){switch(t){case"keyup":return Hu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fe=!1;function jt(t,i){switch(t){case"compositionend":return fe(i);case"keypress":return i.which!==32?null:(F=!0,w);case"textInput":return t=i.data,t===w&&F?null:t;default:return null}}function Ge(t,i){if(Fe)return t==="compositionend"||!Si&&J(t,i)?(t=zo(),Ki=wr=vi=null,Fe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Gt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Gt[t.type]:i==="textarea"}function Yi(t,i,a,l){Fi?Gi?Gi.push(l):Gi=[l]:Fi=l,i=xc(i,"onChange"),0<i.length&&(a=new da("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Zt=null,Ai=null;function Qo(t){Lv(t,0)}function Fu(t){var i=pi(t);if(Lo(i))return t}function rg(t,i){if(t==="change")return i}var sg=!1;if(ni){var yf;if(ni){var vf="oninput"in document;if(!vf){var ag=document.createElement("div");ag.setAttribute("oninput","return;"),vf=typeof ag.oninput=="function"}yf=vf}else yf=!1;sg=yf&&(!document.documentMode||9<document.documentMode)}function og(){Zt&&(Zt.detachEvent("onpropertychange",lg),Ai=Zt=null)}function lg(t){if(t.propertyName==="value"&&Fu(Ai)){var i=[];Yi(i,Ai,t,qn(t)),Du(Qo,i)}}function sA(t,i,a){t==="focusin"?(og(),Zt=i,Ai=a,Zt.attachEvent("onpropertychange",lg)):t==="focusout"&&og()}function aA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fu(Ai)}function oA(t,i){if(t==="click")return Fu(i)}function lA(t,i){if(t==="input"||t==="change")return Fu(i)}function uA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Cn=typeof Object.is=="function"?Object.is:uA;function Yo(t,i){if(Cn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Lt.call(i,h)||!Cn(t[h],i[h]))return!1}return!0}function ug(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cg(t,i){var a=ug(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ug(a)}}function hg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?hg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function fg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ss(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ss(t.document)}return i}function _f(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var cA=ni&&"documentMode"in document&&11>=document.documentMode,Ta=null,Ef=null,$o=null,Tf=!1;function dg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Tf||Ta==null||Ta!==Ss(l)||(l=Ta,"selectionStart"in l&&_f(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$o&&Yo($o,l)||($o=l,l=xc(Ef,"onSelect"),0<l.length&&(i=new da("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ta)))}function Ms(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Sa={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},Sf={},mg={};ni&&(mg=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Ps(t){if(Sf[t])return Sf[t];if(!Sa[t])return t;var i=Sa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in mg)return Sf[t]=i[a];return t}var pg=Ps("animationend"),gg=Ps("animationiteration"),yg=Ps("animationstart"),hA=Ps("transitionrun"),fA=Ps("transitionstart"),dA=Ps("transitioncancel"),vg=Ps("transitionend"),_g=new Map,Af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Af.push("scrollEnd");function ii(t,i){_g.set(t,i),ti(i,[t])}var Eg=new WeakMap;function Gn(t,i){if(typeof t=="object"&&t!==null){var a=Eg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ca(i)},Eg.set(t,i),i)}return{value:t,source:i,stack:ca(i)}}var Kn=[],Aa=0,bf=0;function Gu(){for(var t=Aa,i=bf=Aa=0;i<t;){var a=Kn[i];Kn[i++]=null;var l=Kn[i];Kn[i++]=null;var h=Kn[i];Kn[i++]=null;var d=Kn[i];if(Kn[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&Tg(a,h,d)}}function Ku(t,i,a,l){Kn[Aa++]=t,Kn[Aa++]=i,Kn[Aa++]=a,Kn[Aa++]=l,bf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function wf(t,i,a,l){return Ku(t,i,a,l),Qu(t)}function ba(t,i){return Ku(t,null,null,i),Qu(t)}function Tg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-xt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Qu(t){if(50<El)throw El=0,Nd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var wa={};function mA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,i,a,l){return new mA(t,i,a,l)}function Rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $i(t,i){var a=t.alternate;return a===null?(a=xn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Sg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Yu(t,i,a,l,h,d){var E=0;if(l=t,typeof t=="function")Rf(t)&&(E=1);else if(typeof t=="string")E=gb(t,a,ve.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=xn(31,a,i,h),t.elementType=I,t.lanes=d,t;case N:return Vs(a.children,h,d,i);case U:E=8,h|=24;break;case C:return t=xn(12,a,i,h|2),t.elementType=C,t.lanes=d,t;case G:return t=xn(13,a,i,h),t.elementType=G,t.lanes=d,t;case Z:return t=xn(19,a,i,h),t.elementType=Z,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case B:case Q:E=10;break e;case H:E=9;break e;case X:E=11;break e;case x:E=14;break e;case R:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=xn(E,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Vs(t,i,a,l){return t=xn(7,t,l,i),t.lanes=a,t}function If(t,i,a){return t=xn(6,t,null,i),t.lanes=a,t}function Cf(t,i,a){return i=xn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ra=[],Ia=0,$u=null,Xu=0,Qn=[],Yn=0,ks=null,Xi=1,Wi="";function Ls(t,i){Ra[Ia++]=Xu,Ra[Ia++]=$u,$u=t,Xu=i}function Ag(t,i,a){Qn[Yn++]=Xi,Qn[Yn++]=Wi,Qn[Yn++]=ks,ks=t;var l=Xi;t=Wi;var h=32-xt(l)-1;l&=~(1<<h),a+=1;var d=32-xt(i)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Xi=1<<32-xt(i)+h|a<<h|l,Wi=d+t}else Xi=1<<d|a<<h|l,Wi=t}function xf(t){t.return!==null&&(Ls(t,1),Ag(t,1,0))}function Df(t){for(;t===$u;)$u=Ra[--Ia],Ra[Ia]=null,Xu=Ra[--Ia],Ra[Ia]=null;for(;t===ks;)ks=Qn[--Yn],Qn[Yn]=null,Wi=Qn[--Yn],Qn[Yn]=null,Xi=Qn[--Yn],Qn[Yn]=null}var vn=null,At=null,We=!1,Us=null,bi=!1,Nf=Error(s(519));function js(t){var i=Error(s(418,""));throw Zo(Gn(i,t)),Nf}function bg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Ut]=t,i[Dt]=l,a){case"dialog":Be("cancel",i),Be("close",i);break;case"iframe":case"object":case"embed":Be("load",i);break;case"video":case"audio":for(a=0;a<Sl.length;a++)Be(Sl[a],i);break;case"source":Be("error",i);break;case"img":case"image":case"link":Be("error",i),Be("load",i);break;case"details":Be("toggle",i);break;case"input":Be("invalid",i),As(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ha(i);break;case"select":Be("invalid",i);break;case"textarea":Be("invalid",i),bs(i,l.value,l.defaultValue,l.children),ha(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||zv(i.textContent,a)?(l.popover!=null&&(Be("beforetoggle",i),Be("toggle",i)),l.onScroll!=null&&Be("scroll",i),l.onScrollEnd!=null&&Be("scrollend",i),l.onClick!=null&&(i.onclick=Dc),i=!0):i=!1,i||js(t)}function wg(t){for(vn=t.return;vn;)switch(vn.tag){case 5:case 13:bi=!1;return;case 27:case 3:bi=!0;return;default:vn=vn.return}}function Xo(t){if(t!==vn)return!1;if(!We)return wg(t),We=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Qd(t.type,t.memoizedProps)),a=!a),a&&At&&js(t),wg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){At=si(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}At=null}}else i===27?(i=At,zr(t.type)?(t=Wd,Wd=null,At=t):At=i):At=vn?si(t.stateNode.nextSibling):null;return!0}function Wo(){At=vn=null,We=!1}function Rg(){var t=Us;return t!==null&&(An===null?An=t:An.push.apply(An,t),Us=null),t}function Zo(t){Us===null?Us=[t]:Us.push(t)}var Of=re(null),Bs=null,Zi=null;function Rr(t,i,a){ue(Of,i._currentValue),i._currentValue=a}function Ji(t){t._currentValue=Of.current,he(Of)}function Mf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Pf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var O=0;O<i.length;O++)if(S.context===i[O]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Mf(d.return,a,t),l||(E=null);break e}d=S.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),Mf(E,a,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Jo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=h.type;Cn(h.pendingProps.value,E.value)||(t!==null?t.push(S):t=[S])}}else if(h===le.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Cl):t=[Cl])}h=h.return}t!==null&&Pf(i,t,a,l),i.flags|=262144}function Wu(t){for(t=t.firstContext;t!==null;){if(!Cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zs(t){Bs=t,Zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ln(t){return Ig(Bs,t)}function Zu(t,i){return Bs===null&&zs(t),Ig(t,i)}function Ig(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Zi===null){if(t===null)throw Error(s(308));Zi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Zi=Zi.next=i;return a}var pA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},gA=r.unstable_scheduleCallback,yA=r.unstable_NormalPriority,zt={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vf(){return{controller:new pA,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&gA(yA,function(){t.controller.abort()})}var tl=null,kf=0,Ca=0,xa=null;function vA(t,i){if(tl===null){var a=tl=[];kf=0,Ca=Ud(),xa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return kf++,i.then(Cg,Cg),i}function Cg(){if(--kf===0&&tl!==null){xa!==null&&(xa.status="fulfilled");var t=tl;tl=null,Ca=0,xa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function _A(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var xg=ee.S;ee.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&vA(t,i),xg!==null&&xg(t,i)};var qs=re(null);function Lf(){var t=qs.current;return t!==null?t:ft.pooledCache}function Ju(t,i){i===null?ue(qs,qs.current):ue(qs,i.pool)}function Dg(){var t=Lf();return t===null?null:{parent:zt._currentValue,pool:t}}var nl=Error(s(460)),Ng=Error(s(474)),ec=Error(s(542)),Uf={then:function(){}};function Og(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tc(){}function Mg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(tc,tc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Vg(t),t;default:if(typeof i.status=="string")i.then(tc,tc);else{if(t=ft,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Vg(t),t}throw il=i,nl}}var il=null;function Pg(){if(il===null)throw Error(s(459));var t=il;return il=null,t}function Vg(t){if(t===nl||t===ec)throw Error(s(483))}var Ir=!1;function jf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Cr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function xr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Qu(t),Tg(t,null,a),i}return Ku(t,l,i,a),Qu(t)}function rl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Oo(t,a)}}function zf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var qf=!1;function sl(){if(qf){var t=xa;if(t!==null)throw t}}function al(t,i,a,l){qf=!1;var h=t.updateQueue;Ir=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var O=S,Y=O.next;O.next=null,E===null?d=Y:E.next=Y,E=O;var ne=t.alternate;ne!==null&&(ne=ne.updateQueue,S=ne.lastBaseUpdate,S!==E&&(S===null?ne.firstBaseUpdate=Y:S.next=Y,ne.lastBaseUpdate=O))}if(d!==null){var se=h.baseState;E=0,ne=Y=O=null,S=d;do{var $=S.lane&-536870913,W=$!==S.lane;if(W?(Ke&$)===$:(l&$)===$){$!==0&&$===Ca&&(qf=!0),ne!==null&&(ne=ne.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var xe=t,Ae=S;$=i;var at=a;switch(Ae.tag){case 1:if(xe=Ae.payload,typeof xe=="function"){se=xe.call(at,se,$);break e}se=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Ae.payload,$=typeof xe=="function"?xe.call(at,se,$):xe,$==null)break e;se=_({},se,$);break e;case 2:Ir=!0}}$=S.callback,$!==null&&(t.flags|=64,W&&(t.flags|=8192),W=h.callbacks,W===null?h.callbacks=[$]:W.push($))}else W={lane:$,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ne===null?(Y=ne=W,O=se):ne=ne.next=W,E|=$;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;W=S,S=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);ne===null&&(O=se),h.baseState=O,h.firstBaseUpdate=Y,h.lastBaseUpdate=ne,d===null&&(h.shared.lanes=0),Lr|=E,t.lanes=E,t.memoizedState=se}}function kg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Lg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)kg(a[t],i)}var Da=re(null),nc=re(0);function Ug(t,i){t=ar,ue(nc,t),ue(Da,i),ar=t|i.baseLanes}function Hf(){ue(nc,ar),ue(Da,Da.current)}function Ff(){ar=nc.current,he(Da),he(nc)}var Dr=0,Ve=null,rt=null,Ot=null,ic=!1,Na=!1,Hs=!1,rc=0,ol=0,Oa=null,EA=0;function Rt(){throw Error(s(321))}function Gf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Cn(t[a],i[a]))return!1;return!0}function Kf(t,i,a,l,h,d){return Dr=d,Ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ee.H=t===null||t.memoizedState===null?Ty:Sy,Hs=!1,d=a(l,h),Hs=!1,Na&&(d=Bg(i,a,l,h)),jg(t),d}function jg(t){ee.H=cc;var i=rt!==null&&rt.next!==null;if(Dr=0,Ot=rt=Ve=null,ic=!1,ol=0,Oa=null,i)throw Error(s(300));t===null||Kt||(t=t.dependencies,t!==null&&Wu(t)&&(Kt=!0))}function Bg(t,i,a,l){Ve=t;var h=0;do{if(Na&&(Oa=null),ol=0,Na=!1,25<=h)throw Error(s(301));if(h+=1,Ot=rt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}ee.H=IA,d=i(a,l)}while(Na);return d}function TA(){var t=ee.H,i=t.useState()[0];return i=typeof i.then=="function"?ll(i):i,t=t.useState()[0],(rt!==null?rt.memoizedState:null)!==t&&(Ve.flags|=1024),i}function Qf(){var t=rc!==0;return rc=0,t}function Yf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function $f(t){if(ic){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ic=!1}Dr=0,Ot=rt=Ve=null,Na=!1,ol=rc=0,Oa=null}function Tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Ve.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function Mt(){if(rt===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var i=Ot===null?Ve.memoizedState:Ot.next;if(i!==null)Ot=i,rt=t;else{if(t===null)throw Ve.alternate===null?Error(s(467)):Error(s(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Ot===null?Ve.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function Xf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(t){var i=ol;return ol+=1,Oa===null&&(Oa=[]),t=Mg(Oa,t,i),i=Ve,(Ot===null?i.memoizedState:Ot.next)===null&&(i=i.alternate,ee.H=i===null||i.memoizedState===null?Ty:Sy),t}function sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===Q)return ln(t)}throw Error(s(438,String(t)))}function Wf(t){var i=null,a=Ve.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Xf(),Ve.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function er(t,i){return typeof i=="function"?i(t):i}function ac(t){var i=Mt();return Zf(i,rt,t)}function Zf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=E=null,O=null,Y=i,ne=!1;do{var se=Y.lane&-536870913;if(se!==Y.lane?(Ke&se)===se:(Dr&se)===se){var $=Y.revertLane;if($===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),se===Ca&&(ne=!0);else if((Dr&$)===$){Y=Y.next,$===Ca&&(ne=!0);continue}else se={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(S=O=se,E=d):O=O.next=se,Ve.lanes|=$,Lr|=$;se=Y.action,Hs&&a(d,se),d=Y.hasEagerState?Y.eagerState:a(d,se)}else $={lane:se,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(S=O=$,E=d):O=O.next=$,Ve.lanes|=se,Lr|=se;Y=Y.next}while(Y!==null&&Y!==i);if(O===null?E=d:O.next=S,!Cn(d,t.memoizedState)&&(Kt=!0,ne&&(a=xa,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=O,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Jf(t){var i=Mt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do d=t(d,E.action),E=E.next;while(E!==h);Cn(d,i.memoizedState)||(Kt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function zg(t,i,a){var l=Ve,h=Mt(),d=We;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!Cn((rt||h).memoizedState,a);E&&(h.memoizedState=a,Kt=!0),h=h.queue;var S=Fg.bind(null,l,h,t);if(ul(2048,8,S,[t]),h.getSnapshot!==i||E||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,Ma(9,oc(),Hg.bind(null,l,h,a,i),null),ft===null)throw Error(s(349));d||(Dr&124)!==0||qg(l,i,a)}return a}function qg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ve.updateQueue,i===null?(i=Xf(),Ve.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Hg(t,i,a,l){i.value=a,i.getSnapshot=l,Gg(i)&&Kg(t)}function Fg(t,i,a){return a(function(){Gg(i)&&Kg(t)})}function Gg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Cn(t,a)}catch{return!0}}function Kg(t){var i=ba(t,2);i!==null&&Pn(i,t,2)}function ed(t){var i=Tn();if(typeof t=="function"){var a=t;if(t=a(),Hs){mn(!0);try{a()}finally{mn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:t},i}function Qg(t,i,a,l){return t.baseState=a,Zf(t,rt,typeof l=="function"?l:er)}function SA(t,i,a,l,h){if(uc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};ee.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Yg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Yg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=ee.T,E={};ee.T=E;try{var S=a(h,l),O=ee.S;O!==null&&O(E,S),$g(t,i,S)}catch(Y){td(t,i,Y)}finally{ee.T=d}}else try{d=a(h,l),$g(t,i,d)}catch(Y){td(t,i,Y)}}function $g(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Xg(t,i,l)},function(l){return td(t,i,l)}):Xg(t,i,a)}function Xg(t,i,a){i.status="fulfilled",i.value=a,Wg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Yg(t,a)))}function td(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Wg(i),i=i.next;while(i!==l)}t.action=null}function Wg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Zg(t,i){return i}function Jg(t,i){if(We){var a=ft.formState;if(a!==null){e:{var l=Ve;if(We){if(At){t:{for(var h=At,d=bi;h.nodeType!==8;){if(!d){h=null;break t}if(h=si(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){At=si(h.nextSibling),l=h.data==="F!";break e}}js(l)}l=!1}l&&(i=a[0])}}return a=Tn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zg,lastRenderedState:i},a.queue=l,a=vy.bind(null,Ve,l),l.dispatch=a,l=ed(!1),d=ad.bind(null,Ve,!1,l.queue),l=Tn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=SA.bind(null,Ve,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function ey(t){var i=Mt();return ty(i,rt,t)}function ty(t,i,a){if(i=Zf(t,i,Zg)[0],t=ac(er)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ll(i)}catch(E){throw E===nl?ec:E}else l=i;i=Mt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ve.flags|=2048,Ma(9,oc(),AA.bind(null,h,a),null)),[l,d,t]}function AA(t,i){t.action=i}function ny(t){var i=Mt(),a=rt;if(a!==null)return ty(i,a,t);Mt(),i=i.memoizedState,a=Mt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ma(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ve.updateQueue,i===null&&(i=Xf(),Ve.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function oc(){return{destroy:void 0,resource:void 0}}function iy(){return Mt().memoizedState}function lc(t,i,a,l){var h=Tn();l=l===void 0?null:l,Ve.flags|=t,h.memoizedState=Ma(1|i,oc(),a,l)}function ul(t,i,a,l){var h=Mt();l=l===void 0?null:l;var d=h.memoizedState.inst;rt!==null&&l!==null&&Gf(l,rt.memoizedState.deps)?h.memoizedState=Ma(i,d,a,l):(Ve.flags|=t,h.memoizedState=Ma(1|i,d,a,l))}function ry(t,i){lc(8390656,8,t,i)}function sy(t,i){ul(2048,8,t,i)}function ay(t,i){return ul(4,2,t,i)}function oy(t,i){return ul(4,4,t,i)}function ly(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function uy(t,i,a){a=a!=null?a.concat([t]):null,ul(4,4,ly.bind(null,i,t),a)}function nd(){}function cy(t,i){var a=Mt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Gf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function hy(t,i){var a=Mt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Gf(i,l[1]))return l[0];if(l=t(),Hs){mn(!0);try{t()}finally{mn(!1)}}return a.memoizedState=[l,i],l}function id(t,i,a){return a===void 0||(Dr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=mv(),Ve.lanes|=t,Lr|=t,a)}function fy(t,i,a,l){return Cn(a,i)?a:Da.current!==null?(t=id(t,a,l),Cn(t,i)||(Kt=!0),t):(Dr&42)===0?(Kt=!0,t.memoizedState=a):(t=mv(),Ve.lanes|=t,Lr|=t,i)}function dy(t,i,a,l,h){var d=te.p;te.p=d!==0&&8>d?d:8;var E=ee.T,S={};ee.T=S,ad(t,!1,i,a);try{var O=h(),Y=ee.S;if(Y!==null&&Y(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ne=_A(O,l);cl(t,i,ne,Mn(t))}else cl(t,i,l,Mn(t))}catch(se){cl(t,i,{then:function(){},status:"rejected",reason:se},Mn())}finally{te.p=d,ee.T=E}}function bA(){}function rd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=my(t).queue;dy(t,h,i,ce,a===null?bA:function(){return py(t),a(l)})}function my(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:ce},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function py(t){var i=my(t).next.queue;cl(t,i,{},Mn())}function sd(){return ln(Cl)}function gy(){return Mt().memoizedState}function yy(){return Mt().memoizedState}function wA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Mn();t=Cr(a);var l=xr(i,t,a);l!==null&&(Pn(l,i,a),rl(l,i,a)),i={cache:Vf()},t.payload=i;return}i=i.return}}function RA(t,i,a){var l=Mn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},uc(t)?_y(i,a):(a=wf(t,i,a,l),a!==null&&(Pn(a,t,l),Ey(a,i,l)))}function vy(t,i,a){var l=Mn();cl(t,i,a,l)}function cl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(uc(t))_y(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,S=d(E,a);if(h.hasEagerState=!0,h.eagerState=S,Cn(S,E))return Ku(t,i,h,0),ft===null&&Gu(),!1}catch{}finally{}if(a=wf(t,i,h,l),a!==null)return Pn(a,t,l),Ey(a,i,l),!0}return!1}function ad(t,i,a,l){if(l={lane:2,revertLane:Ud(),action:l,hasEagerState:!1,eagerState:null,next:null},uc(t)){if(i)throw Error(s(479))}else i=wf(t,a,l,2),i!==null&&Pn(i,t,2)}function uc(t){var i=t.alternate;return t===Ve||i!==null&&i===Ve}function _y(t,i){Na=ic=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Ey(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Oo(t,a)}}var cc={readContext:ln,use:sc,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt},Ty={readContext:ln,use:sc,useCallback:function(t,i){return Tn().memoizedState=[t,i===void 0?null:i],t},useContext:ln,useEffect:ry,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,lc(4194308,4,ly.bind(null,i,t),a)},useLayoutEffect:function(t,i){return lc(4194308,4,t,i)},useInsertionEffect:function(t,i){lc(4,2,t,i)},useMemo:function(t,i){var a=Tn();i=i===void 0?null:i;var l=t();if(Hs){mn(!0);try{t()}finally{mn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=Tn();if(a!==void 0){var h=a(i);if(Hs){mn(!0);try{a(i)}finally{mn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=RA.bind(null,Ve,t),[l.memoizedState,t]},useRef:function(t){var i=Tn();return t={current:t},i.memoizedState=t},useState:function(t){t=ed(t);var i=t.queue,a=vy.bind(null,Ve,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:nd,useDeferredValue:function(t,i){var a=Tn();return id(a,t,i)},useTransition:function(){var t=ed(!1);return t=dy.bind(null,Ve,t.queue,!0,!1),Tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ve,h=Tn();if(We){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ft===null)throw Error(s(349));(Ke&124)!==0||qg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ry(Fg.bind(null,l,d,t),[t]),l.flags|=2048,Ma(9,oc(),Hg.bind(null,l,d,a,i),null),a},useId:function(){var t=Tn(),i=ft.identifierPrefix;if(We){var a=Wi,l=Xi;a=(l&~(1<<32-xt(l)-1)).toString(32)+a,i=""+i+"R"+a,a=rc++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=EA++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:sd,useFormState:Jg,useActionState:Jg,useOptimistic:function(t){var i=Tn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ad.bind(null,Ve,!0,a),a.dispatch=i,[t,i]},useMemoCache:Wf,useCacheRefresh:function(){return Tn().memoizedState=wA.bind(null,Ve)}},Sy={readContext:ln,use:sc,useCallback:cy,useContext:ln,useEffect:sy,useImperativeHandle:uy,useInsertionEffect:ay,useLayoutEffect:oy,useMemo:hy,useReducer:ac,useRef:iy,useState:function(){return ac(er)},useDebugValue:nd,useDeferredValue:function(t,i){var a=Mt();return fy(a,rt.memoizedState,t,i)},useTransition:function(){var t=ac(er)[0],i=Mt().memoizedState;return[typeof t=="boolean"?t:ll(t),i]},useSyncExternalStore:zg,useId:gy,useHostTransitionStatus:sd,useFormState:ey,useActionState:ey,useOptimistic:function(t,i){var a=Mt();return Qg(a,rt,t,i)},useMemoCache:Wf,useCacheRefresh:yy},IA={readContext:ln,use:sc,useCallback:cy,useContext:ln,useEffect:sy,useImperativeHandle:uy,useInsertionEffect:ay,useLayoutEffect:oy,useMemo:hy,useReducer:Jf,useRef:iy,useState:function(){return Jf(er)},useDebugValue:nd,useDeferredValue:function(t,i){var a=Mt();return rt===null?id(a,t,i):fy(a,rt.memoizedState,t,i)},useTransition:function(){var t=Jf(er)[0],i=Mt().memoizedState;return[typeof t=="boolean"?t:ll(t),i]},useSyncExternalStore:zg,useId:gy,useHostTransitionStatus:sd,useFormState:ny,useActionState:ny,useOptimistic:function(t,i){var a=Mt();return rt!==null?Qg(a,rt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Wf,useCacheRefresh:yy},Pa=null,hl=0;function hc(t){var i=hl;return hl+=1,Pa===null&&(Pa=[]),Mg(Pa,t,i)}function fl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function fc(t,i){throw i.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ay(t){var i=t._init;return i(t._payload)}function by(t){function i(q,j){if(t){var K=q.deletions;K===null?(q.deletions=[j],q.flags|=16):K.push(j)}}function a(q,j){if(!t)return null;for(;j!==null;)i(q,j),j=j.sibling;return null}function l(q){for(var j=new Map;q!==null;)q.key!==null?j.set(q.key,q):j.set(q.index,q),q=q.sibling;return j}function h(q,j){return q=$i(q,j),q.index=0,q.sibling=null,q}function d(q,j,K){return q.index=K,t?(K=q.alternate,K!==null?(K=K.index,K<j?(q.flags|=67108866,j):K):(q.flags|=67108866,j)):(q.flags|=1048576,j)}function E(q){return t&&q.alternate===null&&(q.flags|=67108866),q}function S(q,j,K,ie){return j===null||j.tag!==6?(j=If(K,q.mode,ie),j.return=q,j):(j=h(j,K),j.return=q,j)}function O(q,j,K,ie){var ye=K.type;return ye===N?ne(q,j,K.props.children,ie,K.key):j!==null&&(j.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&Ay(ye)===j.type)?(j=h(j,K.props),fl(j,K),j.return=q,j):(j=Yu(K.type,K.key,K.props,null,q.mode,ie),fl(j,K),j.return=q,j)}function Y(q,j,K,ie){return j===null||j.tag!==4||j.stateNode.containerInfo!==K.containerInfo||j.stateNode.implementation!==K.implementation?(j=Cf(K,q.mode,ie),j.return=q,j):(j=h(j,K.children||[]),j.return=q,j)}function ne(q,j,K,ie,ye){return j===null||j.tag!==7?(j=Vs(K,q.mode,ie,ye),j.return=q,j):(j=h(j,K),j.return=q,j)}function se(q,j,K){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=If(""+j,q.mode,K),j.return=q,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case A:return K=Yu(j.type,j.key,j.props,null,q.mode,K),fl(K,j),K.return=q,K;case P:return j=Cf(j,q.mode,K),j.return=q,j;case R:var ie=j._init;return j=ie(j._payload),se(q,j,K)}if(Ue(j)||z(j))return j=Vs(j,q.mode,K,null),j.return=q,j;if(typeof j.then=="function")return se(q,hc(j),K);if(j.$$typeof===Q)return se(q,Zu(q,j),K);fc(q,j)}return null}function $(q,j,K,ie){var ye=j!==null?j.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return ye!==null?null:S(q,j,""+K,ie);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case A:return K.key===ye?O(q,j,K,ie):null;case P:return K.key===ye?Y(q,j,K,ie):null;case R:return ye=K._init,K=ye(K._payload),$(q,j,K,ie)}if(Ue(K)||z(K))return ye!==null?null:ne(q,j,K,ie,null);if(typeof K.then=="function")return $(q,j,hc(K),ie);if(K.$$typeof===Q)return $(q,j,Zu(q,K),ie);fc(q,K)}return null}function W(q,j,K,ie,ye){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return q=q.get(K)||null,S(j,q,""+ie,ye);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case A:return q=q.get(ie.key===null?K:ie.key)||null,O(j,q,ie,ye);case P:return q=q.get(ie.key===null?K:ie.key)||null,Y(j,q,ie,ye);case R:var Le=ie._init;return ie=Le(ie._payload),W(q,j,K,ie,ye)}if(Ue(ie)||z(ie))return q=q.get(K)||null,ne(j,q,ie,ye,null);if(typeof ie.then=="function")return W(q,j,K,hc(ie),ye);if(ie.$$typeof===Q)return W(q,j,K,Zu(j,ie),ye);fc(j,ie)}return null}function xe(q,j,K,ie){for(var ye=null,Le=null,Ee=j,be=j=0,Yt=null;Ee!==null&&be<K.length;be++){Ee.index>be?(Yt=Ee,Ee=null):Yt=Ee.sibling;var Ye=$(q,Ee,K[be],ie);if(Ye===null){Ee===null&&(Ee=Yt);break}t&&Ee&&Ye.alternate===null&&i(q,Ee),j=d(Ye,j,be),Le===null?ye=Ye:Le.sibling=Ye,Le=Ye,Ee=Yt}if(be===K.length)return a(q,Ee),We&&Ls(q,be),ye;if(Ee===null){for(;be<K.length;be++)Ee=se(q,K[be],ie),Ee!==null&&(j=d(Ee,j,be),Le===null?ye=Ee:Le.sibling=Ee,Le=Ee);return We&&Ls(q,be),ye}for(Ee=l(Ee);be<K.length;be++)Yt=W(Ee,q,be,K[be],ie),Yt!==null&&(t&&Yt.alternate!==null&&Ee.delete(Yt.key===null?be:Yt.key),j=d(Yt,j,be),Le===null?ye=Yt:Le.sibling=Yt,Le=Yt);return t&&Ee.forEach(function(Kr){return i(q,Kr)}),We&&Ls(q,be),ye}function Ae(q,j,K,ie){if(K==null)throw Error(s(151));for(var ye=null,Le=null,Ee=j,be=j=0,Yt=null,Ye=K.next();Ee!==null&&!Ye.done;be++,Ye=K.next()){Ee.index>be?(Yt=Ee,Ee=null):Yt=Ee.sibling;var Kr=$(q,Ee,Ye.value,ie);if(Kr===null){Ee===null&&(Ee=Yt);break}t&&Ee&&Kr.alternate===null&&i(q,Ee),j=d(Kr,j,be),Le===null?ye=Kr:Le.sibling=Kr,Le=Kr,Ee=Yt}if(Ye.done)return a(q,Ee),We&&Ls(q,be),ye;if(Ee===null){for(;!Ye.done;be++,Ye=K.next())Ye=se(q,Ye.value,ie),Ye!==null&&(j=d(Ye,j,be),Le===null?ye=Ye:Le.sibling=Ye,Le=Ye);return We&&Ls(q,be),ye}for(Ee=l(Ee);!Ye.done;be++,Ye=K.next())Ye=W(Ee,q,be,Ye.value,ie),Ye!==null&&(t&&Ye.alternate!==null&&Ee.delete(Ye.key===null?be:Ye.key),j=d(Ye,j,be),Le===null?ye=Ye:Le.sibling=Ye,Le=Ye);return t&&Ee.forEach(function(Cb){return i(q,Cb)}),We&&Ls(q,be),ye}function at(q,j,K,ie){if(typeof K=="object"&&K!==null&&K.type===N&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case A:e:{for(var ye=K.key;j!==null;){if(j.key===ye){if(ye=K.type,ye===N){if(j.tag===7){a(q,j.sibling),ie=h(j,K.props.children),ie.return=q,q=ie;break e}}else if(j.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&Ay(ye)===j.type){a(q,j.sibling),ie=h(j,K.props),fl(ie,K),ie.return=q,q=ie;break e}a(q,j);break}else i(q,j);j=j.sibling}K.type===N?(ie=Vs(K.props.children,q.mode,ie,K.key),ie.return=q,q=ie):(ie=Yu(K.type,K.key,K.props,null,q.mode,ie),fl(ie,K),ie.return=q,q=ie)}return E(q);case P:e:{for(ye=K.key;j!==null;){if(j.key===ye)if(j.tag===4&&j.stateNode.containerInfo===K.containerInfo&&j.stateNode.implementation===K.implementation){a(q,j.sibling),ie=h(j,K.children||[]),ie.return=q,q=ie;break e}else{a(q,j);break}else i(q,j);j=j.sibling}ie=Cf(K,q.mode,ie),ie.return=q,q=ie}return E(q);case R:return ye=K._init,K=ye(K._payload),at(q,j,K,ie)}if(Ue(K))return xe(q,j,K,ie);if(z(K)){if(ye=z(K),typeof ye!="function")throw Error(s(150));return K=ye.call(K),Ae(q,j,K,ie)}if(typeof K.then=="function")return at(q,j,hc(K),ie);if(K.$$typeof===Q)return at(q,j,Zu(q,K),ie);fc(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,j!==null&&j.tag===6?(a(q,j.sibling),ie=h(j,K),ie.return=q,q=ie):(a(q,j),ie=If(K,q.mode,ie),ie.return=q,q=ie),E(q)):a(q,j)}return function(q,j,K,ie){try{hl=0;var ye=at(q,j,K,ie);return Pa=null,ye}catch(Ee){if(Ee===nl||Ee===ec)throw Ee;var Le=xn(29,Ee,null,q.mode);return Le.lanes=ie,Le.return=q,Le}finally{}}}var Va=by(!0),wy=by(!1),$n=re(null),wi=null;function Nr(t){var i=t.alternate;ue(qt,qt.current&1),ue($n,t),wi===null&&(i===null||Da.current!==null||i.memoizedState!==null)&&(wi=t)}function Ry(t){if(t.tag===22){if(ue(qt,qt.current),ue($n,t),wi===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(wi=t)}}else Or()}function Or(){ue(qt,qt.current),ue($n,$n.current)}function tr(t){he($n),wi===t&&(wi=null),he(qt)}var qt=re(0);function dc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Xd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function od(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:_({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ld={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Mn(),h=Cr(l);h.payload=i,a!=null&&(h.callback=a),i=xr(t,h,l),i!==null&&(Pn(i,t,l),rl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Mn(),h=Cr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=xr(t,h,l),i!==null&&(Pn(i,t,l),rl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Mn(),l=Cr(a);l.tag=2,i!=null&&(l.callback=i),i=xr(t,l,a),i!==null&&(Pn(i,t,a),rl(i,t,a))}};function Iy(t,i,a,l,h,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!Yo(a,l)||!Yo(h,d):!0}function Cy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&ld.enqueueReplaceState(i,i.state,null)}function Fs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=_({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var mc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function xy(t){mc(t)}function Dy(t){console.error(t)}function Ny(t){mc(t)}function pc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Oy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ud(t,i,a){return a=Cr(a),a.tag=3,a.payload={element:null},a.callback=function(){pc(t,i)},a}function My(t){return t=Cr(t),t.tag=3,t}function Py(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Oy(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Oy(i,a,l),typeof h!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function CA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Jo(i,a,h,!0),a=$n.current,a!==null){switch(a.tag){case 13:return wi===null?Md():a.alternate===null&&bt===0&&(bt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Uf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Vd(t,l,h)),!1;case 22:return a.flags|=65536,l===Uf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Vd(t,l,h)),!1}throw Error(s(435,a.tag))}return Vd(t,l,h),Md(),!1}if(We)return i=$n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Nf&&(t=Error(s(422),{cause:l}),Zo(Gn(t,a)))):(l!==Nf&&(i=Error(s(423),{cause:l}),Zo(Gn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Gn(l,a),h=ud(t.stateNode,l,h),zf(t,h),bt!==4&&(bt=2)),!1;var d=Error(s(520),{cause:l});if(d=Gn(d,a),_l===null?_l=[d]:_l.push(d),bt!==4&&(bt=2),i===null)return!0;l=Gn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ud(a.stateNode,l,t),zf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ur===null||!Ur.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=My(h),Py(h,t,a,l),zf(a,h),!1}a=a.return}while(a!==null);return!1}var Vy=Error(s(461)),Kt=!1;function Jt(t,i,a,l){i.child=t===null?wy(i,null,a,l):Va(i,t.child,a,l)}function ky(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var E={};for(var S in l)S!=="ref"&&(E[S]=l[S])}else E=l;return zs(i),l=Kf(t,i,a,E,d,h),S=Qf(),t!==null&&!Kt?(Yf(t,i,h),nr(t,i,h)):(We&&S&&xf(i),i.flags|=1,Jt(t,i,l,h),i.child)}function Ly(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Rf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Uy(t,i,d,l,h)):(t=Yu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!yd(t,h)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:Yo,a(E,l)&&t.ref===i.ref)return nr(t,i,h)}return i.flags|=1,t=$i(d,l),t.ref=i.ref,t.return=i,i.child=t}function Uy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Yo(d,l)&&t.ref===i.ref)if(Kt=!1,i.pendingProps=l=d,yd(t,h))(t.flags&131072)!==0&&(Kt=!0);else return i.lanes=t.lanes,nr(t,i,h)}return cd(t,i,a,l,h)}function jy(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return By(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ju(i,d!==null?d.cachePool:null),d!==null?Ug(i,d):Hf(),Ry(i);else return i.lanes=i.childLanes=536870912,By(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Ju(i,d.cachePool),Ug(i,d),Or(),i.memoizedState=null):(t!==null&&Ju(i,null),Hf(),Or());return Jt(t,i,h,a),i.child}function By(t,i,a,l){var h=Lf();return h=h===null?null:{parent:zt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Ju(i,null),Hf(),Ry(i),t!==null&&Jo(t,i,l,!0),null}function gc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function cd(t,i,a,l,h){return zs(i),a=Kf(t,i,a,l,void 0,h),l=Qf(),t!==null&&!Kt?(Yf(t,i,h),nr(t,i,h)):(We&&l&&xf(i),i.flags|=1,Jt(t,i,a,h),i.child)}function zy(t,i,a,l,h,d){return zs(i),i.updateQueue=null,a=Bg(i,l,a,h),jg(t),l=Qf(),t!==null&&!Kt?(Yf(t,i,d),nr(t,i,d)):(We&&l&&xf(i),i.flags|=1,Jt(t,i,a,d),i.child)}function qy(t,i,a,l,h){if(zs(i),i.stateNode===null){var d=wa,E=a.contextType;typeof E=="object"&&E!==null&&(d=ln(E)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ld,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},jf(i),E=a.contextType,d.context=typeof E=="object"&&E!==null?ln(E):wa,d.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(od(i,a,E,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&ld.enqueueReplaceState(d,d.state,null),al(i,l,d,h),sl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,O=Fs(a,S);d.props=O;var Y=d.context,ne=a.contextType;E=wa,typeof ne=="object"&&ne!==null&&(E=ln(ne));var se=a.getDerivedStateFromProps;ne=typeof se=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,ne||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||Y!==E)&&Cy(i,d,l,E),Ir=!1;var $=i.memoizedState;d.state=$,al(i,l,d,h),sl(),Y=i.memoizedState,S||$!==Y||Ir?(typeof se=="function"&&(od(i,a,se,l),Y=i.memoizedState),(O=Ir||Iy(i,a,O,l,$,Y,E))?(ne||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=E,l=O):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Bf(t,i),E=i.memoizedProps,ne=Fs(a,E),d.props=ne,se=i.pendingProps,$=d.context,Y=a.contextType,O=wa,typeof Y=="object"&&Y!==null&&(O=ln(Y)),S=a.getDerivedStateFromProps,(Y=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==se||$!==O)&&Cy(i,d,l,O),Ir=!1,$=i.memoizedState,d.state=$,al(i,l,d,h),sl();var W=i.memoizedState;E!==se||$!==W||Ir||t!==null&&t.dependencies!==null&&Wu(t.dependencies)?(typeof S=="function"&&(od(i,a,S,l),W=i.memoizedState),(ne=Ir||Iy(i,a,ne,l,$,W,O)||t!==null&&t.dependencies!==null&&Wu(t.dependencies))?(Y||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,W,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,W,O)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=W),d.props=l,d.state=W,d.context=O,l=ne):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,gc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Va(i,t.child,null,h),i.child=Va(i,null,a,h)):Jt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=nr(t,i,h),t}function Hy(t,i,a,l){return Wo(),i.flags|=256,Jt(t,i,a,l),i.child}var hd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fd(t){return{baseLanes:t,cachePool:Dg()}}function dd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Xn),t}function Fy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(qt.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(We){if(h?Nr(i):Or(),We){var S=At,O;if(O=S){e:{for(O=S,S=bi;O.nodeType!==8;){if(!S){S=null;break e}if(O=si(O.nextSibling),O===null){S=null;break e}}S=O}S!==null?(i.memoizedState={dehydrated:S,treeContext:ks!==null?{id:Xi,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},O=xn(18,null,null,0),O.stateNode=S,O.return=i,i.child=O,vn=i,At=null,O=!0):O=!1}O||js(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Xd(S)?i.lanes=32:i.lanes=536870912,null;tr(i)}return S=l.children,l=l.fallback,h?(Or(),h=i.mode,S=yc({mode:"hidden",children:S},h),l=Vs(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,h=i.child,h.memoizedState=fd(a),h.childLanes=dd(t,E,a),i.memoizedState=hd,l):(Nr(i),md(i,S))}if(O=t.memoizedState,O!==null&&(S=O.dehydrated,S!==null)){if(d)i.flags&256?(Nr(i),i.flags&=-257,i=pd(t,i,a)):i.memoizedState!==null?(Or(),i.child=t.child,i.flags|=128,i=null):(Or(),h=l.fallback,S=i.mode,l=yc({mode:"visible",children:l.children},S),h=Vs(h,S,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Va(i,t.child,null,a),l=i.child,l.memoizedState=fd(a),l.childLanes=dd(t,E,a),i.memoizedState=hd,i=h);else if(Nr(i),Xd(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var Y=E.dgst;E=Y,l=Error(s(419)),l.stack="",l.digest=E,Zo({value:l,source:null,stack:null}),i=pd(t,i,a)}else if(Kt||Jo(t,i,a,!1),E=(a&t.childLanes)!==0,Kt||E){if(E=ft,E!==null&&(l=a&-a,l=(l&42)!==0?1:_r(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==O.retryLane))throw O.retryLane=l,ba(t,l),Pn(E,t,l),Vy;S.data==="$?"||Md(),i=pd(t,i,a)}else S.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,At=si(S.nextSibling),vn=i,We=!0,Us=null,bi=!1,t!==null&&(Qn[Yn++]=Xi,Qn[Yn++]=Wi,Qn[Yn++]=ks,Xi=t.id,Wi=t.overflow,ks=i),i=md(i,l.children),i.flags|=4096);return i}return h?(Or(),h=l.fallback,S=i.mode,O=t.child,Y=O.sibling,l=$i(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,Y!==null?h=$i(Y,h):(h=Vs(h,S,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,S=t.child.memoizedState,S===null?S=fd(a):(O=S.cachePool,O!==null?(Y=zt._currentValue,O=O.parent!==Y?{parent:Y,pool:Y}:O):O=Dg(),S={baseLanes:S.baseLanes|a,cachePool:O}),h.memoizedState=S,h.childLanes=dd(t,E,a),i.memoizedState=hd,l):(Nr(i),a=t.child,t=a.sibling,a=$i(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=a,i.memoizedState=null,a)}function md(t,i){return i=yc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function yc(t,i){return t=xn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function pd(t,i,a){return Va(i,t.child,null,a),t=md(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Gy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Mf(t.return,i,a)}function gd(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Ky(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Jt(t,i,l.children,a),l=qt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gy(t,a,i);else if(t.tag===19)Gy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ue(qt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&dc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),gd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&dc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}gd(i,!0,a,null,d);break;case"together":gd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function nr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Lr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Jo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=$i(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=$i(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function yd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Wu(t)))}function xA(t,i,a){switch(i.tag){case 3:me(i,i.stateNode.containerInfo),Rr(i,zt,t.memoizedState.cache),Wo();break;case 27:case 5:_e(i);break;case 4:me(i,i.stateNode.containerInfo);break;case 10:Rr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Nr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Fy(t,i,a):(Nr(i),t=nr(t,i,a),t!==null?t.sibling:null);Nr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Jo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Ky(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ue(qt,qt.current),l)break;return null;case 22:case 23:return i.lanes=0,jy(t,i,a);case 24:Rr(i,zt,t.memoizedState.cache)}return nr(t,i,a)}function Qy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Kt=!0;else{if(!yd(t,a)&&(i.flags&128)===0)return Kt=!1,xA(t,i,a);Kt=(t.flags&131072)!==0}else Kt=!1,We&&(i.flags&1048576)!==0&&Ag(i,Xu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Rf(l)?(t=Fs(l,t),i.tag=1,i=qy(null,i,l,t,a)):(i.tag=0,i=cd(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===X){i.tag=11,i=ky(null,i,l,t,a);break e}else if(h===x){i.tag=14,i=Ly(null,i,l,t,a);break e}}throw i=dt(l)||l,Error(s(306,i,""))}}return i;case 0:return cd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Fs(l,i.pendingProps),qy(t,i,l,h,a);case 3:e:{if(me(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Bf(t,i),al(i,l,null,a);var E=i.memoizedState;if(l=E.cache,Rr(i,zt,l),l!==d.cache&&Pf(i,[zt],a,!0),sl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Hy(t,i,l,a);break e}else if(l!==h){h=Gn(Error(s(424)),i),Zo(h),i=Hy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(At=si(t.firstChild),vn=i,We=!0,Us=null,bi=!0,a=wy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Wo(),l===h){i=nr(t,i,a);break e}Jt(t,i,l,a)}i=i.child}return i;case 26:return gc(t,i),t===null?(a=Wv(i.type,null,i.pendingProps,null))?i.memoizedState=a:We||(a=i.type,t=i.pendingProps,l=Nc(de.current).createElement(a),l[Ut]=i,l[Dt]=t,tn(l,a,t),wt(l),i.stateNode=l):i.memoizedState=Wv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return _e(i),t===null&&We&&(l=i.stateNode=Yv(i.type,i.pendingProps,de.current),vn=i,bi=!0,h=At,zr(i.type)?(Wd=h,At=si(l.firstChild)):At=h),Jt(t,i,i.pendingProps.children,a),gc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&We&&((h=l=At)&&(l=ib(l,i.type,i.pendingProps,bi),l!==null?(i.stateNode=l,vn=i,At=si(l.firstChild),bi=!1,h=!0):h=!1),h||js(i)),_e(i),h=i.type,d=i.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,Qd(h,d)?l=null:E!==null&&Qd(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=Kf(t,i,TA,null,null,a),Cl._currentValue=h),gc(t,i),Jt(t,i,l,a),i.child;case 6:return t===null&&We&&((t=a=At)&&(a=rb(a,i.pendingProps,bi),a!==null?(i.stateNode=a,vn=i,At=null,t=!0):t=!1),t||js(i)),null;case 13:return Fy(t,i,a);case 4:return me(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Va(i,null,l,a):Jt(t,i,l,a),i.child;case 11:return ky(t,i,i.type,i.pendingProps,a);case 7:return Jt(t,i,i.pendingProps,a),i.child;case 8:return Jt(t,i,i.pendingProps.children,a),i.child;case 12:return Jt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Rr(i,i.type,l.value),Jt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,zs(i),h=ln(h),l=l(h),i.flags|=1,Jt(t,i,l,a),i.child;case 14:return Ly(t,i,i.type,i.pendingProps,a);case 15:return Uy(t,i,i.type,i.pendingProps,a);case 19:return Ky(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=yc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=$i(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return jy(t,i,a);case 24:return zs(i),l=ln(zt),t===null?(h=Lf(),h===null&&(h=ft,d=Vf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},jf(i),Rr(i,zt,h)):((t.lanes&a)!==0&&(Bf(t,i),al(i,null,null,a),sl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Rr(i,zt,l)):(l=d.cache,Rr(i,zt,l),l!==h.cache&&Pf(i,[zt],a,!0))),Jt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ir(t){t.flags|=4}function Yy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!n_(i)){if(i=$n.current,i!==null&&((Ke&4194048)===Ke?wi!==null:(Ke&62914560)!==Ke&&(Ke&536870912)===0||i!==wi))throw il=Uf,Ng;t.flags|=8192}}function vc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Do():536870912,t.lanes|=i,ja|=i)}function dl(t,i){if(!We)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Tt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function DA(t,i,a){var l=i.pendingProps;switch(Df(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(i),null;case 1:return Tt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ji(zt),Ne(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Xo(i)?ir(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Rg())),Tt(i),null;case 26:return a=i.memoizedState,t===null?(ir(i),a!==null?(Tt(i),Yy(i,a)):(Tt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(ir(i),Tt(i),Yy(i,a)):(Tt(i),i.flags&=-16777217):(t.memoizedProps!==l&&ir(i),Tt(i),i.flags&=-16777217),null;case 27:mt(i),a=de.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ir(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Tt(i),null}t=ve.current,Xo(i)?bg(i):(t=Yv(h,l,a),i.stateNode=t,ir(i))}return Tt(i),null;case 5:if(mt(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ir(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Tt(i),null}if(t=ve.current,Xo(i))bg(i);else{switch(h=Nc(de.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Ut]=i,t[Dt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(tn(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ir(i)}}return Tt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ir(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=de.current,Xo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=vn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ut]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||zv(t.nodeValue,a)),t||js(i)}else t=Nc(t).createTextNode(l),t[Ut]=i,i.stateNode=t}return Tt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Xo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ut]=i}else Wo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Tt(i),h=!1}else h=Rg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(tr(i),i):(tr(i),null)}if(tr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),vc(i,i.updateQueue),Tt(i),null;case 4:return Ne(),t===null&&qd(i.stateNode.containerInfo),Tt(i),null;case 10:return Ji(i.type),Tt(i),null;case 19:if(he(qt),h=i.memoizedState,h===null)return Tt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)dl(h,!1);else{if(bt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=dc(t),d!==null){for(i.flags|=128,dl(h,!1),t=d.updateQueue,i.updateQueue=t,vc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Sg(a,t),a=a.sibling;return ue(qt,qt.current&1|2),i.child}t=t.sibling}h.tail!==null&&Et()>Tc&&(i.flags|=128,l=!0,dl(h,!1),i.lanes=4194304)}else{if(!l)if(t=dc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,vc(i,t),dl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!We)return Tt(i),null}else 2*Et()-h.renderingStartTime>Tc&&a!==536870912&&(i.flags|=128,l=!0,dl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Et(),i.sibling=null,t=qt.current,ue(qt,l?t&1|2:t&1),i):(Tt(i),null);case 22:case 23:return tr(i),Ff(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(Tt(i),i.subtreeFlags&6&&(i.flags|=8192)):Tt(i),a=i.updateQueue,a!==null&&vc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&he(qs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ji(zt),Tt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function NA(t,i){switch(Df(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ji(zt),Ne(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return mt(i),null;case 13:if(tr(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Wo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return he(qt),null;case 4:return Ne(),null;case 10:return Ji(i.type),null;case 22:case 23:return tr(i),Ff(),t!==null&&he(qs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ji(zt),null;case 25:return null;default:return null}}function $y(t,i){switch(Df(i),i.tag){case 3:Ji(zt),Ne();break;case 26:case 27:case 5:mt(i);break;case 4:Ne();break;case 13:tr(i);break;case 19:he(qt);break;case 10:Ji(i.type);break;case 22:case 23:tr(i),Ff(),t!==null&&he(qs);break;case 24:Ji(zt)}}function ml(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==h)}}catch(S){lt(i,i.return,S)}}function Mr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var E=l.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,h=i;var O=a,Y=S;try{Y()}catch(ne){lt(h,O,ne)}}}l=l.next}while(l!==d)}}catch(ne){lt(i,i.return,ne)}}function Xy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Lg(i,a)}catch(l){lt(t,t.return,l)}}}function Wy(t,i,a){a.props=Fs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){lt(t,i,l)}}function pl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){lt(t,i,h)}}function Ri(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){lt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){lt(t,i,h)}else a.current=null}function Zy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){lt(t,t.return,h)}}function vd(t,i,a){try{var l=t.stateNode;ZA(l,t.type,a,i),l[Dt]=i}catch(h){lt(t,t.return,h)}}function Jy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&zr(t.type)||t.tag===4}function _d(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&zr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ed(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Dc));else if(l!==4&&(l===27&&zr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Ed(t,i,a),t=t.sibling;t!==null;)Ed(t,i,a),t=t.sibling}function _c(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&zr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(_c(t,i,a),t=t.sibling;t!==null;)_c(t,i,a),t=t.sibling}function ev(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);tn(i,l,a),i[Ut]=t,i[Dt]=a}catch(d){lt(t,t.return,d)}}var rr=!1,It=!1,Td=!1,tv=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function OA(t,i){if(t=t.containerInfo,Gd=Lc,t=fg(t),_f(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,S=-1,O=-1,Y=0,ne=0,se=t,$=null;t:for(;;){for(var W;se!==a||h!==0&&se.nodeType!==3||(S=E+h),se!==d||l!==0&&se.nodeType!==3||(O=E+l),se.nodeType===3&&(E+=se.nodeValue.length),(W=se.firstChild)!==null;)$=se,se=W;for(;;){if(se===t)break t;if($===a&&++Y===h&&(S=E),$===d&&++ne===l&&(O=E),(W=se.nextSibling)!==null)break;se=$,$=se.parentNode}se=W}a=S===-1||O===-1?null:{start:S,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Kd={focusedElem:t,selectionRange:a},Lc=!1,Qt=i;Qt!==null;)if(i=Qt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Qt=t;else for(;Qt!==null;){switch(i=Qt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var xe=Fs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(xe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){lt(a,a.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)$d(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":$d(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Qt=t;break}Qt=i.return}}function nv(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Pr(t,a),l&4&&ml(5,a);break;case 1:if(Pr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(E){lt(a,a.return,E)}else{var h=Fs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){lt(a,a.return,E)}}l&64&&Xy(a),l&512&&pl(a,a.return);break;case 3:if(Pr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Lg(t,i)}catch(E){lt(a,a.return,E)}}break;case 27:i===null&&l&4&&ev(a);case 26:case 5:Pr(t,a),i===null&&l&4&&Zy(a),l&512&&pl(a,a.return);break;case 12:Pr(t,a);break;case 13:Pr(t,a),l&4&&sv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=zA.bind(null,a),sb(t,a))));break;case 22:if(l=a.memoizedState!==null||rr,!l){i=i!==null&&i.memoizedState!==null||It,h=rr;var d=It;rr=l,(It=i)&&!d?Vr(t,a,(a.subtreeFlags&8772)!==0):Pr(t,a),rr=h,It=d}break;case 30:break;default:Pr(t,a)}}function iv(t){var i=t.alternate;i!==null&&(t.alternate=null,iv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Sr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,Sn=!1;function sr(t,i,a){for(a=a.child;a!==null;)rv(t,i,a),a=a.sibling}function rv(t,i,a){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(ht,a)}catch{}switch(a.tag){case 26:It||Ri(a,i),sr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||Ri(a,i);var l=vt,h=Sn;zr(a.type)&&(vt=a.stateNode,Sn=!1),sr(t,i,a),bl(a.stateNode),vt=l,Sn=h;break;case 5:It||Ri(a,i);case 6:if(l=vt,h=Sn,vt=null,sr(t,i,a),vt=l,Sn=h,vt!==null)if(Sn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(a.stateNode)}catch(d){lt(a,i,d)}else try{vt.removeChild(a.stateNode)}catch(d){lt(a,i,d)}break;case 18:vt!==null&&(Sn?(t=vt,Kv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ol(t)):Kv(vt,a.stateNode));break;case 4:l=vt,h=Sn,vt=a.stateNode.containerInfo,Sn=!0,sr(t,i,a),vt=l,Sn=h;break;case 0:case 11:case 14:case 15:It||Mr(2,a,i),It||Mr(4,a,i),sr(t,i,a);break;case 1:It||(Ri(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Wy(a,i,l)),sr(t,i,a);break;case 21:sr(t,i,a);break;case 22:It=(l=It)||a.memoizedState!==null,sr(t,i,a),It=l;break;default:sr(t,i,a)}}function sv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ol(t)}catch(a){lt(i,i.return,a)}}function MA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new tv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new tv),i;default:throw Error(s(435,t.tag))}}function Sd(t,i){var a=MA(t);i.forEach(function(l){var h=qA.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Dn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,E=i,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(zr(S.type)){vt=S.stateNode,Sn=!1;break e}break;case 5:vt=S.stateNode,Sn=!1;break e;case 3:case 4:vt=S.stateNode.containerInfo,Sn=!0;break e}S=S.return}if(vt===null)throw Error(s(160));rv(d,E,h),vt=null,Sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)av(i,t),i=i.sibling}var ri=null;function av(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Dn(i,t),Nn(t),l&4&&(Mr(3,t,t.return),ml(3,t),Mr(5,t,t.return));break;case 1:Dn(i,t),Nn(t),l&512&&(It||a===null||Ri(a,a.return)),l&64&&rr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ri;if(Dn(i,t),Nn(t),l&512&&(It||a===null||Ri(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[_s]||d[Ut]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),tn(d,l,a),d[Ut]=t,wt(d),l=d;break e;case"link":var E=e_("link","href",h).get(l+(a.href||""));if(E){for(var S=0;S<E.length;S++)if(d=E[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(S,1);break t}}d=h.createElement(l),tn(d,l,a),h.head.appendChild(d);break;case"meta":if(E=e_("meta","content",h).get(l+(a.content||""))){for(S=0;S<E.length;S++)if(d=E[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(S,1);break t}}d=h.createElement(l),tn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ut]=t,wt(d),l=d}t.stateNode=l}else t_(h,t.type,t.stateNode);else t.stateNode=Jv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?t_(h,t.type,t.stateNode):Jv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&vd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Dn(i,t),Nn(t),l&512&&(It||a===null||Ri(a,a.return)),a!==null&&l&4&&vd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Dn(i,t),Nn(t),l&512&&(It||a===null||Ri(a,a.return)),t.flags&32){h=t.stateNode;try{zn(h,"")}catch(W){lt(t,t.return,W)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,vd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Td=!0);break;case 6:if(Dn(i,t),Nn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(W){lt(t,t.return,W)}}break;case 3:if(Pc=null,h=ri,ri=Oc(i.containerInfo),Dn(i,t),ri=h,Nn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ol(i.containerInfo)}catch(W){lt(t,t.return,W)}Td&&(Td=!1,ov(t));break;case 4:l=ri,ri=Oc(t.stateNode.containerInfo),Dn(i,t),Nn(t),ri=l;break;case 12:Dn(i,t),Nn(t);break;case 13:Dn(i,t),Nn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cd=Et()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sd(t,l)));break;case 22:h=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,Y=rr,ne=It;if(rr=Y||h,It=ne||O,Dn(i,t),It=ne,rr=Y,Nn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||O||rr||It||Gs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(d=O.stateNode,h)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=O.stateNode;var se=O.memoizedProps.style,$=se!=null&&se.hasOwnProperty("display")?se.display:null;S.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(W){lt(O,O.return,W)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(W){lt(O,O.return,W)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Sd(t,a))));break;case 19:Dn(i,t),Nn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sd(t,l)));break;case 30:break;case 21:break;default:Dn(i,t),Nn(t)}}function Nn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Jy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=_d(t);_c(t,d,h);break;case 5:var E=a.stateNode;a.flags&32&&(zn(E,""),a.flags&=-33);var S=_d(t);_c(t,S,E);break;case 3:case 4:var O=a.stateNode.containerInfo,Y=_d(t);Ed(t,Y,O);break;default:throw Error(s(161))}}catch(ne){lt(t,t.return,ne)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function ov(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;ov(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Pr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)nv(t,i.alternate,i),i=i.sibling}function Gs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Mr(4,i,i.return),Gs(i);break;case 1:Ri(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Wy(i,i.return,a),Gs(i);break;case 27:bl(i.stateNode);case 26:case 5:Ri(i,i.return),Gs(i);break;case 22:i.memoizedState===null&&Gs(i);break;case 30:Gs(i);break;default:Gs(i)}t=t.sibling}}function Vr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:Vr(h,d,a),ml(4,d);break;case 1:if(Vr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Y){lt(l,l.return,Y)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)kg(O[h],S)}catch(Y){lt(l,l.return,Y)}}a&&E&64&&Xy(d),pl(d,d.return);break;case 27:ev(d);case 26:case 5:Vr(h,d,a),a&&l===null&&E&4&&Zy(d),pl(d,d.return);break;case 12:Vr(h,d,a);break;case 13:Vr(h,d,a),a&&E&4&&sv(h,d);break;case 22:d.memoizedState===null&&Vr(h,d,a),pl(d,d.return);break;case 30:break;default:Vr(h,d,a)}i=i.sibling}}function Ad(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&el(a))}function bd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&el(t))}function Ii(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)lv(t,i,a,l),i=i.sibling}function lv(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ii(t,i,a,l),h&2048&&ml(9,i);break;case 1:Ii(t,i,a,l);break;case 3:Ii(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&el(t)));break;case 12:if(h&2048){Ii(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,E=d.id,S=d.onPostCommit;typeof S=="function"&&S(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){lt(i,i.return,O)}}else Ii(t,i,a,l);break;case 13:Ii(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,E=i.alternate,i.memoizedState!==null?d._visibility&2?Ii(t,i,a,l):gl(t,i):d._visibility&2?Ii(t,i,a,l):(d._visibility|=2,ka(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Ad(E,i);break;case 24:Ii(t,i,a,l),h&2048&&bd(i.alternate,i);break;default:Ii(t,i,a,l)}}function ka(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,E=i,S=a,O=l,Y=E.flags;switch(E.tag){case 0:case 11:case 15:ka(d,E,S,O,h),ml(8,E);break;case 23:break;case 22:var ne=E.stateNode;E.memoizedState!==null?ne._visibility&2?ka(d,E,S,O,h):gl(d,E):(ne._visibility|=2,ka(d,E,S,O,h)),h&&Y&2048&&Ad(E.alternate,E);break;case 24:ka(d,E,S,O,h),h&&Y&2048&&bd(E.alternate,E);break;default:ka(d,E,S,O,h)}i=i.sibling}}function gl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:gl(a,l),h&2048&&Ad(l.alternate,l);break;case 24:gl(a,l),h&2048&&bd(l.alternate,l);break;default:gl(a,l)}i=i.sibling}}var yl=8192;function La(t){if(t.subtreeFlags&yl)for(t=t.child;t!==null;)uv(t),t=t.sibling}function uv(t){switch(t.tag){case 26:La(t),t.flags&yl&&t.memoizedState!==null&&vb(ri,t.memoizedState,t.memoizedProps);break;case 5:La(t);break;case 3:case 4:var i=ri;ri=Oc(t.stateNode.containerInfo),La(t),ri=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=yl,yl=16777216,La(t),yl=i):La(t));break;default:La(t)}}function cv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function vl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Qt=l,fv(l,t)}cv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hv(t),t=t.sibling}function hv(t){switch(t.tag){case 0:case 11:case 15:vl(t),t.flags&2048&&Mr(9,t,t.return);break;case 3:vl(t);break;case 12:vl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Ec(t)):vl(t);break;default:vl(t)}}function Ec(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Qt=l,fv(l,t)}cv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Mr(8,i,i.return),Ec(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ec(i));break;default:Ec(i)}t=t.sibling}}function fv(t,i){for(;Qt!==null;){var a=Qt;switch(a.tag){case 0:case 11:case 15:Mr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:el(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Qt=l;else e:for(a=t;Qt!==null;){l=Qt;var h=l.sibling,d=l.return;if(iv(l),l===a){Qt=null;break e}if(h!==null){h.return=d,Qt=h;break e}Qt=d}}}var PA={getCacheForType:function(t){var i=ln(zt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},VA=typeof WeakMap=="function"?WeakMap:Map,tt=0,ft=null,je=null,Ke=0,nt=0,On=null,kr=!1,Ua=!1,wd=!1,ar=0,bt=0,Lr=0,Ks=0,Rd=0,Xn=0,ja=0,_l=null,An=null,Id=!1,Cd=0,Tc=1/0,Sc=null,Ur=null,en=0,jr=null,Ba=null,za=0,xd=0,Dd=null,dv=null,El=0,Nd=null;function Mn(){if((tt&2)!==0&&Ke!==0)return Ke&-Ke;if(ee.T!==null){var t=Ca;return t!==0?t:Ud()}return Er()}function mv(){Xn===0&&(Xn=(Ke&536870912)===0||We?xo():536870912);var t=$n.current;return t!==null&&(t.flags|=32),Xn}function Pn(t,i,a){(t===ft&&(nt===2||nt===9)||t.cancelPendingCommit!==null)&&(qa(t,0),Br(t,Ke,Xn,!1)),Ui(t,a),((tt&2)===0||t!==ft)&&(t===ft&&((tt&2)===0&&(Ks|=a),bt===4&&Br(t,Ke,Xn,!1)),Ci(t))}function pv(t,i,a){if((tt&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||vs(t,i),h=l?UA(t,i):Pd(t,i,!0),d=l;do{if(h===0){Ua&&!l&&Br(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!kA(a)){h=Pd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var S=t;h=_l;var O=S.current.memoizedState.isDehydrated;if(O&&(qa(S,E).flags|=256),E=Pd(S,E,!1),E!==2){if(wd&&!O){S.errorRecoveryDisabledLanes|=d,Ks|=d,h=4;break e}d=An,An=h,d!==null&&(An===null?An=d:An.push.apply(An,d))}h=E}if(d=!1,h!==2)continue}}if(h===1){qa(t,0),Br(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Br(l,i,Xn,!kr);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Cd+300-Et(),10<h)){if(Br(l,i,Xn,!kr),sa(l,0,!0)!==0)break e;l.timeoutHandle=Fv(gv.bind(null,l,a,An,Sc,Id,i,Xn,Ks,ja,kr,d,2,-0,0),h);break e}gv(l,a,An,Sc,Id,i,Xn,Ks,ja,kr,d,0,-0,0)}}break}while(!0);Ci(t)}function gv(t,i,a,l,h,d,E,S,O,Y,ne,se,$,W){if(t.timeoutHandle=-1,se=i.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(Il={stylesheets:null,count:0,unsuspend:yb},uv(i),se=_b(),se!==null)){t.cancelPendingCommit=se(Av.bind(null,t,i,d,a,l,h,E,S,O,ne,1,$,W)),Br(t,d,E,!Y);return}Av(t,i,d,a,l,h,E,S,O)}function kA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Cn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Br(t,i,a,l){i&=~Rd,i&=~Ks,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-xt(h),E=1<<d;l[d]=-1,h&=~E}a!==0&&di(t,a,i)}function Ac(){return(tt&6)===0?(Tl(0),!1):!0}function Od(){if(je!==null){if(nt===0)var t=je.return;else t=je,Zi=Bs=null,$f(t),Pa=null,hl=0,t=je;for(;t!==null;)$y(t.alternate,t),t=t.return;je=null}}function qa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,eb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Od(),ft=t,je=a=$i(t.current,null),Ke=i,nt=0,On=null,kr=!1,Ua=vs(t,i),wd=!1,ja=Xn=Rd=Ks=Lr=bt=0,An=_l=null,Id=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-xt(l),d=1<<h;i|=t[h],l&=~d}return ar=i,Gu(),a}function yv(t,i){Ve=null,ee.H=cc,i===nl||i===ec?(i=Pg(),nt=3):i===Ng?(i=Pg(),nt=4):nt=i===Vy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,On=i,je===null&&(bt=1,pc(t,Gn(i,t.current)))}function vv(){var t=ee.H;return ee.H=cc,t===null?cc:t}function _v(){var t=ee.A;return ee.A=PA,t}function Md(){bt=4,kr||(Ke&4194048)!==Ke&&$n.current!==null||(Ua=!0),(Lr&134217727)===0&&(Ks&134217727)===0||ft===null||Br(ft,Ke,Xn,!1)}function Pd(t,i,a){var l=tt;tt|=2;var h=vv(),d=_v();(ft!==t||Ke!==i)&&(Sc=null,qa(t,i)),i=!1;var E=bt;e:do try{if(nt!==0&&je!==null){var S=je,O=On;switch(nt){case 8:Od(),E=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(i=!0);var Y=nt;if(nt=0,On=null,Ha(t,S,O,Y),a&&Ua){E=0;break e}break;default:Y=nt,nt=0,On=null,Ha(t,S,O,Y)}}LA(),E=bt;break}catch(ne){yv(t,ne)}while(!0);return i&&t.shellSuspendCounter++,Zi=Bs=null,tt=l,ee.H=h,ee.A=d,je===null&&(ft=null,Ke=0,Gu()),E}function LA(){for(;je!==null;)Ev(je)}function UA(t,i){var a=tt;tt|=2;var l=vv(),h=_v();ft!==t||Ke!==i?(Sc=null,Tc=Et()+500,qa(t,i)):Ua=vs(t,i);e:do try{if(nt!==0&&je!==null){i=je;var d=On;t:switch(nt){case 1:nt=0,On=null,Ha(t,i,d,1);break;case 2:case 9:if(Og(d)){nt=0,On=null,Tv(i);break}i=function(){nt!==2&&nt!==9||ft!==t||(nt=7),Ci(t)},d.then(i,i);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:Og(d)?(nt=0,On=null,Tv(i)):(nt=0,On=null,Ha(t,i,d,7));break;case 5:var E=null;switch(je.tag){case 26:E=je.memoizedState;case 5:case 27:var S=je;if(!E||n_(E)){nt=0,On=null;var O=S.sibling;if(O!==null)je=O;else{var Y=S.return;Y!==null?(je=Y,bc(Y)):je=null}break t}}nt=0,On=null,Ha(t,i,d,5);break;case 6:nt=0,On=null,Ha(t,i,d,6);break;case 8:Od(),bt=6;break e;default:throw Error(s(462))}}jA();break}catch(ne){yv(t,ne)}while(!0);return Zi=Bs=null,ee.H=l,ee.A=h,tt=a,je!==null?0:(ft=null,Ke=0,Gu(),bt)}function jA(){for(;je!==null&&!Rn();)Ev(je)}function Ev(t){var i=Qy(t.alternate,t,ar);t.memoizedProps=t.pendingProps,i===null?bc(t):je=i}function Tv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=zy(a,i,i.pendingProps,i.type,void 0,Ke);break;case 11:i=zy(a,i,i.pendingProps,i.type.render,i.ref,Ke);break;case 5:$f(i);default:$y(a,i),i=je=Sg(i,ar),i=Qy(a,i,ar)}t.memoizedProps=t.pendingProps,i===null?bc(t):je=i}function Ha(t,i,a,l){Zi=Bs=null,$f(i),Pa=null,hl=0;var h=i.return;try{if(CA(t,h,i,a,Ke)){bt=1,pc(t,Gn(a,t.current)),je=null;return}}catch(d){if(h!==null)throw je=h,d;bt=1,pc(t,Gn(a,t.current)),je=null;return}i.flags&32768?(We||l===1?t=!0:Ua||(Ke&536870912)!==0?t=!1:(kr=t=!0,(l===2||l===9||l===3||l===6)&&(l=$n.current,l!==null&&l.tag===13&&(l.flags|=16384))),Sv(i,t)):bc(i)}function bc(t){var i=t;do{if((i.flags&32768)!==0){Sv(i,kr);return}t=i.return;var a=DA(i.alternate,i,ar);if(a!==null){je=a;return}if(i=i.sibling,i!==null){je=i;return}je=i=t}while(i!==null);bt===0&&(bt=5)}function Sv(t,i){do{var a=NA(t.alternate,t);if(a!==null){a.flags&=32767,je=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){je=t;return}je=t=a}while(t!==null);bt=6,je=null}function Av(t,i,a,l,h,d,E,S,O){t.cancelPendingCommit=null;do wc();while(en!==0);if((tt&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=bf,No(t,a,d,E,S,O),t===ft&&(je=ft=null,Ke=0),Ba=i,jr=t,za=a,xd=d,Dd=h,dv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,HA(on,function(){return Cv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=ee.T,ee.T=null,h=te.p,te.p=2,E=tt,tt|=4;try{OA(t,i,a)}finally{tt=E,te.p=h,ee.T=l}}en=1,bv(),wv(),Rv()}}function bv(){if(en===1){en=0;var t=jr,i=Ba,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=ee.T,ee.T=null;var l=te.p;te.p=2;var h=tt;tt|=4;try{av(i,t);var d=Kd,E=fg(t.containerInfo),S=d.focusedElem,O=d.selectionRange;if(E!==S&&S&&S.ownerDocument&&hg(S.ownerDocument.documentElement,S)){if(O!==null&&_f(S)){var Y=O.start,ne=O.end;if(ne===void 0&&(ne=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(ne,S.value.length);else{var se=S.ownerDocument||document,$=se&&se.defaultView||window;if($.getSelection){var W=$.getSelection(),xe=S.textContent.length,Ae=Math.min(O.start,xe),at=O.end===void 0?Ae:Math.min(O.end,xe);!W.extend&&Ae>at&&(E=at,at=Ae,Ae=E);var q=cg(S,Ae),j=cg(S,at);if(q&&j&&(W.rangeCount!==1||W.anchorNode!==q.node||W.anchorOffset!==q.offset||W.focusNode!==j.node||W.focusOffset!==j.offset)){var K=se.createRange();K.setStart(q.node,q.offset),W.removeAllRanges(),Ae>at?(W.addRange(K),W.extend(j.node,j.offset)):(K.setEnd(j.node,j.offset),W.addRange(K))}}}}for(se=[],W=S;W=W.parentNode;)W.nodeType===1&&se.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<se.length;S++){var ie=se[S];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Lc=!!Gd,Kd=Gd=null}finally{tt=h,te.p=l,ee.T=a}}t.current=i,en=2}}function wv(){if(en===2){en=0;var t=jr,i=Ba,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=ee.T,ee.T=null;var l=te.p;te.p=2;var h=tt;tt|=4;try{nv(t,i.alternate,i)}finally{tt=h,te.p=l,ee.T=a}}en=3}}function Rv(){if(en===4||en===3){en=0,an();var t=jr,i=Ba,a=za,l=dv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?en=5:(en=0,Ba=jr=null,Iv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ur=null),aa(a),i=i.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(ht,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=ee.T,h=te.p,te.p=2,ee.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var S=l[E];d(S.value,{componentStack:S.stack})}}finally{ee.T=i,te.p=h}}(za&3)!==0&&wc(),Ci(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Nd?El++:(El=0,Nd=t):El=0,Tl(0)}}function Iv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,el(i)))}function wc(t){return bv(),wv(),Rv(),Cv()}function Cv(){if(en!==5)return!1;var t=jr,i=xd;xd=0;var a=aa(za),l=ee.T,h=te.p;try{te.p=32>a?32:a,ee.T=null,a=Dd,Dd=null;var d=jr,E=za;if(en=0,Ba=jr=null,za=0,(tt&6)!==0)throw Error(s(331));var S=tt;if(tt|=4,hv(d.current),lv(d,d.current,E,a),tt=S,Tl(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(ht,d)}catch{}return!0}finally{te.p=h,ee.T=l,Iv(t,i)}}function xv(t,i,a){i=Gn(a,i),i=ud(t.stateNode,i,2),t=xr(t,i,2),t!==null&&(Ui(t,2),Ci(t))}function lt(t,i,a){if(t.tag===3)xv(t,t,a);else for(;i!==null;){if(i.tag===3){xv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ur===null||!Ur.has(l))){t=Gn(a,t),a=My(2),l=xr(i,a,2),l!==null&&(Py(a,l,i,t),Ui(l,2),Ci(l));break}}i=i.return}}function Vd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new VA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(wd=!0,h.add(a),t=BA.bind(null,t,i,a),i.then(t,t))}function BA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ft===t&&(Ke&a)===a&&(bt===4||bt===3&&(Ke&62914560)===Ke&&300>Et()-Cd?(tt&2)===0&&qa(t,0):Rd|=a,ja===Ke&&(ja=0)),Ci(t)}function Dv(t,i){i===0&&(i=Do()),t=ba(t,i),t!==null&&(Ui(t,i),Ci(t))}function zA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Dv(t,a)}function qA(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Dv(t,a)}function HA(t,i){return ot(t,i)}var Rc=null,Fa=null,kd=!1,Ic=!1,Ld=!1,Qs=0;function Ci(t){t!==Fa&&t.next===null&&(Fa===null?Rc=Fa=t:Fa=Fa.next=t),Ic=!0,kd||(kd=!0,GA())}function Tl(t,i){if(!Ld&&Ic){Ld=!0;do for(var a=!1,l=Rc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-xt(42|t)+1)-1,d&=h&~(E&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Pv(l,d))}else d=Ke,d=sa(l,l===ft?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||vs(l,d)||(a=!0,Pv(l,d));l=l.next}while(a);Ld=!1}}function FA(){Nv()}function Nv(){Ic=kd=!1;var t=0;Qs!==0&&(JA()&&(t=Qs),Qs=0);for(var i=Et(),a=null,l=Rc;l!==null;){var h=l.next,d=Ov(l,i);d===0?(l.next=null,a===null?Rc=h:a.next=h,h===null&&(Fa=a)):(a=l,(t!==0||(d&3)!==0)&&(Ic=!0)),l=h}Tl(t)}function Ov(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-xt(d),S=1<<E,O=h[E];O===-1?((S&a)===0||(S&l)!==0)&&(h[E]=Co(S,i)):O<=i&&(t.expiredLanes|=S),d&=~S}if(i=ft,a=Ke,a=sa(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(nt===2||nt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ct(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||vs(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&ct(l),aa(a)){case 2:case 8:a=Un;break;case 32:a=on;break;case 268435456:a=ze;break;default:a=on}return l=Mv.bind(null,t),a=ot(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&ct(l),t.callbackPriority=2,t.callbackNode=null,2}function Mv(t,i){if(en!==0&&en!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(wc()&&t.callbackNode!==a)return null;var l=Ke;return l=sa(t,t===ft?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(pv(t,l,i),Ov(t,Et()),t.callbackNode!=null&&t.callbackNode===a?Mv.bind(null,t):null)}function Pv(t,i){if(wc())return null;pv(t,i,!0)}function GA(){tb(function(){(tt&6)!==0?ot(En,FA):Nv()})}function Ud(){return Qs===0&&(Qs=xo()),Qs}function Vv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:fa(""+t)}function kv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function KA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Vv((h[Dt]||null).action),E=l.submitter;E&&(i=(i=E[Dt]||null)?Vv(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var S=new da("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qs!==0){var O=E?kv(h,E):new FormData(h);rd(a,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(S.preventDefault(),O=E?kv(h,E):new FormData(h),rd(a,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var jd=0;jd<Af.length;jd++){var Bd=Af[jd],QA=Bd.toLowerCase(),YA=Bd[0].toUpperCase()+Bd.slice(1);ii(QA,"on"+YA)}ii(pg,"onAnimationEnd"),ii(gg,"onAnimationIteration"),ii(yg,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(hA,"onTransitionRun"),ii(fA,"onTransitionStart"),ii(dA,"onTransitionCancel"),ii(vg,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$A=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function Lv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var S=l[E],O=S.instance,Y=S.currentTarget;if(S=S.listener,O!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=Y;try{d(h)}catch(ne){mc(ne)}h.currentTarget=null,d=O}else for(E=0;E<l.length;E++){if(S=l[E],O=S.instance,Y=S.currentTarget,S=S.listener,O!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=Y;try{d(h)}catch(ne){mc(ne)}h.currentTarget=null,d=O}}}}function Be(t,i){var a=i[Mo];a===void 0&&(a=i[Mo]=new Set);var l=t+"__bubble";a.has(l)||(Uv(i,t,2,!1),a.add(l))}function zd(t,i,a){var l=0;i&&(l|=4),Uv(a,t,l,i)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function qd(t){if(!t[Cc]){t[Cc]=!0,Po.forEach(function(a){a!=="selectionchange"&&($A.has(a)||zd(a,!1,t),zd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Cc]||(i[Cc]=!0,zd("selectionchange",!1,i))}}function Uv(t,i,a,l){switch(l_(i)){case 2:var h=Sb;break;case 8:h=Ab;break;default:h=nm}a=h.bind(null,i,a,t),h=void 0,!Hn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Hd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var S=l.stateNode.containerInfo;if(S===h)break;if(E===4)for(E=l.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;S!==null;){if(E=ji(S),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){l=d=E;continue e}S=S.parentNode}}l=l.return}Du(function(){var Y=d,ne=qn(a),se=[];e:{var $=_g.get(t);if($!==void 0){var W=da,xe=t;switch(t){case"keypress":if(_i(a)===0)break e;case"keydown":case"keyup":W=_a;break;case"focusin":xe="focus",W=ga;break;case"focusout":xe="blur",W=ga;break;case"beforeblur":case"afterblur":W=ga;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Uu;break;case pg:case gg:case yg:W=ya;break;case vg:W=Bu;break;case"scroll":case"scrollend":W=Nu;break;case"wheel":W=Ea;break;case"copy":case"cut":case"paste":W=va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Ko;break;case"toggle":case"beforetoggle":W=qu}var Ae=(i&4)!==0,at=!Ae&&(t==="scroll"||t==="scrollend"),q=Ae?$!==null?$+"Capture":null:$;Ae=[];for(var j=Y,K;j!==null;){var ie=j;if(K=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||K===null||q===null||(ie=Rs(j,q),ie!=null&&Ae.push(Al(j,ie,K))),at)break;j=j.return}0<Ae.length&&($=new W($,xe,null,a,ne),se.push({event:$,listeners:Ae}))}}if((i&7)===0){e:{if($=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",$&&a!==Hi&&(xe=a.relatedTarget||a.fromElement)&&(ji(xe)||xe[Bn]))break e;if((W||$)&&($=ne.window===ne?ne:($=ne.ownerDocument)?$.defaultView||$.parentWindow:window,W?(xe=a.relatedTarget||a.toElement,W=Y,xe=xe?ji(xe):null,xe!==null&&(at=u(xe),Ae=xe.tag,xe!==at||Ae!==5&&Ae!==27&&Ae!==6)&&(xe=null)):(W=null,xe=Y),W!==xe)){if(Ae=Fn,ie="onMouseLeave",q="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=Ko,ie="onPointerLeave",q="onPointerEnter",j="pointer"),at=W==null?$:pi(W),K=xe==null?$:pi(xe),$=new Ae(ie,j+"leave",W,a,ne),$.target=at,$.relatedTarget=K,ie=null,ji(ne)===Y&&(Ae=new Ae(q,j+"enter",xe,a,ne),Ae.target=K,Ae.relatedTarget=at,ie=Ae),at=ie,W&&xe)t:{for(Ae=W,q=xe,j=0,K=Ae;K;K=Ga(K))j++;for(K=0,ie=q;ie;ie=Ga(ie))K++;for(;0<j-K;)Ae=Ga(Ae),j--;for(;0<K-j;)q=Ga(q),K--;for(;j--;){if(Ae===q||q!==null&&Ae===q.alternate)break t;Ae=Ga(Ae),q=Ga(q)}Ae=null}else Ae=null;W!==null&&jv(se,$,W,Ae,!1),xe!==null&&at!==null&&jv(se,at,xe,Ae,!0)}}e:{if($=Y?pi(Y):window,W=$.nodeName&&$.nodeName.toLowerCase(),W==="select"||W==="input"&&$.type==="file")var ye=rg;else if(Bt($))if(sg)ye=lA;else{ye=aA;var Le=sA}else W=$.nodeName,!W||W.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Y&&jo(Y.elementType)&&(ye=rg):ye=oA;if(ye&&(ye=ye(t,Y))){Yi(se,ye,a,ne);break e}Le&&Le(t,$,Y),t==="focusout"&&Y&&$.type==="number"&&Y.memoizedProps.value!=null&&br($,"number",$.value)}switch(Le=Y?pi(Y):window,t){case"focusin":(Bt(Le)||Le.contentEditable==="true")&&(Ta=Le,Ef=Y,$o=null);break;case"focusout":$o=Ef=Ta=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,dg(se,a,ne);break;case"selectionchange":if(cA)break;case"keydown":case"keyup":dg(se,a,ne)}var Ee;if(Si)e:{switch(t){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Fe?J(t,a)&&(be="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(v&&a.locale!=="ko"&&(Fe||be!=="onCompositionStart"?be==="onCompositionEnd"&&Fe&&(Ee=zo()):(vi=ne,wr="value"in vi?vi.value:vi.textContent,Fe=!0)),Le=xc(Y,be),0<Le.length&&(be=new Fo(be,t,null,a,ne),se.push({event:be,listeners:Le}),Ee?be.data=Ee:(Ee=fe(a),Ee!==null&&(be.data=Ee)))),(Ee=y?jt(t,a):Ge(t,a))&&(be=xc(Y,"onBeforeInput"),0<be.length&&(Le=new Fo("onBeforeInput","beforeinput",null,a,ne),se.push({event:Le,listeners:be}),Le.data=Ee)),KA(se,t,Y,a,ne)}Lv(se,i)})}function Al(t,i,a){return{instance:t,listener:i,currentTarget:a}}function xc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Rs(t,a),h!=null&&l.unshift(Al(t,h,d)),h=Rs(t,i),h!=null&&l.push(Al(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Ga(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function jv(t,i,a,l,h){for(var d=i._reactName,E=[];a!==null&&a!==l;){var S=a,O=S.alternate,Y=S.stateNode;if(S=S.tag,O!==null&&O===l)break;S!==5&&S!==26&&S!==27||Y===null||(O=Y,h?(Y=Rs(a,d),Y!=null&&E.unshift(Al(a,Y,O))):h||(Y=Rs(a,d),Y!=null&&E.push(Al(a,Y,O)))),a=a.return}E.length!==0&&t.push({event:i,listeners:E})}var XA=/\r\n?/g,WA=/\u0000|\uFFFD/g;function Bv(t){return(typeof t=="string"?t:""+t).replace(XA,`
`).replace(WA,"")}function zv(t,i){return i=Bv(i),Bv(t)===i}function Dc(){}function st(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||zn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&zn(t,""+l);break;case"className":gi(t,"class",l);break;case"tabIndex":gi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gi(t,a,l);break;case"style":Uo(t,l,d);break;case"data":if(i!=="object"){gi(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=fa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&st(t,i,"name",h.name,h,null),st(t,i,"formEncType",h.formEncType,h,null),st(t,i,"formMethod",h.formMethod,h,null),st(t,i,"formTarget",h.formTarget,h,null)):(st(t,i,"encType",h.encType,h,null),st(t,i,"method",h.method,h,null),st(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=fa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Dc);break;case"onScroll":l!=null&&Be("scroll",t);break;case"onScrollEnd":l!=null&&Be("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=fa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Be("beforetoggle",t),Be("toggle",t),Ar(t,"popover",l);break;case"xlinkActuate":Wt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Wt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Wt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Wt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Wt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Wt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Wt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Wt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Wt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ar(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=df.get(a)||a,Ar(t,a,l))}}function Fd(t,i,a,l,h,d){switch(a){case"style":Uo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?zn(t,l):(typeof l=="number"||typeof l=="bigint")&&zn(t,""+l);break;case"onScroll":l!=null&&Be("scroll",t);break;case"onScrollEnd":l!=null&&Be("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Dc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Dt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ar(t,a,l)}}}function tn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",t),Be("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:st(t,i,d,E,a,null)}}h&&st(t,i,"srcSet",a.srcSet,a,null),l&&st(t,i,"src",a.src,a,null);return;case"input":Be("invalid",t);var S=d=E=h=null,O=null,Y=null;for(l in a)if(a.hasOwnProperty(l)){var ne=a[l];if(ne!=null)switch(l){case"name":h=ne;break;case"type":E=ne;break;case"checked":O=ne;break;case"defaultChecked":Y=ne;break;case"value":d=ne;break;case"defaultValue":S=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,i));break;default:st(t,i,l,ne,a,null)}}As(t,d,S,O,Y,E,h,!1),ha(t);return;case"select":Be("invalid",t),l=E=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":E=S;break;case"multiple":l=S;default:st(t,i,h,S,a,null)}i=d,a=E,t.multiple=!!l,i!=null?qi(t,!!l,i,!1):a!=null&&qi(t,!!l,a,!0);return;case"textarea":Be("invalid",t),d=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(S=a[E],S!=null))switch(E){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:st(t,i,E,S,a,null)}bs(t,l,h,d),ha(t);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:st(t,i,O,l,a,null)}return;case"dialog":Be("beforetoggle",t),Be("toggle",t),Be("cancel",t),Be("close",t);break;case"iframe":case"object":Be("load",t);break;case"video":case"audio":for(l=0;l<Sl.length;l++)Be(Sl[l],t);break;case"image":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"embed":case"source":case"link":Be("error",t),Be("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in a)if(a.hasOwnProperty(Y)&&(l=a[Y],l!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:st(t,i,Y,l,a,null)}return;default:if(jo(i)){for(ne in a)a.hasOwnProperty(ne)&&(l=a[ne],l!==void 0&&Fd(t,i,ne,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&st(t,i,S,l,a,null))}function ZA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,S=null,O=null,Y=null,ne=null;for(W in a){var se=a[W];if(a.hasOwnProperty(W)&&se!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":O=se;default:l.hasOwnProperty(W)||st(t,i,W,null,l,se)}}for(var $ in l){var W=l[$];if(se=a[$],l.hasOwnProperty($)&&(W!=null||se!=null))switch($){case"type":d=W;break;case"name":h=W;break;case"checked":Y=W;break;case"defaultChecked":ne=W;break;case"value":E=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:W!==se&&st(t,i,$,W,l,se)}}In(t,E,S,O,Y,ne,d,h);return;case"select":W=E=S=$=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":W=O;default:l.hasOwnProperty(d)||st(t,i,d,null,l,O)}for(h in l)if(d=l[h],O=a[h],l.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":$=d;break;case"defaultValue":S=d;break;case"multiple":E=d;default:d!==O&&st(t,i,h,d,l,O)}i=S,a=E,l=W,$!=null?qi(t,!!a,$,!1):!!l!=!!a&&(i!=null?qi(t,!!a,i,!0):qi(t,!!a,a?[]:"",!1));return;case"textarea":W=$=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:st(t,i,S,null,l,h)}for(E in l)if(h=l[E],d=a[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":$=h;break;case"defaultValue":W=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&st(t,i,E,h,l,d)}it(t,$,W);return;case"option":for(var xe in a)if($=a[xe],a.hasOwnProperty(xe)&&$!=null&&!l.hasOwnProperty(xe))switch(xe){case"selected":t.selected=!1;break;default:st(t,i,xe,null,l,$)}for(O in l)if($=l[O],W=a[O],l.hasOwnProperty(O)&&$!==W&&($!=null||W!=null))switch(O){case"selected":t.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:st(t,i,O,$,l,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)$=a[Ae],a.hasOwnProperty(Ae)&&$!=null&&!l.hasOwnProperty(Ae)&&st(t,i,Ae,null,l,$);for(Y in l)if($=l[Y],W=a[Y],l.hasOwnProperty(Y)&&$!==W&&($!=null||W!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:st(t,i,Y,$,l,W)}return;default:if(jo(i)){for(var at in a)$=a[at],a.hasOwnProperty(at)&&$!==void 0&&!l.hasOwnProperty(at)&&Fd(t,i,at,void 0,l,$);for(ne in l)$=l[ne],W=a[ne],!l.hasOwnProperty(ne)||$===W||$===void 0&&W===void 0||Fd(t,i,ne,$,l,W);return}}for(var q in a)$=a[q],a.hasOwnProperty(q)&&$!=null&&!l.hasOwnProperty(q)&&st(t,i,q,null,l,$);for(se in l)$=l[se],W=a[se],!l.hasOwnProperty(se)||$===W||$==null&&W==null||st(t,i,se,$,l,W)}var Gd=null,Kd=null;function Nc(t){return t.nodeType===9?t:t.ownerDocument}function qv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Qd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Yd=null;function JA(){var t=window.event;return t&&t.type==="popstate"?t===Yd?!1:(Yd=t,!0):(Yd=null,!1)}var Fv=typeof setTimeout=="function"?setTimeout:void 0,eb=typeof clearTimeout=="function"?clearTimeout:void 0,Gv=typeof Promise=="function"?Promise:void 0,tb=typeof queueMicrotask=="function"?queueMicrotask:typeof Gv<"u"?function(t){return Gv.resolve(null).then(t).catch(nb)}:Fv;function nb(t){setTimeout(function(){throw t})}function zr(t){return t==="head"}function Kv(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=t.ownerDocument;if(a&1&&bl(E.documentElement),a&2&&bl(E.body),a&4)for(a=E.head,bl(a),E=a.firstChild;E;){var S=E.nextSibling,O=E.nodeName;E[_s]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=S}}if(h===0){t.removeChild(d),Ol(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Ol(i)}function $d(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":$d(a),Sr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function ib(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[_s])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=si(t.nextSibling),t===null)break}return null}function rb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=si(t.nextSibling),t===null))return null;return t}function Xd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function sb(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function si(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Wd=null;function Qv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Yv(t,i,a){switch(i=Nc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function bl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Sr(t)}var Wn=new Map,$v=new Set;function Oc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var or=te.d;te.d={f:ab,r:ob,D:lb,C:ub,L:cb,m:hb,X:db,S:fb,M:mb};function ab(){var t=or.f(),i=Ac();return t||i}function ob(t){var i=mi(t);i!==null&&i.tag===5&&i.type==="form"?py(i):or.r(t)}var Ka=typeof document>"u"?null:document;function Xv(t,i,a){var l=Ka;if(l&&typeof i=="string"&&i){var h=Nt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),$v.has(h)||($v.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),tn(i,"link",t),wt(i),l.head.appendChild(i)))}}function lb(t){or.D(t),Xv("dns-prefetch",t,null)}function ub(t,i){or.C(t,i),Xv("preconnect",t,i)}function cb(t,i,a){or.L(t,i,a);var l=Ka;if(l&&t&&i){var h='link[rel="preload"][as="'+Nt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Nt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Nt(a.imageSizes)+'"]')):h+='[href="'+Nt(t)+'"]';var d=h;switch(i){case"style":d=Qa(t);break;case"script":d=Ya(t)}Wn.has(d)||(t=_({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Wn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(wl(d))||i==="script"&&l.querySelector(Rl(d))||(i=l.createElement("link"),tn(i,"link",t),wt(i),l.head.appendChild(i)))}}function hb(t,i){or.m(t,i);var a=Ka;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Nt(l)+'"][href="'+Nt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ya(t)}if(!Wn.has(d)&&(t=_({rel:"modulepreload",href:t},i),Wn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Rl(d)))return}l=a.createElement("link"),tn(l,"link",t),wt(l),a.head.appendChild(l)}}}function fb(t,i,a){or.S(t,i,a);var l=Ka;if(l&&t){var h=pn(l).hoistableStyles,d=Qa(t);i=i||"default";var E=h.get(d);if(!E){var S={loading:0,preload:null};if(E=l.querySelector(wl(d)))S.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Wn.get(d))&&Zd(t,a);var O=E=l.createElement("link");wt(O),tn(O,"link",t),O._p=new Promise(function(Y,ne){O.onload=Y,O.onerror=ne}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Mc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:S},h.set(d,E)}}}function db(t,i){or.X(t,i);var a=Ka;if(a&&t){var l=pn(a).hoistableScripts,h=Ya(t),d=l.get(h);d||(d=a.querySelector(Rl(h)),d||(t=_({src:t,async:!0},i),(i=Wn.get(h))&&Jd(t,i),d=a.createElement("script"),wt(d),tn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function mb(t,i){or.M(t,i);var a=Ka;if(a&&t){var l=pn(a).hoistableScripts,h=Ya(t),d=l.get(h);d||(d=a.querySelector(Rl(h)),d||(t=_({src:t,async:!0,type:"module"},i),(i=Wn.get(h))&&Jd(t,i),d=a.createElement("script"),wt(d),tn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Wv(t,i,a,l){var h=(h=de.current)?Oc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Qa(a.href),a=pn(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Qa(a.href);var d=pn(h).hoistableStyles,E=d.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=h.querySelector(wl(t)))&&!d._p&&(E.instance=d,E.state.loading=5),Wn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Wn.set(t,a),d||pb(h,t,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ya(a),a=pn(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Qa(t){return'href="'+Nt(t)+'"'}function wl(t){return'link[rel="stylesheet"]['+t+"]"}function Zv(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function pb(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),tn(i,"link",a),wt(i),t.head.appendChild(i))}function Ya(t){return'[src="'+Nt(t)+'"]'}function Rl(t){return"script[async]"+t}function Jv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Nt(a.href)+'"]');if(l)return i.instance=l,wt(l),l;var h=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),wt(l),tn(l,"style",h),Mc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Qa(a.href);var d=t.querySelector(wl(h));if(d)return i.state.loading|=4,i.instance=d,wt(d),d;l=Zv(a),(h=Wn.get(h))&&Zd(l,h),d=(t.ownerDocument||t).createElement("link"),wt(d);var E=d;return E._p=new Promise(function(S,O){E.onload=S,E.onerror=O}),tn(d,"link",l),i.state.loading|=4,Mc(d,a.precedence,t),i.instance=d;case"script":return d=Ya(a.src),(h=t.querySelector(Rl(d)))?(i.instance=h,wt(h),h):(l=a,(h=Wn.get(d))&&(l=_({},a),Jd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),wt(h),tn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Mc(l,a.precedence,t));return i.instance}function Mc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var S=l[E];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Zd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Jd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Pc=null;function e_(t,i,a){if(Pc===null){var l=new Map,h=Pc=new Map;h.set(a,l)}else h=Pc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[_s]||d[Ut]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=t+E;var S=l.get(E);S?S.push(d):l.set(E,[d])}}return l}function t_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function gb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function n_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Il=null;function yb(){}function vb(t,i,a){if(Il===null)throw Error(s(475));var l=Il;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Qa(a.href),d=t.querySelector(wl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Vc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,wt(d);return}d=t.ownerDocument||t,a=Zv(a),(h=Wn.get(h))&&Zd(a,h),d=d.createElement("link"),wt(d);var E=d;E._p=new Promise(function(S,O){E.onload=S,E.onerror=O}),tn(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Vc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function _b(){if(Il===null)throw Error(s(475));var t=Il;return t.stylesheets&&t.count===0&&em(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&em(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Vc(){if(this.count--,this.count===0){if(this.stylesheets)em(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var kc=null;function em(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,kc=new Map,i.forEach(Eb,t),kc=null,Vc.call(t))}function Eb(t,i){if(!(i.state.loading&4)){var a=kc.get(t);if(a)var l=a.get(null);else{a=new Map,kc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,h),a.set(E,h),this.count++,l=Vc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Cl={$$typeof:Q,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function Tb(t,i,a,l,h,d,E,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Li(0),this.hiddenUpdates=Li(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function i_(t,i,a,l,h,d,E,S,O,Y,ne,se){return t=new Tb(t,i,a,E,S,O,Y,se),i=1,d===!0&&(i|=24),d=xn(3,null,null,i),t.current=d,d.stateNode=t,i=Vf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},jf(d),t}function r_(t){return t?(t=wa,t):wa}function s_(t,i,a,l,h,d){h=r_(h),l.context===null?l.context=h:l.pendingContext=h,l=Cr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=xr(t,l,i),a!==null&&(Pn(a,t,i),rl(a,t,i))}function a_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function tm(t,i){a_(t,i),(t=t.alternate)&&a_(t,i)}function o_(t){if(t.tag===13){var i=ba(t,67108864);i!==null&&Pn(i,t,67108864),tm(t,67108864)}}var Lc=!0;function Sb(t,i,a,l){var h=ee.T;ee.T=null;var d=te.p;try{te.p=2,nm(t,i,a,l)}finally{te.p=d,ee.T=h}}function Ab(t,i,a,l){var h=ee.T;ee.T=null;var d=te.p;try{te.p=8,nm(t,i,a,l)}finally{te.p=d,ee.T=h}}function nm(t,i,a,l){if(Lc){var h=im(l);if(h===null)Hd(t,i,l,Uc,a),u_(t,l);else if(wb(h,t,i,a,l))l.stopPropagation();else if(u_(t,l),i&4&&-1<bb.indexOf(t)){for(;h!==null;){var d=mi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=ei(d.pendingLanes);if(E!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var O=1<<31-xt(E);S.entanglements[1]|=O,E&=~O}Ci(d),(tt&6)===0&&(Tc=Et()+500,Tl(0))}}break;case 13:S=ba(d,2),S!==null&&Pn(S,d,2),Ac(),tm(d,2)}if(d=im(l),d===null&&Hd(t,i,l,Uc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Hd(t,i,l,null,a)}}function im(t){return t=qn(t),rm(t)}var Uc=null;function rm(t){if(Uc=null,t=ji(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Uc=t,null}function l_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ln()){case En:return 2;case Un:return 8;case on:case Oe:return 32;case ze:return 268435456;default:return 32}default:return 32}}var sm=!1,qr=null,Hr=null,Fr=null,xl=new Map,Dl=new Map,Gr=[],bb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u_(t,i){switch(t){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":xl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(i.pointerId)}}function Nl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=mi(i),i!==null&&o_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function wb(t,i,a,l,h){switch(i){case"focusin":return qr=Nl(qr,t,i,a,l,h),!0;case"dragenter":return Hr=Nl(Hr,t,i,a,l,h),!0;case"mouseover":return Fr=Nl(Fr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return xl.set(d,Nl(xl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Dl.set(d,Nl(Dl.get(d)||null,t,i,a,l,h)),!0}return!1}function c_(t){var i=ji(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Au(t.priority,function(){if(a.tag===13){var l=Mn();l=_r(l);var h=ba(a,l);h!==null&&Pn(h,a,l),tm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=im(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Hi=l,a.target.dispatchEvent(l),Hi=null}else return i=mi(a),i!==null&&o_(i),t.blockedOn=a,!1;i.shift()}return!0}function h_(t,i,a){jc(t)&&a.delete(i)}function Rb(){sm=!1,qr!==null&&jc(qr)&&(qr=null),Hr!==null&&jc(Hr)&&(Hr=null),Fr!==null&&jc(Fr)&&(Fr=null),xl.forEach(h_),Dl.forEach(h_)}function Bc(t,i){t.blockedOn===i&&(t.blockedOn=null,sm||(sm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Rb)))}var zc=null;function f_(t){zc!==t&&(zc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){zc===t&&(zc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(rm(l||a)===null)continue;break}var d=mi(a);d!==null&&(t.splice(i,3),i-=3,rd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ol(t){function i(O){return Bc(O,t)}qr!==null&&Bc(qr,t),Hr!==null&&Bc(Hr,t),Fr!==null&&Bc(Fr,t),xl.forEach(i),Dl.forEach(i);for(var a=0;a<Gr.length;a++){var l=Gr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Gr.length&&(a=Gr[0],a.blockedOn===null);)c_(a),a.blockedOn===null&&Gr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],E=h[Dt]||null;if(typeof d=="function")E||f_(a);else if(E){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[Dt]||null)S=E.formAction;else if(rm(h)!==null)continue}else S=E.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),f_(a)}}}function am(t){this._internalRoot=t}qc.prototype.render=am.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Mn();s_(a,l,t,i,null,null)},qc.prototype.unmount=am.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;s_(t.current,2,null,t,null,null),Ac(),i[Bn]=null}};function qc(t){this._internalRoot=t}qc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Er();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Gr.length&&i!==0&&i<Gr[a].priority;a++);Gr.splice(a,0,t),a===0&&c_(t)}};var d_=e.version;if(d_!=="19.1.0")throw Error(s(527,d_,"19.1.0"));te.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var Ib={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{ht=Hc.inject(Ib),Xe=Hc}catch{}}return Pl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=xy,d=Dy,E=Ny,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=i_(t,1,!1,null,null,a,l,h,d,E,S,null),t[Bn]=i.current,qd(t),new am(i)},Pl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=xy,E=Dy,S=Ny,O=null,Y=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(O=a.unstable_transitionCallbacks),a.formState!==void 0&&(Y=a.formState)),i=i_(t,1,!0,i,a??null,l,h,d,E,S,O,Y),i.context=r_(null),a=i.current,l=Mn(),l=_r(l),h=Cr(l),h.callback=null,xr(a,h,l),a=l,i.current.lanes=a,Ui(i,a),Ci(i),t[Bn]=i.current,qd(t),new qc(i)},Pl.version="19.1.0",Pl}var A_;function Lb(){if(A_)return um.exports;A_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),um.exports=kb(),um.exports}var Ub=Lb(),Vl={},b_;function jb(){if(b_)return Vl;b_=1,Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.parse=f,Vl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function f(A,P){const N=new u,U=A.length;if(U<2)return N;const C=(P==null?void 0:P.decode)||_;let B=0;do{const H=A.indexOf("=",B);if(H===-1)break;const Q=A.indexOf(";",B),X=Q===-1?U:Q;if(H>X){B=A.lastIndexOf(";",H-1)+1;continue}const G=m(A,B,H),Z=p(A,H,G),x=A.slice(G,Z);if(N[x]===void 0){let R=m(A,H+1,X),I=p(A,X,R);const V=C(A.slice(R,I));N[x]=V}B=X+1}while(B<U);return N}function m(A,P,N){do{const U=A.charCodeAt(P);if(U!==32&&U!==9)return P}while(++P<N);return N}function p(A,P,N){for(;P>N;){const U=A.charCodeAt(--P);if(U!==32&&U!==9)return P+1}return N}function g(A,P,N){const U=(N==null?void 0:N.encode)||encodeURIComponent;if(!r.test(A))throw new TypeError(`argument name is invalid: ${A}`);const C=U(P);if(!e.test(C))throw new TypeError(`argument val is invalid: ${P}`);let B=A+"="+C;if(!N)return B;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);B+="; Max-Age="+N.maxAge}if(N.domain){if(!n.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);B+="; Domain="+N.domain}if(N.path){if(!s.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);B+="; Path="+N.path}if(N.expires){if(!b(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);B+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(B+="; HttpOnly"),N.secure&&(B+="; Secure"),N.partitioned&&(B+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return B}function _(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function b(A){return o.call(A)==="[object Date]"}return Vl}jb();var w_="popstate";function Bb(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Rm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:$l(o)}return qb(e,n,null,r)}function _t(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Jn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zb(){return Math.random().toString(36).substring(2,10)}function R_(r,e){return{usr:r.state,key:r.key,idx:e}}function Rm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?po(e):e,state:n,key:e&&e.key||s||zb()}}function $l({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function po(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function qb(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=_();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function _(){return(f.state||{idx:null}).idx}function b(){m="POP";let C=_(),B=C==null?null:C-g;g=C,p&&p({action:m,location:U.location,delta:B})}function A(C,B){m="PUSH";let H=Rm(U.location,C,B);g=_()+1;let Q=R_(H,g),X=U.createHref(H);try{f.pushState(Q,"",X)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;o.location.assign(X)}u&&p&&p({action:m,location:U.location,delta:1})}function P(C,B){m="REPLACE";let H=Rm(U.location,C,B);g=_();let Q=R_(H,g),X=U.createHref(H);f.replaceState(Q,"",X),u&&p&&p({action:m,location:U.location,delta:0})}function N(C){return Hb(C)}let U={get action(){return m},get location(){return r(o,f)},listen(C){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(w_,b),p=C,()=>{o.removeEventListener(w_,b),p=null}},createHref(C){return e(o,C)},createURL:N,encodeLocation(C){let B=N(C);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:A,replace:P,go(C){return f.go(C)}};return U}function Hb(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),_t(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:$l(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function p0(r,e,n="/"){return Fb(r,e,n,!1)}function Fb(r,e,n,s){let o=typeof e=="string"?po(e):e,u=fr(o.pathname||"/",n);if(u==null)return null;let f=g0(r);Gb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=nw(u);m=ew(f[p],g,s)}return m}function g0(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(_t(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=cr([s,p.relativePath]),_=n.concat(p);u.children&&u.children.length>0&&(_t(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),g0(u.children,e,_,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:Zb(g,u.index),routesMeta:_})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of y0(u.path))o(u,f,p)}),e}function y0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=y0(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Gb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Jb(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Kb=/^:[\w-]+$/,Qb=3,Yb=2,$b=1,Xb=10,Wb=-2,I_=r=>r==="*";function Zb(r,e){let n=r.split("/"),s=n.length;return n.some(I_)&&(s+=Wb),e&&(s+=Yb),n.filter(o=>!I_(o)).reduce((o,u)=>o+(Kb.test(u)?Qb:u===""?$b:Xb),s)}function Jb(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function ew(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",b=hh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),A=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=hh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:cr([u,b.pathname]),pathnameBase:aw(cr([u,b.pathnameBase])),route:A}),b.pathnameBase!=="/"&&(u=cr([u,b.pathnameBase]))}return f}function hh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=tw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:b},A)=>{if(_==="*"){let N=m[A]||"";f=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const P=m[A];return b&&!P?g[_]=void 0:g[_]=(P||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function tw(r,e=!1,n=!0){Jn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function nw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function fr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function iw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?po(r):r;return{pathname:n?n.startsWith("/")?n:rw(n,e):e,search:ow(s),hash:lw(o)}}function rw(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function dm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function np(r){let e=sw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function ip(r,e,n,s=!1){let o;typeof r=="string"?o=po(r):(o={...r},_t(!o.pathname||!o.pathname.includes("?"),dm("?","pathname","search",o)),_t(!o.pathname||!o.pathname.includes("#"),dm("#","pathname","hash",o)),_t(!o.search||!o.search.includes("#"),dm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),b-=1;o.pathname=A.join("/")}m=b>=0?e[b]:"/"}let p=iw(o,m),g=f&&f!=="/"&&f.endsWith("/"),_=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var cr=r=>r.join("/").replace(/\/\/+/g,"/"),aw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),ow=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,lw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function uw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var v0=["POST","PUT","PATCH","DELETE"];new Set(v0);var cw=["GET",...v0];new Set(cw);var go=D.createContext(null);go.displayName="DataRouter";var Mh=D.createContext(null);Mh.displayName="DataRouterState";var _0=D.createContext({isTransitioning:!1});_0.displayName="ViewTransition";var hw=D.createContext(new Map);hw.displayName="Fetchers";var fw=D.createContext(null);fw.displayName="Await";var hi=D.createContext(null);hi.displayName="Navigation";var ou=D.createContext(null);ou.displayName="Location";var fi=D.createContext({outlet:null,matches:[],isDataRoute:!1});fi.displayName="Route";var rp=D.createContext(null);rp.displayName="RouteError";function dw(r,{relative:e}={}){_t(yo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=D.useContext(hi),{hash:o,pathname:u,search:f}=uu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:cr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function yo(){return D.useContext(ou)!=null}function kn(){return _t(yo(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(ou).location}var E0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function T0(r){D.useContext(hi).static||D.useLayoutEffect(r)}function vo(){let{isDataRoute:r}=D.useContext(fi);return r?Rw():mw()}function mw(){_t(yo(),"useNavigate() may be used only in the context of a <Router> component.");let r=D.useContext(go),{basename:e,navigator:n}=D.useContext(hi),{matches:s}=D.useContext(fi),{pathname:o}=kn(),u=JSON.stringify(np(s)),f=D.useRef(!1);return T0(()=>{f.current=!0}),D.useCallback((p,g={})=>{if(Jn(f.current,E0),!f.current)return;if(typeof p=="number"){n.go(p);return}let _=ip(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:cr([e,_.pathname])),(g.replace?n.replace:n.push)(_,g.state,g)},[e,n,u,o,r])}D.createContext(null);function lu(){let{matches:r}=D.useContext(fi),e=r[r.length-1];return e?e.params:{}}function uu(r,{relative:e}={}){let{matches:n}=D.useContext(fi),{pathname:s}=kn(),o=JSON.stringify(np(n));return D.useMemo(()=>ip(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function pw(r,e){return S0(r,e)}function S0(r,e,n,s){var B;_t(yo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=D.useContext(hi),{matches:u}=D.useContext(fi),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",_=f&&f.route;{let H=_&&_.path||"";A0(p,!_||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let b=kn(),A;if(e){let H=typeof e=="string"?po(e):e;_t(g==="/"||((B=H.pathname)==null?void 0:B.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${H.pathname}" was given in the \`location\` prop.`),A=H}else A=b;let P=A.pathname||"/",N=P;if(g!=="/"){let H=g.replace(/^\//,"").split("/");N="/"+P.replace(/^\//,"").split("/").slice(H.length).join("/")}let U=p0(r,{pathname:N});Jn(_||U!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Jn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=Ew(U&&U.map(H=>Object.assign({},H,{params:Object.assign({},m,H.params),pathname:cr([g,o.encodeLocation?o.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?g:cr([g,o.encodeLocation?o.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),u,n,s);return e&&C?D.createElement(ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},C):C}function gw(){let r=ww(),e=uw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:u},"ErrorBoundary")," or"," ",D.createElement("code",{style:u},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:o},n):null,f)}var yw=D.createElement(gw,null),vw=class extends D.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?D.createElement(fi.Provider,{value:this.props.routeContext},D.createElement(rp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _w({routeContext:r,match:e,children:n}){let s=D.useContext(go);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(fi.Provider,{value:r},n)}function Ew(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);_t(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:_,errors:b}=n,A=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||A){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,_)=>{let b,A=!1,P=null,N=null;n&&(b=u&&g.route.id?u[g.route.id]:void 0,P=g.route.errorElement||yw,f&&(m<0&&_===0?(A0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,N=null):m===_&&(A=!0,N=g.route.hydrateFallbackElement||null)));let U=e.concat(o.slice(0,_+1)),C=()=>{let B;return b?B=P:A?B=N:g.route.Component?B=D.createElement(g.route.Component,null):g.route.element?B=g.route.element:B=p,D.createElement(_w,{match:g,routeContext:{outlet:p,matches:U,isDataRoute:n!=null},children:B})};return n&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?D.createElement(vw,{location:n.location,revalidation:n.revalidation,component:P,error:b,children:C(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):C()},null)}function sp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tw(r){let e=D.useContext(go);return _t(e,sp(r)),e}function Sw(r){let e=D.useContext(Mh);return _t(e,sp(r)),e}function Aw(r){let e=D.useContext(fi);return _t(e,sp(r)),e}function ap(r){let e=Aw(r),n=e.matches[e.matches.length-1];return _t(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function bw(){return ap("useRouteId")}function ww(){var s;let r=D.useContext(rp),e=Sw("useRouteError"),n=ap("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function Rw(){let{router:r}=Tw("useNavigate"),e=ap("useNavigate"),n=D.useRef(!1);return T0(()=>{n.current=!0}),D.useCallback(async(o,u={})=>{Jn(n.current,E0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var C_={};function A0(r,e,n){!e&&!C_[r]&&(C_[r]=!0,Jn(!1,n))}D.memo(Iw);function Iw({routes:r,future:e,state:n}){return S0(r,void 0,n,e)}function Cw({to:r,replace:e,state:n,relative:s}){_t(yo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=D.useContext(hi);Jn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=D.useContext(fi),{pathname:f}=kn(),m=vo(),p=ip(r,np(u),f,s==="path"),g=JSON.stringify(p);return D.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function xi(r){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){_t(!yo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=D.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=po(n));let{pathname:p="/",search:g="",hash:_="",state:b=null,key:A="default"}=n,P=D.useMemo(()=>{let N=fr(p,f);return N==null?null:{location:{pathname:N,search:g,hash:_,state:b,key:A},navigationType:s}},[f,p,g,_,b,A,s]);return Jn(P!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:D.createElement(hi.Provider,{value:m},D.createElement(ou.Provider,{children:e,value:P}))}function Dw({children:r,location:e}){return pw(Im(r),e)}function Im(r,e=[]){let n=[];return D.Children.forEach(r,(s,o)=>{if(!D.isValidElement(s))return;let u=[...e,o];if(s.type===D.Fragment){n.push.apply(n,Im(s.props.children,u));return}_t(s.type===xi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Im(s.props.children,u)),n.push(f)}),n}var Jc="get",eh="application/x-www-form-urlencoded";function Ph(r){return r!=null&&typeof r.tagName=="string"}function Nw(r){return Ph(r)&&r.tagName.toLowerCase()==="button"}function Ow(r){return Ph(r)&&r.tagName.toLowerCase()==="form"}function Mw(r){return Ph(r)&&r.tagName.toLowerCase()==="input"}function Pw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Vw(r,e){return r.button===0&&(!e||e==="_self")&&!Pw(r)}function Cm(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let s=r[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function kw(r,e){let n=Cm(r);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var Fc=null;function Lw(){if(Fc===null)try{new FormData(document.createElement("form"),0),Fc=!1}catch{Fc=!0}return Fc}var Uw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mm(r){return r!=null&&!Uw.has(r)?(Jn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eh}"`),null):r}function jw(r,e){let n,s,o,u,f;if(Ow(r)){let m=r.getAttribute("action");s=m?fr(m,e):null,n=r.getAttribute("method")||Jc,o=mm(r.getAttribute("enctype"))||eh,u=new FormData(r)}else if(Nw(r)||Mw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?fr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Jc,o=mm(r.getAttribute("formenctype"))||mm(m.getAttribute("enctype"))||eh,u=new FormData(m,r),!Lw()){let{name:g,type:_,value:b}=r;if(_==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,b)}}else{if(Ph(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Jc,s=null,o=eh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function op(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function Bw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function qw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await Bw(u,n);return f.links?f.links():[]}return[]}));return Kw(s.flat(1).filter(zw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function x_(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var _;return n[g].pathname!==p.pathname||((_=n[g].route.path)==null?void 0:_.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var b;let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function Hw(r,e,{includeHydrateFallback:n}={}){return Fw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Fw(r){return[...new Set(r)]}function Gw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Kw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Gw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Qw=new Set([100,101,204,205]);function Yw(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&fr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function b0(){let r=D.useContext(go);return op(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function $w(){let r=D.useContext(Mh);return op(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var lp=D.createContext(void 0);lp.displayName="FrameworkContext";function w0(){let r=D.useContext(lp);return op(r,"You must render this element inside a <HydratedRouter> element"),r}function Xw(r,e){let n=D.useContext(lp),[s,o]=D.useState(!1),[u,f]=D.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:b}=e,A=D.useRef(null);D.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let U=B=>{B.forEach(H=>{f(H.isIntersecting)})},C=new IntersectionObserver(U,{threshold:.5});return A.current&&C.observe(A.current),()=>{C.disconnect()}}},[r]),D.useEffect(()=>{if(s){let U=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(U)}}},[s]);let P=()=>{o(!0)},N=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:kl(m,P),onBlur:kl(p,N),onMouseEnter:kl(g,P),onMouseLeave:kl(_,N),onTouchStart:kl(b,P)}]:[!1,A,{}]}function kl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Ww({page:r,...e}){let{router:n}=b0(),s=D.useMemo(()=>p0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?D.createElement(Jw,{page:r,matches:s,...e}):null}function Zw(r){let{manifest:e,routeModules:n}=w0(),[s,o]=D.useState([]);return D.useEffect(()=>{let u=!1;return qw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function Jw({page:r,matches:e,...n}){let s=kn(),{manifest:o,routeModules:u}=w0(),{basename:f}=b0(),{loaderData:m,matches:p}=$w(),g=D.useMemo(()=>x_(r,e,p,o,s,"data"),[r,e,p,o,s]),_=D.useMemo(()=>x_(r,e,p,o,s,"assets"),[r,e,p,o,s]),b=D.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let N=new Set,U=!1;if(e.forEach(B=>{var Q;let H=o.routes[B.route.id];!H||!H.hasLoader||(!g.some(X=>X.route.id===B.route.id)&&B.route.id in m&&((Q=u[B.route.id])!=null&&Q.shouldRevalidate)||H.hasClientLoader?U=!0:N.add(B.route.id))}),N.size===0)return[];let C=Yw(r,f);return U&&N.size>0&&C.searchParams.set("_routes",e.filter(B=>N.has(B.route.id)).map(B=>B.route.id).join(",")),[C.pathname+C.search]},[f,m,s,o,g,e,r,u]),A=D.useMemo(()=>Hw(_,o),[_,o]),P=Zw(_);return D.createElement(D.Fragment,null,b.map(N=>D.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),A.map(N=>D.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),P.map(({key:N,link:U})=>D.createElement("link",{key:N,...U})))}function e1(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var R0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{R0&&(window.__reactRouterVersion="7.6.2")}catch{}function t1({basename:r,children:e,window:n}){let s=D.useRef();s.current==null&&(s.current=Bb({window:n,v5Compat:!0}));let o=s.current,[u,f]=D.useState({action:o.action,location:o.location}),m=D.useCallback(p=>{D.startTransition(()=>f(p))},[f]);return D.useLayoutEffect(()=>o.listen(m),[o,m]),D.createElement(xw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var I0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$e=D.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:_,viewTransition:b,...A},P){let{basename:N}=D.useContext(hi),U=typeof g=="string"&&I0.test(g),C,B=!1;if(typeof g=="string"&&U&&(C=g,R0))try{let I=new URL(window.location.href),V=g.startsWith("//")?new URL(I.protocol+g):new URL(g),L=fr(V.pathname,N);V.origin===I.origin&&L!=null?g=L+V.search+V.hash:B=!0}catch{Jn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=dw(g,{relative:o}),[Q,X,G]=Xw(s,A),Z=s1(g,{replace:f,state:m,target:p,preventScrollReset:_,relative:o,viewTransition:b});function x(I){e&&e(I),I.defaultPrevented||Z(I)}let R=D.createElement("a",{...A,...G,href:C||H,onClick:B||u?e:x,ref:e1(P,X),target:p,"data-discover":!U&&n==="render"?"true":void 0});return Q&&!U?D.createElement(D.Fragment,null,R,D.createElement(Ww,{page:H})):R});$e.displayName="Link";var n1=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},_){let b=uu(f,{relative:g.relative}),A=kn(),P=D.useContext(Mh),{navigator:N,basename:U}=D.useContext(hi),C=P!=null&&c1(b)&&m===!0,B=N.encodeLocation?N.encodeLocation(b).pathname:b.pathname,H=A.pathname,Q=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(H=H.toLowerCase(),Q=Q?Q.toLowerCase():null,B=B.toLowerCase()),Q&&U&&(Q=fr(Q,U)||Q);const X=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let G=H===B||!o&&H.startsWith(B)&&H.charAt(X)==="/",Z=Q!=null&&(Q===B||!o&&Q.startsWith(B)&&Q.charAt(B.length)==="/"),x={isActive:G,isPending:Z,isTransitioning:C},R=G?e:void 0,I;typeof s=="function"?I=s(x):I=[s,G?"active":null,Z?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(x):u;return D.createElement($e,{...g,"aria-current":R,className:I,ref:_,style:V,to:f,viewTransition:m},typeof p=="function"?p(x):p)});n1.displayName="NavLink";var i1=D.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Jc,action:m,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:b,...A},P)=>{let N=l1(),U=u1(m,{relative:g}),C=f.toLowerCase()==="get"?"get":"post",B=typeof m=="string"&&I0.test(m),H=Q=>{if(p&&p(Q),Q.defaultPrevented)return;Q.preventDefault();let X=Q.nativeEvent.submitter,G=(X==null?void 0:X.getAttribute("formmethod"))||f;N(X||Q.currentTarget,{fetcherKey:e,method:G,navigate:n,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:b})};return D.createElement("form",{ref:P,method:C,action:U,onSubmit:s?p:H,...A,"data-discover":!B&&r==="render"?"true":void 0})});i1.displayName="Form";function r1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C0(r){let e=D.useContext(go);return _t(e,r1(r)),e}function s1(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=vo(),p=kn(),g=uu(r,{relative:u});return D.useCallback(_=>{if(Vw(_,e)){_.preventDefault();let b=n!==void 0?n:$l(p)===$l(g);m(r,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,r,o,u,f])}function up(r){Jn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=D.useRef(Cm(r)),n=D.useRef(!1),s=kn(),o=D.useMemo(()=>kw(s.search,n.current?null:e.current),[s.search]),u=vo(),f=D.useCallback((m,p)=>{const g=Cm(typeof m=="function"?m(o):m);n.current=!0,u("?"+g,p)},[u,o]);return[o,f]}var a1=0,o1=()=>`__${String(++a1)}__`;function l1(){let{router:r}=C0("useSubmit"),{basename:e}=D.useContext(hi),n=bw();return D.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=jw(s,e);if(o.navigate===!1){let _=o.fetcherKey||o1();await r.fetch(_,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function u1(r,{relative:e}={}){let{basename:n}=D.useContext(hi),s=D.useContext(fi);_t(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...uu(r||".",{relative:e})},f=kn();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let _=m.toString();u.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:cr([n,u.pathname])),$l(u)}function c1(r,e={}){let n=D.useContext(_0);_t(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=C0("useViewTransitionState"),o=uu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=fr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=fr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return hh(o.pathname,f)!=null||hh(o.pathname,u)!=null}[...Qw];const D_="FLASH FLASH ";function yr(r){D.useEffect(()=>{const e=r?`${r} | ${D_}`:D_;document.title=e},[r])}const h1=()=>(yr("Home"),T.jsxs("div",{style:{padding:"2em",maxWidth:"960px",margin:"0 auto"},children:[T.jsx("h1",{children:" FLASH FLASH "}),T.jsx("p",{children:""}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.2em",marginTop:"1.4em"},children:[T.jsxs("section",{style:{border:"1px solid #ddd",borderRadius:"10px",padding:"1em"},children:[T.jsx("h2",{style:{marginTop:0},children:""}),T.jsx("p",{style:{marginTop:0},children:""}),T.jsxs("ol",{style:{paddingLeft:"1.2em"},children:[T.jsx("li",{children:""}),T.jsx("li",{children:""}),T.jsx("li",{children:" /  / "}),T.jsx("li",{children:""})]}),T.jsx("p",{style:{marginBottom:0},children:T.jsx($e,{to:"/login",children:""})}),T.jsx("p",{style:{marginTop:"0.4em",marginBottom:0},children:T.jsx($e,{to:"/dashboard",children:""})})]}),T.jsxs("section",{style:{border:"1px solid #ddd",borderRadius:"10px",padding:"1em"},children:[T.jsx("h2",{style:{marginTop:0},children:""}),T.jsx("p",{style:{marginTop:0},children:""}),T.jsxs("ol",{style:{paddingLeft:"1.2em"},children:[T.jsx("li",{children:""}),T.jsx("li",{children:""}),T.jsx("li",{children:""})]}),T.jsx("p",{style:{marginBottom:0},children:T.jsx($e,{to:"/score-summary",children:""})})]})]}),T.jsxs("section",{style:{border:"1px dashed #bbb",borderRadius:"10px",padding:"1em",marginTop:"1.2em"},children:[T.jsx("h3",{style:{marginTop:0},children:""}),T.jsx("p",{style:{marginBottom:0},children:""})]})]})),f1=()=>{};var N_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},d1=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},D0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,_=u>>2,b=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,P=g&63;p||(P=64,f||(A=64)),s.push(n[_],n[b],n[A],n[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(x0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):d1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new m1;const A=u<<2|m>>4;if(s.push(A),g!==64){const P=m<<4&240|g>>2;if(s.push(P),b!==64){const N=g<<6&192|b;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class m1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p1=function(r){const e=x0(r);return D0.encodeByteArray(e,!0)},fh=function(r){return p1(r).replace(/\./g,"")},N0=function(r){try{return D0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=()=>g1().__FIREBASE_DEFAULTS__,v1=()=>{if(typeof process>"u"||typeof N_>"u")return;const r=N_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},_1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&N0(r[1]);return e&&JSON.parse(e)},Vh=()=>{try{return f1()||y1()||v1()||_1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},O0=r=>{var e,n;return(n=(e=Vh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},E1=r=>{const e=O0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},M0=()=>{var r;return(r=Vh())===null||r===void 0?void 0:r.config},P0=r=>{var e;return(e=Vh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(r){return r.endsWith(".cloudworkstations.dev")}async function V0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[fh(JSON.stringify(n)),fh(JSON.stringify(f)),""].join(".")}const Hl={};function A1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Hl))Hl[e]?r.emulator.push(e):r.prod.push(e);return r}function b1(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let O_=!1;function k0(r,e){if(typeof window>"u"||typeof document>"u"||!_o(window.location.host)||Hl[r]===e||Hl[r]||O_)return;Hl[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=A1().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,P){A.setAttribute("width","24"),A.setAttribute("id",P),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{O_=!0,f()},A}function _(A,P){A.setAttribute("id",P),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function b(){const A=b1(s),P=n("text"),N=document.getElementById(P)||document.createElement("span"),U=n("learnmore"),C=document.getElementById(U)||document.createElement("a"),B=n("preprendIcon"),H=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const Q=A.element;m(Q),_(C,U);const X=g();p(H,B),Q.append(H,N,C,X),document.body.appendChild(Q)}u?(N.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function w1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function R1(){var r;const e=(r=Vh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function C1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function x1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function D1(){const r=dn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function N1(){return!R1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O1(){try{return typeof indexedDB=="object"}catch{return!1}}function M1(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="FirebaseError";class vr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=P1,Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?V1(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new vr(o,m,s)}}function V1(r,e){return r.replace(k1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const k1=/\{\$([^}]+)}/g;function L1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Xs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(M_(u)&&M_(f)){if(!Xs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function M_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ll(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ul(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function U1(r,e){const n=new j1(r,e);return n.subscribe.bind(n)}class j1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");B1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=pm),o.error===void 0&&(o.error=pm),o.complete===void 0&&(o.complete=pm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function B1(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function pm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(r){return r&&r._delegate?r._delegate:r}class Ws{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new T1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(H1(e))try{this.getOrInitializeService({instanceIdentifier:Ys})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ys){return this.instances.has(e)}getOptions(e=Ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:q1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ys){return this.component?this.component.multipleInstances?e:Ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function q1(r){return r===Ys?void 0:r}function H1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new z1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(qe||(qe={}));const G1={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},K1=qe.INFO,Q1={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},Y1=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=Q1[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cp{constructor(e){this.name=e,this._logLevel=K1,this._logHandler=Y1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const $1=(r,e)=>e.some(n=>r instanceof n);let P_,V_;function X1(){return P_||(P_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W1(){return V_||(V_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L0=new WeakMap,xm=new WeakMap,U0=new WeakMap,gm=new WeakMap,hp=new WeakMap;function Z1(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Jr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&L0.set(n,r)}).catch(()=>{}),hp.set(e,r),e}function J1(r){if(xm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});xm.set(r,e)}let Dm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return xm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||U0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function eR(r){Dm=r(Dm)}function tR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(ym(this),e,...n);return U0.set(s,e.sort?e.sort():[e]),Jr(s)}:W1().includes(r)?function(...e){return r.apply(ym(this),e),Jr(L0.get(this))}:function(...e){return Jr(r.apply(ym(this),e))}}function nR(r){return typeof r=="function"?tR(r):(r instanceof IDBTransaction&&J1(r),$1(r,X1())?new Proxy(r,Dm):r)}function Jr(r){if(r instanceof IDBRequest)return Z1(r);if(gm.has(r))return gm.get(r);const e=nR(r);return e!==r&&(gm.set(r,e),hp.set(e,r)),e}const ym=r=>hp.get(r);function iR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Jr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Jr(f.result),p.oldVersion,p.newVersion,Jr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const rR=["get","getKey","getAll","getAllKeys","count"],sR=["put","add","delete","clear"],vm=new Map;function k_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(vm.get(e))return vm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=sR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||rR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return vm.set(e,u),u}eR(r=>({...r,get:(e,n,s)=>k_(e,n)||r.get(e,n,s),has:(e,n)=>!!k_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function oR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nm="@firebase/app",L_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new cp("@firebase/app"),lR="@firebase/app-compat",uR="@firebase/analytics-compat",cR="@firebase/analytics",hR="@firebase/app-check-compat",fR="@firebase/app-check",dR="@firebase/auth",mR="@firebase/auth-compat",pR="@firebase/database",gR="@firebase/data-connect",yR="@firebase/database-compat",vR="@firebase/functions",_R="@firebase/functions-compat",ER="@firebase/installations",TR="@firebase/installations-compat",SR="@firebase/messaging",AR="@firebase/messaging-compat",bR="@firebase/performance",wR="@firebase/performance-compat",RR="@firebase/remote-config",IR="@firebase/remote-config-compat",CR="@firebase/storage",xR="@firebase/storage-compat",DR="@firebase/firestore",NR="@firebase/ai",OR="@firebase/firestore-compat",MR="firebase",PR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="[DEFAULT]",VR={[Nm]:"fire-core",[lR]:"fire-core-compat",[cR]:"fire-analytics",[uR]:"fire-analytics-compat",[fR]:"fire-app-check",[hR]:"fire-app-check-compat",[dR]:"fire-auth",[mR]:"fire-auth-compat",[pR]:"fire-rtdb",[gR]:"fire-data-connect",[yR]:"fire-rtdb-compat",[vR]:"fire-fn",[_R]:"fire-fn-compat",[ER]:"fire-iid",[TR]:"fire-iid-compat",[SR]:"fire-fcm",[AR]:"fire-fcm-compat",[bR]:"fire-perf",[wR]:"fire-perf-compat",[RR]:"fire-rc",[IR]:"fire-rc-compat",[CR]:"fire-gcs",[xR]:"fire-gcs-compat",[DR]:"fire-fst",[OR]:"fire-fst-compat",[NR]:"fire-vertex","fire-js":"fire-js",[MR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Map,kR=new Map,Mm=new Map;function U_(r,e){try{r.container.addComponent(e)}catch(n){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function so(r){const e=r.name;if(Mm.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;Mm.set(e,r);for(const n of dh.values())U_(n,r);for(const n of kR.values())U_(n,r);return!0}function fp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function ai(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new cu("app","Firebase",LR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=PR;function j0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Om,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw es.create("bad-app-name",{appName:String(o)});if(n||(n=M0()),!n)throw es.create("no-options");const u=dh.get(o);if(u){if(Xs(n,u.options)&&Xs(s,u.config))return u;throw es.create("duplicate-app",{appName:o})}const f=new F1(o);for(const p of Mm.values())f.addComponent(p);const m=new UR(n,s,f);return dh.set(o,m),m}function B0(r=Om){const e=dh.get(r);if(!e&&r===Om&&M0())return j0();if(!e)throw es.create("no-app",{appName:r});return e}function ts(r,e,n){var s;let o=(s=VR[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(m.join(" "));return}so(new Ws(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="firebase-heartbeat-database",BR=1,Xl="firebase-heartbeat-store";let _m=null;function z0(){return _m||(_m=iR(jR,BR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Xl)}catch(n){console.warn(n)}}}}).catch(r=>{throw es.create("idb-open",{originalErrorMessage:r.message})})),_m}async function zR(r){try{const n=(await z0()).transaction(Xl),s=await n.objectStore(Xl).get(q0(r));return await n.done,s}catch(e){if(e instanceof vr)dr.warn(e.message);else{const n=es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});dr.warn(n.message)}}}async function j_(r,e){try{const s=(await z0()).transaction(Xl,"readwrite");await s.objectStore(Xl).put(e,q0(r)),await s.done}catch(n){if(n instanceof vr)dr.warn(n.message);else{const s=es.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});dr.warn(s.message)}}}function q0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=1024,HR=30;class FR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=B_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>HR){const f=QR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){dr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=B_(),{heartbeatsToSend:s,unsentEntries:o}=GR(this._heartbeatsCache.heartbeats),u=fh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return dr.warn(n),""}}}function B_(){return new Date().toISOString().substring(0,10)}function GR(r,e=qR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),z_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),z_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class KR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O1()?M1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return j_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return j_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function z_(r){return fh(JSON.stringify({version:2,heartbeats:r})).length}function QR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(r){so(new Ws("platform-logger",e=>new aR(e),"PRIVATE")),so(new Ws("heartbeat",e=>new FR(e),"PRIVATE")),ts(Nm,L_,r),ts(Nm,L_,"esm2017"),ts("fire-js","")}YR("");function dp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function H0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $R=H0,F0=new cu("auth","Firebase",H0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new cp("@firebase/auth");function XR(r,...e){mh.logLevel<=qe.WARN&&mh.warn(`Auth (${Eo}): ${r}`,...e)}function th(r,...e){mh.logLevel<=qe.ERROR&&mh.error(`Auth (${Eo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(r,...e){throw mp(r,...e)}function Ni(r,...e){return mp(r,...e)}function G0(r,e,n){const s=Object.assign(Object.assign({},$R()),{[e]:n});return new cu("auth","Firebase",s).create(e,{appName:r.name})}function ns(r){return G0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return F0.create(r,...e)}function Re(r,e,...n){if(!r)throw mp(e,...n)}function lr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw th(e),new Error(e)}function mr(r,e){r||lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function WR(){return q_()==="http:"||q_()==="https:"}function q_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WR()||C1()||"connection"in navigator)?navigator.onLine:!0}function JR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,mr(n>e,"Short delay should be less than long delay!"),this.isMobile=w1()||x1()}get(){return ZR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(r,e){mr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nI=new fu(3e4,6e4);function ta(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function fs(r,e,n,s,o={}){return Q0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=hu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return I1()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&_o(r.emulatorConfig.host)&&(g.credentials="include"),K0.fetch()(await Y0(r,r.config.apiHost,n,m),g)})}async function Q0(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},eI),e);try{const o=new rI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Gc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Gc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Gc(r,"user-disabled",f);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw G0(r,_,g);li(r,_)}}catch(o){if(o instanceof vr)throw o;li(r,"network-request-failed",{message:String(o)})}}async function kh(r,e,n,s,o={}){const u=await fs(r,e,n,s,o);return"mfaPendingCredential"in u&&li(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function Y0(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?pp(r.config,o):`${r.config.apiScheme}://${o}`;return tI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function iI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ni(this.auth,"network-request-failed")),nI.get())})}}function Gc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ni(r,e,s);return o.customData._tokenResponse=n,o}function H_(r){return r!==void 0&&r.enterprise!==void 0}class sI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return iI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aI(r,e){return fs(r,"GET","/v2/recaptchaConfig",ta(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oI(r,e){return fs(r,"POST","/v1/accounts:delete",e)}async function ph(r,e){return fs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lI(r,e=!1){const n=Xt(r),s=await n.getIdToken(e),o=gp(s);Re(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Fl(Em(o.auth_time)),issuedAtTime:Fl(Em(o.iat)),expirationTime:Fl(Em(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Em(r){return Number(r)*1e3}function gp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return th("JWT malformed, contained fewer than 3 sections"),null;try{const o=N0(n);return o?JSON.parse(o):(th("Failed to decode base64 JWT payload"),null)}catch(o){return th("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function F_(r){const e=gp(r);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof vr&&uI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function uI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fl(this.lastLoginAt),this.creationTime=Fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await Wl(r,ph(n,{idToken:s}));Re(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?$0(u.providerUserInfo):[],m=fI(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),_=p?g:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Vm(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(r,b)}async function hI(r){const e=Xt(r);await gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function $0(r){return r.map(e=>{var{providerId:n}=e,s=dp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(r,e){const n=await Q0(r,{},async()=>{const s=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await Y0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&_o(r.emulatorConfig.host)&&(p.credentials="include"),K0.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mI(r,e){return fs(r,"POST","/v2/accounts:revokeToken",ta(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):F_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=F_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await dI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new to;return s&&(Re(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Re(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Re(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new to,this.toJSON())}_performRefresh(){return lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(r,e){Re(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class oi{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=dp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Vm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Wl(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lI(this,e)}reload(){return hI(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new oi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await gh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ai(this.auth.app))return Promise.reject(ns(this.auth));const e=await this.getIdToken();return await Wl(this,oI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,_;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,A=(o=n.email)!==null&&o!==void 0?o:void 0,P=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,N=(f=n.photoURL)!==null&&f!==void 0?f:void 0,U=(m=n.tenantId)!==null&&m!==void 0?m:void 0,C=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,B=(g=n.createdAt)!==null&&g!==void 0?g:void 0,H=(_=n.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Q,emailVerified:X,isAnonymous:G,providerData:Z,stsTokenManager:x}=n;Re(Q&&x,e,"internal-error");const R=to.fromJSON(this.name,x);Re(typeof Q=="string",e,"internal-error"),Qr(b,e.name),Qr(A,e.name),Re(typeof X=="boolean",e,"internal-error"),Re(typeof G=="boolean",e,"internal-error"),Qr(P,e.name),Qr(N,e.name),Qr(U,e.name),Qr(C,e.name),Qr(B,e.name),Qr(H,e.name);const I=new oi({uid:Q,auth:e,email:A,emailVerified:X,displayName:b,isAnonymous:G,photoURL:N,phoneNumber:P,tenantId:U,stsTokenManager:R,createdAt:B,lastLoginAt:H});return Z&&Array.isArray(Z)&&(I.providerData=Z.map(V=>Object.assign({},V))),C&&(I._redirectEventId=C),I}static async _fromIdTokenResponse(e,n,s=!1){const o=new to;o.updateFromServerResponse(n);const u=new oi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await gh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Re(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?$0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new to;m.updateFromIdToken(s);const p=new oi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Vm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=new Map;function ur(r){mr(r instanceof Function,"Expected a class definition");let e=G_.get(r);return e?(mr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,G_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}X0.type="NONE";const K_=X0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(r,e,n){return`firebase:${r}:${e}:${n}`}class no{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=nh(this.userKey,o.apiKey,u),this.fullPersistenceKey=nh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ph(this.auth,{idToken:e}).catch(()=>{});return n?oi._fromGetAccountInfoResponse(this.auth,n,e):null}return oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new no(ur(K_),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ur(K_);const f=nh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const _=await g._get(f);if(_){let b;if(typeof _=="string"){const A=await ph(e,{idToken:_}).catch(()=>{});if(!A)break;b=await oi._fromGetAccountInfoResponse(e,A,_)}else b=oi._fromJSON(e,_);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new no(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new no(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(W0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nT(e))return"Blackberry";if(iT(e))return"Webos";if(Z0(e))return"Safari";if((e.includes("chrome/")||J0(e))&&!e.includes("edge/"))return"Chrome";if(tT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function W0(r=dn()){return/firefox\//i.test(r)}function Z0(r=dn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function J0(r=dn()){return/crios\//i.test(r)}function eT(r=dn()){return/iemobile/i.test(r)}function tT(r=dn()){return/android/i.test(r)}function nT(r=dn()){return/blackberry/i.test(r)}function iT(r=dn()){return/webos/i.test(r)}function yp(r=dn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function pI(r=dn()){var e;return yp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gI(){return D1()&&document.documentMode===10}function rT(r=dn()){return yp(r)||tT(r)||iT(r)||nT(r)||/windows phone/i.test(r)||eT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(r,e=[]){let n;switch(r){case"Browser":n=Q_(dn());break;case"Worker":n=`${Q_(dn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Eo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(r,e={}){return fs(r,"GET","/v2/passwordPolicy",ta(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=6;class EI{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:_I,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Y_(this),this.idTokenSubscription=new Y_(this),this.beforeStateQueue=new yI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=F0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ur(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await no.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ph(this,{idToken:e}),s=await oi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ai(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ai(this.app))return Promise.reject(ns(this));const n=e?Xt(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ai(this.app)?Promise.reject(ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ai(this.app)?Promise.reject(ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vI(this),n=new EI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await mI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ur(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&XR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function To(r){return Xt(r)}class Y_{constructor(e){this.auth=e,this.observer=null,this.addObserver=U1(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SI(r){Lh=r}function aT(r){return Lh.loadJS(r)}function AI(){return Lh.recaptchaEnterpriseScript}function bI(){return Lh.gapiScript}function wI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class RI{constructor(){this.enterprise=new II}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class II{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const CI="recaptcha-enterprise",oT="NO_RECAPTCHA";class xI{constructor(e){this.type=CI,this.auth=To(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{aI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new sI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;H_(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(oT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new RI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&H_(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=AI();p.length!==0&&(p+=m),aT(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function $_(r,e,n,s=!1,o=!1){const u=new xI(r);let f;if(o)f=oT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function X_(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await $_(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await $_(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(r,e){const n=fp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Xs(u,e??{}))return o;li(o,"already-initialized")}return n.initialize({options:e})}function NI(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ur);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function OI(r,e,n){const s=To(r);Re(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=lT(e),{host:f,port:m}=MI(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},_=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Re(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Re(Xs(g,s.config.emulator)&&Xs(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,_o(f)?(V0(`${u}//${f}${p}`),k0("Auth",!0)):PI()}function lT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function MI(r){const e=lT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:W_(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:W_(f)}}}function W_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function PI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,n){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}async function VI(r,e){return fs(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(r,e){return kh(r,"POST","/v1/accounts:signInWithPassword",ta(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LI(r,e){return kh(r,"POST","/v1/accounts:signInWithEmailLink",ta(r,e))}async function UI(r,e){return kh(r,"POST","/v1/accounts:signInWithEmailLink",ta(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl extends vp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Zl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Zl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return X_(e,n,"signInWithPassword",kI);case"emailLink":return LI(e,{email:this._email,oobCode:this._password});default:li(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return X_(e,s,"signUpPassword",VI);case"emailLink":return UI(e,{idToken:n,email:this._email,oobCode:this._password});default:li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function io(r,e){return kh(r,"POST","/v1/accounts:signInWithIdp",ta(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="http://localhost";class Zs extends vp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):li("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=dp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Zs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return io(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,io(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,io(e,n)}buildRequest(){const e={requestUri:jI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zI(r){const e=Ll(Ul(r)).link,n=e?Ll(Ul(e)).deep_link_id:null,s=Ll(Ul(r)).deep_link_id;return(s?Ll(Ul(s)).link:null)||s||n||e||r}class _p{constructor(e){var n,s,o,u,f,m;const p=Ll(Ul(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,_=(s=p.oobCode)!==null&&s!==void 0?s:null,b=BI((o=p.mode)!==null&&o!==void 0?o:null);Re(g&&_&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=_,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=zI(e);try{return new _p(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.providerId=So.PROVIDER_ID}static credential(e,n){return Zl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=_p.parseLink(n);return Re(s,"argument-error"),Zl._fromEmailAndCode(e,s.code,s.tenantId)}}So.PROVIDER_ID="password";So.EMAIL_PASSWORD_SIGN_IN_METHOD="password";So.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends uT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends du{constructor(){super("facebook.com")}static credential(e){return Zs._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zs._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return $r.credential(n,s)}catch{return null}}}$r.GOOGLE_SIGN_IN_METHOD="google.com";$r.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends du{constructor(){super("github.com")}static credential(e){return Zs._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.GITHUB_SIGN_IN_METHOD="github.com";Xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends du{constructor(){super("twitter.com")}static credential(e,n){return Zs._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Wr.credential(n,s)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await oi._fromIdTokenResponse(e,s,o),f=Z_(s);return new ao({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Z_(s);return new ao({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Z_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh extends vr{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,yh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new yh(e,n,s,o)}}function cT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?yh._fromErrorAndOperation(r,u,e,s):u})}async function qI(r,e,n=!1){const s=await Wl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ao._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(r,e,n=!1){const{auth:s}=r;if(ai(s.app))return Promise.reject(ns(s));const o="reauthenticate";try{const u=await Wl(r,cT(s,o,e,r),n);Re(u.idToken,s,"internal-error");const f=gp(u.idToken);Re(f,s,"internal-error");const{sub:m}=f;return Re(r.uid===m,s,"user-mismatch"),ao._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&li(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hT(r,e,n=!1){if(ai(r.app))return Promise.reject(ns(r));const s="signIn",o=await cT(r,s,e),u=await ao._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function FI(r,e){return hT(To(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(r){const e=To(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function KI(r,e,n){return ai(r.app)?Promise.reject(ns(r)):FI(Xt(r),So.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&GI(r),s})}function QI(r,e,n,s){return Xt(r).onIdTokenChanged(e,n,s)}function YI(r,e,n){return Xt(r).beforeAuthStateChanged(e,n)}function fT(r,e,n,s){return Xt(r).onAuthStateChanged(e,n,s)}function $I(r){return Xt(r).signOut()}const vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vh,"1"),this.storage.removeItem(vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=1e3,WI=10;class mT extends dT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);gI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,WI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},XI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mT.type="LOCAL";const ZI=mT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT extends dT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}pT.type="SESSION";const gT=pT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Uh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await JI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Ep("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const A=b;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(){return window}function tC(r){Oi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function nC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function rC(){return yT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="firebaseLocalStorageDb",sC=1,_h="firebaseLocalStorage",_T="fbase_key";class mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jh(r,e){return r.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function aC(){const r=indexedDB.deleteDatabase(vT);return new mu(r).toPromise()}function km(){const r=indexedDB.open(vT,sC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(_h,{keyPath:_T})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(_h)?e(s):(s.close(),await aC(),e(await km()))})})}async function J_(r,e,n){const s=jh(r,!0).put({[_T]:e,value:n});return new mu(s).toPromise()}async function oC(r,e){const n=jh(r,!1).get(e),s=await new mu(n).toPromise();return s===void 0?null:s.value}function eE(r,e){const n=jh(r,!0).delete(e);return new mu(n).toPromise()}const lC=800,uC=3;class ET{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await km(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>uC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uh._getInstance(rC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await nC(),!this.activeServiceWorker)return;this.sender=new eC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await km();return await J_(e,vh,"1"),await eE(e,vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>J_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>oC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>eE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=jh(o,!1).getAll();return new mu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ET.type="LOCAL";const cC=ET;new fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(r,e){return e?ur(e):(Re(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp extends vp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return io(e,this._buildIdpRequest())}_linkToIdToken(e,n){return io(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return io(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fC(r){return hT(r.auth,new Tp(r),r.bypassAuthState)}function dC(r){const{auth:e,user:n}=r;return Re(n,e,"internal-error"),HI(n,new Tp(r),r.bypassAuthState)}async function mC(r){const{auth:e,user:n}=r;return Re(n,e,"internal-error"),qI(n,new Tp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fC;case"linkViaPopup":case"linkViaRedirect":return mC;case"reauthViaPopup":case"reauthViaRedirect":return dC;default:li(this.auth,"internal-error")}}resolve(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=new fu(2e3,1e4);class Ja extends TT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ja.currentPopupAction&&Ja.currentPopupAction.cancel(),Ja.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){mr(this.filter.length===1,"Popup operations only handle one event");const e=Ep();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ja.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pC.get())};e()}}Ja.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="pendingRedirect",ih=new Map;class yC extends TT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ih.get(this.auth._key());if(!e){try{const s=await vC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ih.set(this.auth._key(),e)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vC(r,e){const n=TC(e),s=EC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function _C(r,e){ih.set(r._key(),e)}function EC(r){return ur(r._redirectPersistence)}function TC(r){return nh(gC,r.config.apiKey,r.name)}async function SC(r,e,n=!1){if(ai(r.app))return Promise.reject(ns(r));const s=To(r),o=hC(s,e),f=await new yC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=10*60*1e3;class bC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!ST(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ni(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AC&&this.cachedEventUids.clear(),this.cachedEventUids.has(tE(e))}saveEventToCache(e){this.cachedEventUids.add(tE(e)),this.lastProcessedEventTime=Date.now()}}function tE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function ST({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ST(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(r,e={}){return fs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CC=/^https?/;async function xC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await RC(r);for(const n of e)try{if(DC(n))return}catch{}li(r,"unauthorized-domain")}function DC(r){const e=Pm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!CC.test(n))return!1;if(IC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=new fu(3e4,6e4);function nE(){const r=Oi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function OC(r){return new Promise((e,n)=>{var s,o,u;function f(){nE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nE(),n(Ni(r,"network-request-failed"))},timeout:NC.get()})}if(!((o=(s=Oi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Oi().gapi)===null||u===void 0)&&u.load)f();else{const m=wI("iframefcb");return Oi()[m]=()=>{gapi.load?f():n(Ni(r,"network-request-failed"))},aT(`${bI()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw rh=null,e})}let rh=null;function MC(r){return rh=rh||OC(r),rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=new fu(5e3,15e3),VC="__/auth/iframe",kC="emulator/auth/iframe",LC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jC(r){const e=r.config;Re(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?pp(e,kC):`https://${r.config.authDomain}/${VC}`,s={apiKey:e.apiKey,appName:r.name,v:Eo},o=UC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${hu(s).slice(1)}`}async function BC(r){const e=await MC(r),n=Oi().gapi;return Re(n,r,"internal-error"),e.open({where:document.body,url:jC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ni(r,"network-request-failed"),m=Oi().setTimeout(()=>{u(f)},PC.get());function p(){Oi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qC=500,HC=600,FC="_blank",GC="http://localhost";class iE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KC(r,e,n,s=qC,o=HC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},zC),{width:s.toString(),height:o.toString(),top:u,left:f}),g=dn().toLowerCase();n&&(m=J0(g)?FC:n),W0(g)&&(e=e||GC,p.scrollbars="yes");const _=Object.entries(p).reduce((A,[P,N])=>`${A}${P}=${N},`,"");if(pI(g)&&m!=="_self")return QC(e||"",m),new iE(null);const b=window.open(e||"",m,_);Re(b,r,"popup-blocked");try{b.focus()}catch{}return new iE(b)}function QC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="__/auth/handler",$C="emulator/auth/handler",XC=encodeURIComponent("fac");async function rE(r,e,n,s,o,u){Re(r.config.authDomain,r,"auth-domain-config-required"),Re(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Eo,eventId:o};if(e instanceof uT){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",L1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,b]of Object.entries({}))f[_]=b}if(e instanceof du){const _=e.getScopes().filter(b=>b!=="");_.length>0&&(f.scopes=_.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await r._getAppCheckToken(),g=p?`#${XC}=${encodeURIComponent(p)}`:"";return`${WC(r)}?${hu(m).slice(1)}${g}`}function WC({config:r}){return r.emulator?pp(r,$C):`https://${r.authDomain}/${YC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="webStorageSupport";class ZC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gT,this._completeRedirectFn=SC,this._overrideRedirectResult=_C}async _openPopup(e,n,s,o){var u;mr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await rE(e,n,s,Pm(),o);return KC(e,f,Ep())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await rE(e,n,s,Pm(),o);return tC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(mr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await BC(e),s=new bC(e);return n.register("authEvent",o=>(Re(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tm,{type:Tm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Tm];f!==void 0&&n(!!f),li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rT()||Z0()||yp()}}const JC=ZC;var sE="@firebase/auth",aE="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nx(r){so(new Ws("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Re(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sT(r)},g=new TI(s,o,u,p);return NI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),so(new Ws("auth-internal",e=>{const n=To(e.getProvider("auth").getImmediate());return(s=>new ex(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ts(sE,aE,tx(r)),ts(sE,aE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=5*60,rx=P0("authIdTokenMaxAge")||ix;let oE=null;const sx=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>rx)return;const o=n==null?void 0:n.token;oE!==o&&(oE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ax(r=B0()){const e=fp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=DI(r,{popupRedirectResolver:JC,persistence:[cC,ZI,gT]}),s=P0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=sx(u.toString());YI(n,f,()=>f(n.currentUser)),QI(n,m=>f(m))}}const o=O0("auth");return o&&OI(n,`http://${o}`),n}function ox(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}SI({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ni("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",ox().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nx("Browser");var lx="firebase",ux="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ts(lx,ux,"app");var lE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var is,AT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,R){function I(){}I.prototype=R.prototype,x.D=R.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(V,L,z){for(var M=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)M[dt-2]=arguments[dt];return R.prototype[L].apply(V,M)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,I){I||(I=0);var V=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)V[L]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(L=0;16>L;++L)V[L]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=x.g[0],I=x.g[1],L=x.g[2];var z=x.g[3],M=R+(z^I&(L^z))+V[0]+3614090360&4294967295;R=I+(M<<7&4294967295|M>>>25),M=z+(L^R&(I^L))+V[1]+3905402710&4294967295,z=R+(M<<12&4294967295|M>>>20),M=L+(I^z&(R^I))+V[2]+606105819&4294967295,L=z+(M<<17&4294967295|M>>>15),M=I+(R^L&(z^R))+V[3]+3250441966&4294967295,I=L+(M<<22&4294967295|M>>>10),M=R+(z^I&(L^z))+V[4]+4118548399&4294967295,R=I+(M<<7&4294967295|M>>>25),M=z+(L^R&(I^L))+V[5]+1200080426&4294967295,z=R+(M<<12&4294967295|M>>>20),M=L+(I^z&(R^I))+V[6]+2821735955&4294967295,L=z+(M<<17&4294967295|M>>>15),M=I+(R^L&(z^R))+V[7]+4249261313&4294967295,I=L+(M<<22&4294967295|M>>>10),M=R+(z^I&(L^z))+V[8]+1770035416&4294967295,R=I+(M<<7&4294967295|M>>>25),M=z+(L^R&(I^L))+V[9]+2336552879&4294967295,z=R+(M<<12&4294967295|M>>>20),M=L+(I^z&(R^I))+V[10]+4294925233&4294967295,L=z+(M<<17&4294967295|M>>>15),M=I+(R^L&(z^R))+V[11]+2304563134&4294967295,I=L+(M<<22&4294967295|M>>>10),M=R+(z^I&(L^z))+V[12]+1804603682&4294967295,R=I+(M<<7&4294967295|M>>>25),M=z+(L^R&(I^L))+V[13]+4254626195&4294967295,z=R+(M<<12&4294967295|M>>>20),M=L+(I^z&(R^I))+V[14]+2792965006&4294967295,L=z+(M<<17&4294967295|M>>>15),M=I+(R^L&(z^R))+V[15]+1236535329&4294967295,I=L+(M<<22&4294967295|M>>>10),M=R+(L^z&(I^L))+V[1]+4129170786&4294967295,R=I+(M<<5&4294967295|M>>>27),M=z+(I^L&(R^I))+V[6]+3225465664&4294967295,z=R+(M<<9&4294967295|M>>>23),M=L+(R^I&(z^R))+V[11]+643717713&4294967295,L=z+(M<<14&4294967295|M>>>18),M=I+(z^R&(L^z))+V[0]+3921069994&4294967295,I=L+(M<<20&4294967295|M>>>12),M=R+(L^z&(I^L))+V[5]+3593408605&4294967295,R=I+(M<<5&4294967295|M>>>27),M=z+(I^L&(R^I))+V[10]+38016083&4294967295,z=R+(M<<9&4294967295|M>>>23),M=L+(R^I&(z^R))+V[15]+3634488961&4294967295,L=z+(M<<14&4294967295|M>>>18),M=I+(z^R&(L^z))+V[4]+3889429448&4294967295,I=L+(M<<20&4294967295|M>>>12),M=R+(L^z&(I^L))+V[9]+568446438&4294967295,R=I+(M<<5&4294967295|M>>>27),M=z+(I^L&(R^I))+V[14]+3275163606&4294967295,z=R+(M<<9&4294967295|M>>>23),M=L+(R^I&(z^R))+V[3]+4107603335&4294967295,L=z+(M<<14&4294967295|M>>>18),M=I+(z^R&(L^z))+V[8]+1163531501&4294967295,I=L+(M<<20&4294967295|M>>>12),M=R+(L^z&(I^L))+V[13]+2850285829&4294967295,R=I+(M<<5&4294967295|M>>>27),M=z+(I^L&(R^I))+V[2]+4243563512&4294967295,z=R+(M<<9&4294967295|M>>>23),M=L+(R^I&(z^R))+V[7]+1735328473&4294967295,L=z+(M<<14&4294967295|M>>>18),M=I+(z^R&(L^z))+V[12]+2368359562&4294967295,I=L+(M<<20&4294967295|M>>>12),M=R+(I^L^z)+V[5]+4294588738&4294967295,R=I+(M<<4&4294967295|M>>>28),M=z+(R^I^L)+V[8]+2272392833&4294967295,z=R+(M<<11&4294967295|M>>>21),M=L+(z^R^I)+V[11]+1839030562&4294967295,L=z+(M<<16&4294967295|M>>>16),M=I+(L^z^R)+V[14]+4259657740&4294967295,I=L+(M<<23&4294967295|M>>>9),M=R+(I^L^z)+V[1]+2763975236&4294967295,R=I+(M<<4&4294967295|M>>>28),M=z+(R^I^L)+V[4]+1272893353&4294967295,z=R+(M<<11&4294967295|M>>>21),M=L+(z^R^I)+V[7]+4139469664&4294967295,L=z+(M<<16&4294967295|M>>>16),M=I+(L^z^R)+V[10]+3200236656&4294967295,I=L+(M<<23&4294967295|M>>>9),M=R+(I^L^z)+V[13]+681279174&4294967295,R=I+(M<<4&4294967295|M>>>28),M=z+(R^I^L)+V[0]+3936430074&4294967295,z=R+(M<<11&4294967295|M>>>21),M=L+(z^R^I)+V[3]+3572445317&4294967295,L=z+(M<<16&4294967295|M>>>16),M=I+(L^z^R)+V[6]+76029189&4294967295,I=L+(M<<23&4294967295|M>>>9),M=R+(I^L^z)+V[9]+3654602809&4294967295,R=I+(M<<4&4294967295|M>>>28),M=z+(R^I^L)+V[12]+3873151461&4294967295,z=R+(M<<11&4294967295|M>>>21),M=L+(z^R^I)+V[15]+530742520&4294967295,L=z+(M<<16&4294967295|M>>>16),M=I+(L^z^R)+V[2]+3299628645&4294967295,I=L+(M<<23&4294967295|M>>>9),M=R+(L^(I|~z))+V[0]+4096336452&4294967295,R=I+(M<<6&4294967295|M>>>26),M=z+(I^(R|~L))+V[7]+1126891415&4294967295,z=R+(M<<10&4294967295|M>>>22),M=L+(R^(z|~I))+V[14]+2878612391&4294967295,L=z+(M<<15&4294967295|M>>>17),M=I+(z^(L|~R))+V[5]+4237533241&4294967295,I=L+(M<<21&4294967295|M>>>11),M=R+(L^(I|~z))+V[12]+1700485571&4294967295,R=I+(M<<6&4294967295|M>>>26),M=z+(I^(R|~L))+V[3]+2399980690&4294967295,z=R+(M<<10&4294967295|M>>>22),M=L+(R^(z|~I))+V[10]+4293915773&4294967295,L=z+(M<<15&4294967295|M>>>17),M=I+(z^(L|~R))+V[1]+2240044497&4294967295,I=L+(M<<21&4294967295|M>>>11),M=R+(L^(I|~z))+V[8]+1873313359&4294967295,R=I+(M<<6&4294967295|M>>>26),M=z+(I^(R|~L))+V[15]+4264355552&4294967295,z=R+(M<<10&4294967295|M>>>22),M=L+(R^(z|~I))+V[6]+2734768916&4294967295,L=z+(M<<15&4294967295|M>>>17),M=I+(z^(L|~R))+V[13]+1309151649&4294967295,I=L+(M<<21&4294967295|M>>>11),M=R+(L^(I|~z))+V[4]+4149444226&4294967295,R=I+(M<<6&4294967295|M>>>26),M=z+(I^(R|~L))+V[11]+3174756917&4294967295,z=R+(M<<10&4294967295|M>>>22),M=L+(R^(z|~I))+V[2]+718787259&4294967295,L=z+(M<<15&4294967295|M>>>17),M=I+(z^(L|~R))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(L+(M<<21&4294967295|M>>>11))&4294967295,x.g[2]=x.g[2]+L&4294967295,x.g[3]=x.g[3]+z&4294967295}s.prototype.u=function(x,R){R===void 0&&(R=x.length);for(var I=R-this.blockSize,V=this.B,L=this.h,z=0;z<R;){if(L==0)for(;z<=I;)o(this,x,z),z+=this.blockSize;if(typeof x=="string"){for(;z<R;)if(V[L++]=x.charCodeAt(z++),L==this.blockSize){o(this,V),L=0;break}}else for(;z<R;)if(V[L++]=x[z++],L==this.blockSize){o(this,V),L=0;break}}this.h=L,this.o+=R},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;var I=8*this.o;for(R=x.length-8;R<x.length;++R)x[R]=I&255,I/=256;for(this.u(x),x=Array(16),R=I=0;4>R;++R)for(var V=0;32>V;V+=8)x[I++]=this.g[R]>>>V&255;return x};function u(x,R){var I=m;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=R(x)}function f(x,R){this.h=R;for(var I=[],V=!0,L=x.length-1;0<=L;L--){var z=x[L]|0;V&&z==R||(I[L]=z,V=!1)}this.g=I}var m={};function p(x){return-128<=x&&128>x?u(x,function(R){return new f([R|0],0>R?-1:0)}):new f([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return b;if(0>x)return C(g(-x));for(var R=[],I=1,V=0;x>=I;V++)R[V]=x/I|0,I*=4294967296;return new f(R,0)}function _(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return C(_(x.substring(1),R));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(R,8)),V=b,L=0;L<x.length;L+=8){var z=Math.min(8,x.length-L),M=parseInt(x.substring(L,L+z),R);8>z?(z=g(Math.pow(R,z)),V=V.j(z).add(g(M))):(V=V.j(I),V=V.add(g(M)))}return V}var b=p(0),A=p(1),P=p(16777216);r=f.prototype,r.m=function(){if(U(this))return-C(this).m();for(var x=0,R=1,I=0;I<this.g.length;I++){var V=this.i(I);x+=(0<=V?V:4294967296+V)*R,R*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(N(this))return"0";if(U(this))return"-"+C(this).toString(x);for(var R=g(Math.pow(x,6)),I=this,V="";;){var L=X(I,R).g;I=B(I,L.j(R));var z=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=L,N(I))return z+V;for(;6>z.length;)z="0"+z;V=z+V}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function N(x){if(x.h!=0)return!1;for(var R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function U(x){return x.h==-1}r.l=function(x){return x=B(this,x),U(x)?-1:N(x)?0:1};function C(x){for(var R=x.g.length,I=[],V=0;V<R;V++)I[V]=~x.g[V];return new f(I,~x.h).add(A)}r.abs=function(){return U(this)?C(this):this},r.add=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],V=0,L=0;L<=R;L++){var z=V+(this.i(L)&65535)+(x.i(L)&65535),M=(z>>>16)+(this.i(L)>>>16)+(x.i(L)>>>16);V=M>>>16,z&=65535,M&=65535,I[L]=M<<16|z}return new f(I,I[I.length-1]&-2147483648?-1:0)};function B(x,R){return x.add(C(R))}r.j=function(x){if(N(this)||N(x))return b;if(U(this))return U(x)?C(this).j(C(x)):C(C(this).j(x));if(U(x))return C(this.j(C(x)));if(0>this.l(P)&&0>x.l(P))return g(this.m()*x.m());for(var R=this.g.length+x.g.length,I=[],V=0;V<2*R;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(var L=0;L<x.g.length;L++){var z=this.i(V)>>>16,M=this.i(V)&65535,dt=x.i(L)>>>16,Ue=x.i(L)&65535;I[2*V+2*L]+=M*Ue,H(I,2*V+2*L),I[2*V+2*L+1]+=z*Ue,H(I,2*V+2*L+1),I[2*V+2*L+1]+=M*dt,H(I,2*V+2*L+1),I[2*V+2*L+2]+=z*dt,H(I,2*V+2*L+2)}for(V=0;V<R;V++)I[V]=I[2*V+1]<<16|I[2*V];for(V=R;V<2*R;V++)I[V]=0;return new f(I,0)};function H(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function Q(x,R){this.g=x,this.h=R}function X(x,R){if(N(R))throw Error("division by zero");if(N(x))return new Q(b,b);if(U(x))return R=X(C(x),R),new Q(C(R.g),C(R.h));if(U(R))return R=X(x,C(R)),new Q(C(R.g),R.h);if(30<x.g.length){if(U(x)||U(R))throw Error("slowDivide_ only works with positive integers.");for(var I=A,V=R;0>=V.l(x);)I=G(I),V=G(V);var L=Z(I,1),z=Z(V,1);for(V=Z(V,2),I=Z(I,2);!N(V);){var M=z.add(V);0>=M.l(x)&&(L=L.add(I),z=M),V=Z(V,1),I=Z(I,1)}return R=B(x,L.j(R)),new Q(L,R)}for(L=b;0<=x.l(R);){for(I=Math.max(1,Math.floor(x.m()/R.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),z=g(I),M=z.j(R);U(M)||0<M.l(x);)I-=V,z=g(I),M=z.j(R);N(z)&&(z=A),L=L.add(z),x=B(x,M)}return new Q(L,x)}r.A=function(x){return X(this,x).h},r.and=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],V=0;V<R;V++)I[V]=this.i(V)&x.i(V);return new f(I,this.h&x.h)},r.or=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],V=0;V<R;V++)I[V]=this.i(V)|x.i(V);return new f(I,this.h|x.h)},r.xor=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],V=0;V<R;V++)I[V]=this.i(V)^x.i(V);return new f(I,this.h^x.h)};function G(x){for(var R=x.g.length+1,I=[],V=0;V<R;V++)I[V]=x.i(V)<<1|x.i(V-1)>>>31;return new f(I,x.h)}function Z(x,R){var I=R>>5;R%=32;for(var V=x.g.length-I,L=[],z=0;z<V;z++)L[z]=0<R?x.i(z+I)>>>R|x.i(z+I+1)<<32-R:x.i(z+I);return new f(L,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,AT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=_,is=f}).apply(typeof lE<"u"?lE:typeof self<"u"?self:typeof window<"u"?window:{});var Kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bT,jl,wT,sh,Lm,RT,IT,CT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kc=="object"&&Kc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var F=c[w];if(!(F in v))break e;v=v[F]}c=c[c.length-1],w=v[c],y=y(w),y!=w&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,w=!1,F={next:function(){if(!w&&v<c.length){var J=v++;return{value:y(J,c[J]),done:!1}}return w=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function b(c,y,v){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,w),c.apply(y,F)}}return function(){return c.apply(y,arguments)}}function A(c,y,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:b,A.apply(null,arguments)}function P(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function N(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(w,F,J){for(var fe=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)fe[Fe-2]=arguments[Fe];return y.prototype[F].apply(w,fe)}}function U(c){const y=c.length;if(0<y){const v=Array(y);for(let w=0;w<y;w++)v[w]=c[w];return v}return[]}function C(c,y){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(p(w)){const F=c.length||0,J=w.length||0;c.length=F+J;for(let fe=0;fe<J;fe++)c[F+fe]=w[fe]}else c.push(w)}}class B{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function H(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function X(c){return X[" "](c),c}X[" "]=function(){};var G=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function Z(c,y,v){for(const w in c)y.call(v,c[w],w,c)}function x(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function R(c){const y={};for(const v in c)y[v]=c[v];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,y){let v,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(v in w)c[v]=w[v];for(let J=0;J<I.length;J++)v=I[J],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function L(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function z(c){m.setTimeout(()=>{throw c},0)}function M(){var c=Te;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class dt{constructor(){this.h=this.g=null}add(y,v){const w=Ue.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var Ue=new B(()=>new ee,c=>c.reset());class ee{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let te,ce=!1,Te=new dt,k=()=>{const c=m.Promise.resolve(void 0);te=()=>{c.then(re)}};var re=()=>{for(var c;c=M();){try{c.h.call(c.g)}catch(v){z(v)}var y=Ue;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ce=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function Ce(c,y){if(ue.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(G){e:{try{X(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:de[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}N(Ce,ue);var de={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),me=0;function Ne(c,y,v,w,F){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=F,this.key=++me,this.da=this.fa=!1}function _e(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function mt(c){this.src=c,this.g={},this.h=0}mt.prototype.add=function(c,y,v,w,F){var J=c.toString();c=this.g[J],c||(c=this.g[J]=[],this.h++);var fe=ot(c,y,w,F);return-1<fe?(y=c[fe],v||(y.fa=!1)):(y=new Ne(y,this.src,J,!!w,F),y.fa=v,c.push(y)),y};function Lt(c,y){var v=y.type;if(v in c.g){var w=c.g[v],F=Array.prototype.indexOf.call(w,y,void 0),J;(J=0<=F)&&Array.prototype.splice.call(w,F,1),J&&(_e(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ot(c,y,v,w){for(var F=0;F<c.length;++F){var J=c[F];if(!J.da&&J.listener==y&&J.capture==!!v&&J.ha==w)return F}return-1}var ct="closure_lm_"+(1e6*Math.random()|0),Rn={};function an(c,y,v,w,F){if(Array.isArray(y)){for(var J=0;J<y.length;J++)an(c,y[J],v,w,F);return null}return v=jn(v),c&&c[le]?c.K(y,v,g(w)?!!w.capture:!1,F):Et(c,y,v,!1,w,F)}function Et(c,y,v,w,F,J){if(!y)throw Error("Invalid event type");var fe=g(F)?!!F.capture:!!F,Fe=ze(c);if(Fe||(c[ct]=Fe=new mt(c)),v=Fe.add(y,v,w,fe,J),v.proxy)return v;if(w=Ln(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)ve||(F=fe),F===void 0&&(F=!1),c.addEventListener(y.toString(),w,F);else if(c.attachEvent)c.attachEvent(on(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ln(){function c(v){return y.call(c.src,c.listener,v)}const y=Oe;return c}function En(c,y,v,w,F){if(Array.isArray(y))for(var J=0;J<y.length;J++)En(c,y[J],v,w,F);else w=g(w)?!!w.capture:!!w,v=jn(v),c&&c[le]?(c=c.i,y=String(y).toString(),y in c.g&&(J=c.g[y],v=ot(J,v,w,F),-1<v&&(_e(J[v]),Array.prototype.splice.call(J,v,1),J.length==0&&(delete c.g[y],c.h--)))):c&&(c=ze(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ot(y,v,w,F)),(v=-1<c?y[c]:null)&&Un(v))}function Un(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[le])Lt(y.i,c);else{var v=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(v,w,c.capture):y.detachEvent?y.detachEvent(on(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=ze(y))?(Lt(v,c),v.h==0&&(v.src=null,y[ct]=null)):_e(c)}}}function on(c){return c in Rn?Rn[c]:Rn[c]="on"+c}function Oe(c,y){if(c.da)c=!0;else{y=new Ce(y,this);var v=c.listener,w=c.ha||c.src;c.fa&&Un(c),c=v.call(w,y)}return c}function ze(c){return c=c[ct],c instanceof mt?c:null}var ki="__closure_events_fn_"+(1e9*Math.random()>>>0);function jn(c){return typeof c=="function"?c:(c[ki]||(c[ki]=function(y){return c.handleEvent(y)}),c[ki])}function ht(){he.call(this),this.i=new mt(this),this.M=this,this.F=null}N(ht,he),ht.prototype[le]=!0,ht.prototype.removeEventListener=function(c,y,v,w){En(this,c,y,v,w)};function Xe(c,y){var v,w=c.F;if(w)for(v=[];w;w=w.F)v.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new ue(y,c);else if(y instanceof ue)y.target=y.target||c;else{var F=y;y=new ue(w,c),V(y,F)}if(F=!0,v)for(var J=v.length-1;0<=J;J--){var fe=y.g=v[J];F=mn(fe,w,!0,y)&&F}if(fe=y.g=c,F=mn(fe,w,!0,y)&&F,F=mn(fe,w,!1,y)&&F,v)for(J=0;J<v.length;J++)fe=y.g=v[J],F=mn(fe,w,!1,y)&&F}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],w=0;w<v.length;w++)_e(v[w]);delete c.g[y],c.h--}}this.F=null},ht.prototype.K=function(c,y,v,w){return this.i.add(String(c),y,!1,v,w)},ht.prototype.L=function(c,y,v,w){return this.i.add(String(c),y,!0,v,w)};function mn(c,y,v,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,J=0;J<y.length;++J){var fe=y[J];if(fe&&!fe.da&&fe.capture==v){var Fe=fe.listener,jt=fe.ha||fe.src;fe.fa&&Lt(c.i,fe),F=Fe.call(jt,w)!==!1&&F}}return F&&!w.defaultPrevented}function xt(c,y,v){if(typeof c=="function")v&&(c=A(c,v));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Su(c){c.g=xt(()=>{c.g=null,c.i&&(c.i=!1,Su(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class uf extends he{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Su(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(c){he.call(this),this.h=c,this.g={}}N(ps,he);var gs=[];function ys(c){Z(c.g,function(y,v){this.g.hasOwnProperty(v)&&Un(y)},c),c.g={}}ps.prototype.N=function(){ps.aa.N.call(this),ys(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ei=m.JSON.stringify,sa=m.JSON.parse,vs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Co(){}Co.prototype.h=null;function xo(c){return c.h||(c.h=c.i())}function Do(){}var Li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ui(){ue.call(this,"d")}N(Ui,ue);function No(){ue.call(this,"c")}N(No,ue);var di={},Oo=null;function _r(){return Oo=Oo||new ht}di.La="serverreachability";function aa(c){ue.call(this,di.La,c)}N(aa,ue);function Er(c){const y=_r();Xe(y,new aa(y))}di.STAT_EVENT="statevent";function Au(c,y){ue.call(this,di.STAT_EVENT,c),this.stat=y}N(Au,ue);function yt(c){const y=_r();Xe(y,new Au(y,c))}di.Ma="timingevent";function Ut(c,y){ue.call(this,di.Ma,c),this.size=y}N(Ut,ue);function Dt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Bn(){this.g=!0}Bn.prototype.xa=function(){this.g=!1};function Mo(c,y,v,w,F,J){c.info(function(){if(c.g)if(J)for(var fe="",Fe=J.split("&"),jt=0;jt<Fe.length;jt++){var Ge=Fe[jt].split("=");if(1<Ge.length){var Gt=Ge[0];Ge=Ge[1];var Bt=Gt.split("_");fe=2<=Bt.length&&Bt[1]=="type"?fe+(Gt+"="+Ge+"&"):fe+(Gt+"=redacted&")}}else fe=null;else fe=J;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+y+`
`+v+`
`+fe})}function cf(c,y,v,w,F,J,fe){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+y+`
`+v+`
`+J+" "+fe})}function Tr(c,y,v,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+_s(c,v)+(w?" "+w:"")})}function bu(c,y){c.info(function(){return"TIMEOUT: "+y})}Bn.prototype.info=function(){};function _s(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var w=v[c];if(!(2>w.length)){var F=w[1];if(Array.isArray(F)&&!(1>F.length)){var J=F[0];if(J!="noop"&&J!="stop"&&J!="close")for(var fe=1;fe<F.length;fe++)F[fe]=""}}}}return ei(v)}catch{return y}}var Sr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ji={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mi;function pi(){}N(pi,Co),pi.prototype.g=function(){return new XMLHttpRequest},pi.prototype.i=function(){return{}},mi=new pi;function pn(c,y,v,w){this.j=c,this.i=y,this.l=v,this.R=w||1,this.U=new ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wt}function wt(){this.i=null,this.g="",this.h=!1}var Po={},oa={};function ti(c,y,v){c.L=1,c.v=bs(In(y)),c.m=v,c.P=!0,Bi(c,null)}function Bi(c,y){c.F=Date.now(),Es(c),c.A=In(c.v);var v=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),Bo(v.i,"t",w),c.C=0,v=c.j.J,c.h=new wt,c.g=Bu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new uf(A(c.Y,c,c.g),c.O)),y=c.U,v=c.g,w=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(gs[0]=F.toString()),F=gs);for(var J=0;J<F.length;J++){var fe=an(v,F[J],w||y.handleEvent,!1,y.h||y);if(!fe)break;y.g[fe.key]=fe}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Er(),Mo(c.i,c.u,c.A,c.l,c.R,c.m)}pn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Fn(c)==3?y.j():this.Y(c)},pn.prototype.Y=function(c){try{if(c==this.g)e:{const Bt=Fn(this.g);var y=this.g.Ba();const Yi=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||Ou(this.g)))){this.J||Bt!=4||y==7||(y==8||0>=Yi?Er(3):Er(2)),Ar(this);var v=this.g.Z();this.X=v;t:if(wu(this)){var w=Ou(this.g);c="";var F=w.length,J=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wt(this),gi(this);var fe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(J&&y==F-1)});w.length=0,this.h.g+=c,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=v==200,cf(this.i,this.u,this.A,this.l,this.R,Bt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,jt=this.g;if((Fe=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Fe)){var Ge=Fe;break t}}Ge=null}if(v=Ge)Tr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ts(this,v);else{this.o=!1,this.s=3,yt(12),Wt(this),gi(this);break e}}if(this.P){v=!0;let Zt;for(;!this.J&&this.C<fe.length;)if(Zt=Ru(this,fe),Zt==oa){Bt==4&&(this.s=4,yt(14),v=!1),Tr(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==Po){this.s=4,yt(15),Tr(this.i,this.l,fe,"[Invalid Chunk]"),v=!1;break}else Tr(this.i,this.l,Zt,null),Ts(this,Zt);if(wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||fe.length!=0||this.h.h||(this.s=1,yt(16),v=!1),this.o=this.o&&v,!v)Tr(this.i,this.l,fe,"[Invalid Chunked Response]"),Wt(this),gi(this);else if(0<fe.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),Os(Gt),Gt.M=!0,yt(11))}}else Tr(this.i,this.l,fe,null),Ts(this,fe);Bt==4&&Wt(this),this.o&&!this.J&&(Bt==4?Lu(this.j,this):(this.o=!1,Es(this)))}else pf(this.g),v==400&&0<fe.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),Wt(this),gi(this)}}}catch{}finally{}};function wu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ru(c,y){var v=c.C,w=y.indexOf(`
`,v);return w==-1?oa:(v=Number(y.substring(v,w)),isNaN(v)?Po:(w+=1,w+v>y.length?oa:(y=y.slice(w,w+v),c.C=w+v,y)))}pn.prototype.cancel=function(){this.J=!0,Wt(this)};function Es(c){c.S=Date.now()+c.I,Iu(c,c.I)}function Iu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Dt(A(c.ba,c),y)}function Ar(c){c.B&&(m.clearTimeout(c.B),c.B=null)}pn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(bu(this.i,this.A),this.L!=2&&(Er(),yt(17)),Wt(this),this.s=2,gi(this)):Iu(this,this.S-c)};function gi(c){c.j.G==0||c.J||Lu(c.j,c)}function Wt(c){Ar(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ys(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ts(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Vo(v.h,c))){if(!c.K&&Vo(v.h,c)&&v.G==3){try{var w=v.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)_a(v),ya(v);else break e;Go(v),yt(18)}}else v.za=F[1],0<v.za-v.T&&37500>F[2]&&v.F&&v.v==0&&!v.C&&(v.C=Dt(A(v.Za,v),6e3));if(1>=ua(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Qi(v,11)}else if((c.K||v.g==c)&&_a(v),!H(y))for(F=v.Da.g.parse(y),y=0;y<F.length;y++){let Ge=F[y];if(v.T=Ge[0],Ge=Ge[1],v.G==2)if(Ge[0]=="c"){v.K=Ge[1],v.ia=Ge[2];const Gt=Ge[3];Gt!=null&&(v.la=Gt,v.j.info("VER="+v.la));const Bt=Ge[4];Bt!=null&&(v.Aa=Bt,v.j.info("SVER="+v.Aa));const Yi=Ge[5];Yi!=null&&typeof Yi=="number"&&0<Yi&&(w=1.5*Yi,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const Zt=c.g;if(Zt){const Ai=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ai){var J=w.h;J.g||Ai.indexOf("spdy")==-1&&Ai.indexOf("quic")==-1&&Ai.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(ca(J,J.h),J.h=null))}if(w.D){const Qo=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Qo&&(w.ya=Qo,it(w.I,w.D,Qo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var fe=c;if(w.qa=ju(w,w.J?w.ia:null,w.W),fe.K){gn(w.h,fe);var Fe=fe,jt=w.L;jt&&(Fe.I=jt),Fe.B&&(Ar(Fe),Es(Fe)),w.g=fe}else Vu(w);0<v.i.length&&va(v)}else Ge[0]!="stop"&&Ge[0]!="close"||Qi(v,7);else v.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Qi(v,7):Ho(v):Ge[0]!="noop"&&v.l&&v.l.ta(Ge),v.v=0)}}Er(4)}catch{}}var Cu=class{constructor(c,y){this.g=c,this.map=y}};function zi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function la(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ua(c){return c.h?1:c.g?c.g.size:0}function Vo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ca(c,y){c.g?c.g.add(y):c.h=y}function gn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}zi.prototype.cancel=function(){if(this.i=ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ko(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return U(c.i)}function hf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,w=0;w<v;w++)y.push(c[w]);return y}y=[],v=0;for(w in c)y[v++]=c[w];return y}function ha(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const w in c)y[v++]=w;return y}}}function Lo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=ha(c),w=hf(c),F=w.length,J=0;J<F;J++)y.call(void 0,w[J],v&&v[J],c)}var Ss=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ff(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var w=c[v].indexOf("="),F=null;if(0<=w){var J=c[v].substring(0,w);F=c[v].substring(w+1)}else J=c[v];y(J,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Nt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Nt){this.h=c.h,As(this,c.j),this.o=c.o,this.g=c.g,br(this,c.s),this.l=c.l;var y=c.i,v=new Hi;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),qi(this,v),this.m=c.m}else c&&(y=String(c).match(Ss))?(this.h=!1,As(this,y[1]||"",!0),this.o=zn(y[2]||""),this.g=zn(y[3]||"",!0),br(this,y[4]),this.l=zn(y[5]||"",!0),qi(this,y[6]||"",!0),this.m=zn(y[7]||"")):(this.h=!1,this.i=new Hi(null,this.h))}Nt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ws(y,Uo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ws(y,Uo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ws(v,v.charAt(0)=="/"?df:jo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ws(v,fa)),c.join("")};function In(c){return new Nt(c)}function As(c,y,v){c.j=v?zn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function br(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function qi(c,y,v){y instanceof Hi?(c.i=y,Du(c.i,c.h)):(v||(y=ws(y,mf)),c.i=new Hi(y,c.h))}function it(c,y,v){c.i.set(y,v)}function bs(c){return it(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function zn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ws(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,xu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function xu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Uo=/[#\/\?@]/g,jo=/[#\?:]/g,df=/[#\?]/g,mf=/[#\?@]/g,fa=/#/g;function Hi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function qn(c){c.g||(c.g=new Map,c.h=0,c.i&&ff(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Hi.prototype,r.add=function(c,y){qn(this),this.i=null,c=yi(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Fi(c,y){qn(c),y=yi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Gi(c,y){return qn(c),y=yi(c,y),c.g.has(y)}r.forEach=function(c,y){qn(this),this.g.forEach(function(v,w){v.forEach(function(F){c.call(y,F,w,this)},this)},this)},r.na=function(){qn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let w=0;w<y.length;w++){const F=c[w];for(let J=0;J<F.length;J++)v.push(y[w])}return v},r.V=function(c){qn(this);let y=[];if(typeof c=="string")Gi(this,c)&&(y=y.concat(this.g.get(yi(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return qn(this),this.i=null,c=yi(this,c),Gi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Bo(c,y,v){Fi(c,y),0<v.length&&(c.i=null,c.g.set(yi(c,y),U(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var w=y[v];const J=encodeURIComponent(String(w)),fe=this.V(w);for(w=0;w<fe.length;w++){var F=J;fe[w]!==""&&(F+="="+encodeURIComponent(String(fe[w]))),c.push(F)}}return this.i=c.join("&")};function yi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Du(c,y){y&&!c.j&&(qn(c),c.i=null,c.g.forEach(function(v,w){var F=w.toLowerCase();w!=F&&(Fi(this,w),Bo(this,F,v))},c)),c.j=y}function Rs(c,y){const v=new Bn;if(m.Image){const w=new Image;w.onload=P(Hn,v,"TestLoadImage: loaded",!0,y,w),w.onerror=P(Hn,v,"TestLoadImage: error",!1,y,w),w.onabort=P(Hn,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=P(Hn,v,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function ni(c,y){const v=new Bn,w=new AbortController,F=setTimeout(()=>{w.abort(),Hn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(J=>{clearTimeout(F),J.ok?Hn(v,"TestPingServer: ok",!0,y):Hn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),Hn(v,"TestPingServer: error",!1,y)})}function Hn(c,y,v,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(v)}catch{}}function Is(){this.g=new vs}function vi(c,y,v){const w=v||"";try{Lo(c,function(F,J){let fe=F;g(F)&&(fe=ei(F)),y.push(w+J+"="+encodeURIComponent(fe))})}catch(F){throw y.push(w+"type="+encodeURIComponent("_badmap")),F}}function wr(c){this.l=c.Ub||null,this.j=c.eb||!1}N(wr,Co),wr.prototype.g=function(){return new Ki(this.l,this.j)},wr.prototype.i=function(c){return function(){return c}}({});function Ki(c,y){ht.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Ki,ht),r=Ki.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ei(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_i(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function zo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?_i(this):Ei(this),this.readyState==3&&zo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,_i(this))},r.Qa=function(c){this.g&&(this.response=c,_i(this))},r.ga=function(){this.g&&_i(this)};function _i(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ei(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Ei(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qo(c){let y="";return Z(c,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function Ft(c,y,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=qo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):it(c,y,v))}function Je(c){ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Je,ht);var da=/^https?$/i,Cs=["POST","PUT"];r=Je.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mi.g(),this.v=this.o?xo(this.o):xo(mi),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(J){Nu(this,J);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)v.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const J of w.keys())v.set(J,w.get(J));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(J=>J.toLowerCase()=="content-type"),F=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Cs,y,void 0))||w||F||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,fe]of v)this.g.setRequestHeader(J,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xs(this),this.u=!0,this.g.send(c),this.u=!1}catch(J){Nu(this,J)}};function Nu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ma(c),Ti(c)}function ma(c){c.A||(c.A=!0,Xe(c,"complete"),Xe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Xe(this,"complete"),Xe(this,"abort"),Ti(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ti(this,!0)),Je.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?pa(this):this.bb())},r.bb=function(){pa(this)};function pa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Fn(c)!=4||c.Z()!=2)){if(c.u&&Fn(c)==4)xt(c.Ea,0,c);else if(Xe(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const fe=c.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var w;if(w=fe===0){var F=String(c.D).match(Ss)[1]||null;!F&&m.self&&m.self.location&&(F=m.self.location.protocol.slice(0,-1)),w=!da.test(F?F.toLowerCase():"")}v=w}if(v)Xe(c,"complete"),Xe(c,"success");else{c.m=6;try{var J=2<Fn(c)?c.g.statusText:""}catch{J=""}c.l=J+" ["+c.Z()+"]",ma(c)}}finally{Ti(c)}}}}function Ti(c,y){if(c.g){xs(c);const v=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Xe(c,"ready");try{v.onreadystatechange=w}catch{}}}function xs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),sa(y)}};function Ou(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function pf(c){const y={};c=(c.g&&2<=Fn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(H(c[w]))continue;var v=L(c[w]);const F=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const J=y[F]||[];y[F]=J,J.push(v)}x(y,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ds(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function ga(c){this.Aa=0,this.i=[],this.j=new Bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ds("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ds("baseRetryDelayMs",5e3,c),this.cb=Ds("retryDelaySeedMs",1e4,c),this.Wa=Ds("forwardChannelMaxRetries",2,c),this.wa=Ds("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new zi(c&&c.concurrentRequestLimit),this.Da=new Is,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ga.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,w){yt(0),this.W=c,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=ju(this,null,this.W),va(this)};function Ho(c){if(Mu(c),c.G==3){var y=c.U++,v=In(c.I);if(it(v,"SID",c.K),it(v,"RID",y),it(v,"TYPE","terminate"),Ns(c,v),y=new pn(c,c.j,y),y.L=2,y.v=bs(In(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Bu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Es(y)}Uu(c)}function ya(c){c.g&&(Os(c),c.g.cancel(),c.g=null)}function Mu(c){ya(c),c.u&&(m.clearTimeout(c.u),c.u=null),_a(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function va(c){if(!la(c.h)&&!c.s){c.s=!0;var y=c.Ga;te||k(),ce||(te(),ce=!0),Te.add(y,c),c.B=0}}function gf(c,y){return ua(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Dt(A(c.Ga,c,y),Ko(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new pn(this,this.j,c);let J=this.o;if(this.S&&(J?(J=R(J),V(J,this.S)):J=this.S),this.m!==null||this.O||(F.H=J,J=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Pu(this,F,y),v=In(this.I),it(v,"RID",c),it(v,"CVER",22),this.D&&it(v,"X-HTTP-Session-Id",this.D),Ns(this,v),J&&(this.O?y="headers="+encodeURIComponent(String(qo(J)))+"&"+y:this.m&&Ft(v,this.m,J)),ca(this.h,F),this.Ua&&it(v,"TYPE","init"),this.P?(it(v,"$req",y),it(v,"SID","null"),F.T=!0,ti(F,v,null)):ti(F,v,y),this.G=2}}else this.G==3&&(c?Fo(this,c):this.i.length==0||la(this.h)||Fo(this))};function Fo(c,y){var v;y?v=y.l:v=c.U++;const w=In(c.I);it(w,"SID",c.K),it(w,"RID",v),it(w,"AID",c.T),Ns(c,w),c.m&&c.o&&Ft(w,c.m,c.o),v=new pn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Pu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ca(c.h,v),ti(v,w,y)}function Ns(c,y){c.H&&Z(c.H,function(v,w){it(y,w,v)}),c.l&&Lo({},function(v,w){it(y,w,v)})}function Pu(c,y,v){v=Math.min(c.i.length,v);var w=c.l?A(c.l.Na,c.l,c):null;e:{var F=c.i;let J=-1;for(;;){const fe=["count="+v];J==-1?0<v?(J=F[0].g,fe.push("ofs="+J)):J=0:fe.push("ofs="+J);let Fe=!0;for(let jt=0;jt<v;jt++){let Ge=F[jt].g;const Gt=F[jt].map;if(Ge-=J,0>Ge)J=Math.max(0,F[jt].g-100),Fe=!1;else try{vi(Gt,fe,"req"+Ge+"_")}catch{w&&w(Gt)}}if(Fe){w=fe.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,w}function Vu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;te||k(),ce||(te(),ce=!0),Te.add(y,c),c.v=0}}function Go(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Dt(A(c.Fa,c),Ko(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,ku(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Dt(A(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),ya(this),ku(this))};function Os(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function ku(c){c.g=new pn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=In(c.qa);it(y,"RID","rpc"),it(y,"SID",c.K),it(y,"AID",c.T),it(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&it(y,"TO",c.ja),it(y,"TYPE","xmlhttp"),Ns(c,y),c.m&&c.o&&Ft(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=bs(In(y)),v.m=null,v.P=!0,Bi(v,c)}r.Za=function(){this.C!=null&&(this.C=null,ya(this),Go(this),yt(19))};function _a(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Lu(c,y){var v=null;if(c.g==y){_a(c),Os(c),c.g=null;var w=2}else if(Vo(c.h,y))v=y.D,gn(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var F=c.B;w=_r(),Xe(w,new Ut(w,v)),va(c)}else Vu(c);else if(F=y.s,F==3||F==0&&0<y.X||!(w==1&&gf(c,y)||w==2&&Go(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),F){case 1:Qi(c,5);break;case 4:Qi(c,10);break;case 3:Qi(c,6);break;default:Qi(c,2)}}}function Ko(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Qi(c,y){if(c.j.info("Error code "+y),y==2){var v=A(c.fb,c),w=c.Xa;const F=!w;w=new Nt(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||As(w,"https"),bs(w),F?Rs(w.toString(),v):ni(w.toString(),v)}else yt(2);c.G=0,c.l&&c.l.sa(y),Uu(c),Mu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Uu(c){if(c.G=0,c.ka=[],c.l){const y=ko(c.h);(y.length!=0||c.i.length!=0)&&(C(c.ka,y),C(c.ka,c.i),c.h.i.length=0,U(c.i),c.i.length=0),c.l.ra()}}function ju(c,y,v){var w=v instanceof Nt?In(v):new Nt(v);if(w.g!="")y&&(w.g=y+"."+w.g),br(w,w.s);else{var F=m.location;w=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var J=new Nt(null);w&&As(J,w),y&&(J.g=y),F&&br(J,F),v&&(J.l=v),w=J}return v=c.D,y=c.ya,v&&y&&it(w,v,y),it(w,"VER",c.la),Ns(c,w),w}function Bu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Je(new wr({eb:v})):new Je(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function zu(){}r=zu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ea(){}Ea.prototype.g=function(c,y){return new yn(c,y)};function yn(c,y){ht.call(this),this.g=new ga(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!H(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!H(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Si(this)}N(yn,ht),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Ho(this.g)},yn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=ei(c),c=v);y.i.push(new Cu(y.Ya++,c)),y.G==3&&va(y)},yn.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,yn.aa.N.call(this)};function qu(c){Ui.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}N(qu,Ui);function Hu(){No.call(this),this.status=1}N(Hu,No);function Si(c){this.g=c}N(Si,zu),Si.prototype.ua=function(){Xe(this.g,"a")},Si.prototype.ta=function(c){Xe(this.g,new qu(c))},Si.prototype.sa=function(c){Xe(this.g,new Hu)},Si.prototype.ra=function(){Xe(this.g,"b")},Ea.prototype.createWebChannel=Ea.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,CT=function(){return new Ea},IT=function(){return _r()},RT=di,Lm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sr.NO_ERROR=0,Sr.TIMEOUT=8,Sr.HTTP_ERROR=6,sh=Sr,ji.COMPLETE="complete",wT=ji,Do.EventType=Li,Li.OPEN="a",Li.CLOSE="b",Li.ERROR="c",Li.MESSAGE="d",ht.prototype.listen=ht.prototype.K,jl=Do,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,bT=Je}).apply(typeof Kc<"u"?Kc:typeof self<"u"?self:typeof window<"u"?window:{});const uE="@firebase/firestore",cE="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new cp("@firebase/firestore");function $a(){return Js.logLevel}function pe(r,...e){if(Js.logLevel<=qe.DEBUG){const n=e.map(Sp);Js.debug(`Firestore (${Ao}): ${r}`,...n)}}function pr(r,...e){if(Js.logLevel<=qe.ERROR){const n=e.map(Sp);Js.error(`Firestore (${Ao}): ${r}`,...n)}}function oo(r,...e){if(Js.logLevel<=qe.WARN){const n=e.map(Sp);Js.warn(`Firestore (${Ao}): ${r}`,...n)}}function Sp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,xT(r,s,n)}function xT(r,e,n){let s=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw pr(s),new Error(s)}function et(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||xT(e,o,s)}function Me(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(hn.UNAUTHENTICATED))}shutdown(){}}class hx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fx{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){et(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new hr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new hr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(et(typeof s.accessToken=="string",31837,{l:s}),new DT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class dx{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mx{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new dx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class px{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ai(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){et(this.o===void 0,3512);const s=u=>{u.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,pe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new hE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new hE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=gx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ke(r,e){return r<e?-1:r>e?1:0}function Um(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return ke(s,o);{const u=NT(),f=yx(u.encode(fE(r,n)),u.encode(fE(e,n)));return f!==0?f:ke(s,o)}}n+=s>65535?2:1}return ke(r.length,e.length)}function fE(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function yx(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return ke(r[n],e[n]);return ke(r.length,e.length)}function lo(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=-62135596800,mE=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*mE);return new gt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<dE)throw new ge(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mE}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-dE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new gt(0,0))}static max(){return new De(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="__name__";class Di{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ie(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Di.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Di?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Di.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const s=Di.isNumericId(e),o=Di.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Di.extractNumericId(e).compare(Di.extractNumericId(n)):Um(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return is.fromString(e.substring(4,e.length-2))}}class pt extends Di{construct(e,n,s){return new pt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(oe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new pt(n)}static emptyPath(){return new pt([])}}const vx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Di{construct(e,n,s){return new rn(e,n,s)}static isValidIdentifier(e){return vx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pE}static keyField(){return new rn([pE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ge(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ge(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ge(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(n)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(pt.fromString(e))}static fromName(e){return new Se(pt.fromString(e).popFirst(5))}static empty(){return new Se(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new pt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=-1;function _x(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=De.fromTimestamp(s===1e9?new gt(n+1,0):new gt(n,s));return new as(o,Se.empty(),e)}function Ex(r){return new as(r.readTime,r.key,Jl)}class as{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new as(De.min(),Se.empty(),Jl)}static max(){return new as(De.max(),Se.empty(),Jl)}}function Tx(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(r.documentKey,e.documentKey),n!==0?n:ke(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ax{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(r){if(r.code!==oe.FAILED_PRECONDITION||r.message!==Sx)throw r;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,s)=>{n(e)})}static reject(e){return new ae((n,s)=>{s(e)})}static waitFor(e){return new ae((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=ae.resolve(!1);for(const s of e)n=n.next(o=>o?ae.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ae((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(_=>{f[g]=_,++m,m===u&&s(f)},_=>o(_))}})}static doWhile(e,n){return new ae((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function bx(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Bh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=-1;function zh(r){return r==null}function Eh(r){return r===0&&1/r==-1/0}function wx(r){return typeof r=="number"&&Number.isInteger(r)&&!Eh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="";function Rx(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=gE(e)),e=Ix(r.get(n),e);return gE(e)}function Ix(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case MT:n+="";break;default:n+=u}}return n}function gE(r){return r+MT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ds(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function PT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){this.comparator=e,this.root=n||nn.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qc(this.root,e,this.comparator,!0)}}class Qc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??nn.RED,this.left=o??nn.EMPTY,this.right=u??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new nn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return nn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vE(this.data.getIterator())}getIteratorFrom(e){return new vE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class vE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new Ht(rn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new VT("Invalid base64 string: "+u):u}}(e);return new sn(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const Cx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(r){if(et(!!r,39018),typeof r=="string"){let e=0;const n=Cx.exec(r);if(et(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ct(r.seconds),nanos:Ct(r.nanos)}}function Ct(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ls(r){return typeof r=="string"?sn.fromBase64String(r):sn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="server_timestamp",LT="__type__",UT="__previous_value__",jT="__local_write_time__";function bp(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[LT])===null||n===void 0?void 0:n.stringValue)===kT}function qh(r){const e=r.mapValue.fields[UT];return bp(e)?qh(e):e}function eu(r){const e=os(r.mapValue.fields[jT].timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n,s,o,u,f,m,p,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Th="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||Th}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===Th}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="__type__",Dx="__max__",Yc={mapValue:{}},zT="__vector__",Sh="value";function us(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?bp(r)?4:Ox(r)?9007199254740991:Nx(r)?10:11:Ie(28295,{value:r})}function Vi(r,e){if(r===e)return!0;const n=us(r);if(n!==us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return eu(r).isEqual(eu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=os(o.timestampValue),m=os(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ls(o.bytesValue).isEqual(ls(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return Ct(o.geoPointValue.latitude)===Ct(u.geoPointValue.latitude)&&Ct(o.geoPointValue.longitude)===Ct(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ct(o.integerValue)===Ct(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ct(o.doubleValue),m=Ct(u.doubleValue);return f===m?Eh(f)===Eh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return lo(r.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(yE(f)!==yE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Vi(f[p],m[p])))return!1;return!0}(r,e);default:return Ie(52216,{left:r})}}function nu(r,e){return(r.values||[]).find(n=>Vi(n,e))!==void 0}function uo(r,e){if(r===e)return 0;const n=us(r),s=us(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=Ct(u.integerValue||u.doubleValue),p=Ct(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return _E(r.timestampValue,e.timestampValue);case 4:return _E(eu(r),eu(e));case 5:return Um(r.stringValue,e.stringValue);case 6:return function(u,f){const m=ls(u),p=ls(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=ke(m[g],p[g]);if(_!==0)return _}return ke(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=ke(Ct(u.latitude),Ct(f.latitude));return m!==0?m:ke(Ct(u.longitude),Ct(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return EE(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,_;const b=u.fields||{},A=f.fields||{},P=(m=b[Sh])===null||m===void 0?void 0:m.arrayValue,N=(p=A[Sh])===null||p===void 0?void 0:p.arrayValue,U=ke(((g=P==null?void 0:P.values)===null||g===void 0?void 0:g.length)||0,((_=N==null?void 0:N.values)===null||_===void 0?void 0:_.length)||0);return U!==0?U:EE(P,N)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Yc.mapValue&&f===Yc.mapValue)return 0;if(u===Yc.mapValue)return 1;if(f===Yc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let b=0;b<p.length&&b<_.length;++b){const A=Um(p[b],_[b]);if(A!==0)return A;const P=uo(m[p[b]],g[_[b]]);if(P!==0)return P}return ke(p.length,_.length)}(r.mapValue,e.mapValue);default:throw Ie(23264,{Pe:n})}}function _E(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ke(r,e);const n=os(r),s=os(e),o=ke(n.seconds,s.seconds);return o!==0?o:ke(n.nanos,s.nanos)}function EE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=uo(n[o],s[o]);if(u)return u}return ke(n.length,s.length)}function co(r){return jm(r)}function jm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=os(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return ls(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Se.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=jm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${jm(n.fields[f])}`;return o+"}"}(r.mapValue):Ie(61005,{value:r})}function ah(r){switch(us(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qh(r);return e?16+ah(e):16;case 5:return 2*r.stringValue.length;case 6:return ls(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+ah(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ds(s.fields,(u,f)=>{o+=u.length+ah(f)}),o}(r.mapValue);default:throw Ie(13486,{value:r})}}function TE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Bm(r){return!!r&&"integerValue"in r}function wp(r){return!!r&&"arrayValue"in r}function SE(r){return!!r&&"nullValue"in r}function AE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function oh(r){return!!r&&"mapValue"in r}function Nx(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[BT])===null||n===void 0?void 0:n.stringValue)===zT}function Gl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ds(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Gl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function Ox(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Dx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!oh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(n)}setAll(e){let n=rn.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Gl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];oh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ds(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new wn(Gl(this.value))}}function qT(r){const e=[];return ds(r.fields,(n,s)=>{const o=new rn([n]);if(oh(s)){const u=qT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new fn(e,0,De.min(),De.min(),De.min(),wn.empty(),0)}static newFoundDocument(e,n,s,o){return new fn(e,1,n,De.min(),s,o,0)}static newNoDocument(e,n){return new fn(e,2,n,De.min(),De.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,De.min(),De.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.position=e,this.inclusive=n}}function bE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=Se.comparator(Se.fromName(f.referenceValue),n.key):s=uo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function wE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Vi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Mx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{}class Vt extends HT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Vx(e,n,s):n==="array-contains"?new Ux(e,s):n==="in"?new jx(e,s):n==="not-in"?new Bx(e,s):n==="array-contains-any"?new zx(e,s):new Vt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new kx(e,s):new Lx(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(uo(n,this.value)):n!==null&&us(this.value)===us(n)&&this.matchesComparison(uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends HT{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new ui(e,n)}matches(e){return FT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function FT(r){return r.op==="and"}function GT(r){return Px(r)&&FT(r)}function Px(r){for(const e of r.filters)if(e instanceof ui)return!1;return!0}function zm(r){if(r instanceof Vt)return r.field.canonicalString()+r.op.toString()+co(r.value);if(GT(r))return r.filters.map(e=>zm(e)).join(",");{const e=r.filters.map(n=>zm(n)).join(",");return`${r.op}(${e})`}}function KT(r,e){return r instanceof Vt?function(s,o){return o instanceof Vt&&s.op===o.op&&s.field.isEqual(o.field)&&Vi(s.value,o.value)}(r,e):r instanceof ui?function(s,o){return o instanceof ui&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&KT(f,o.filters[m]),!0):!1}(r,e):void Ie(19439)}function QT(r){return r instanceof Vt?function(n){return`${n.field.canonicalString()} ${n.op} ${co(n.value)}`}(r):r instanceof ui?function(n){return n.op.toString()+" {"+n.getFilters().map(QT).join(" ,")+"}"}(r):"Filter"}class Vx extends Vt{constructor(e,n,s){super(e,n,s),this.key=Se.fromName(s.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class kx extends Vt{constructor(e,n){super(e,"in",n),this.keys=YT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Lx extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=YT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function YT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Se.fromName(s.referenceValue))}class Ux extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wp(n)&&nu(n.arrayValue,this.value)}}class jx extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class Bx extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class zx extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>nu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function RE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new qx(r,e,n,s,o,u,f)}function Rp(r){const e=Me(r);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>zm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>co(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>co(s)).join(",")),e.Ie=n}return e.Ie}function Ip(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Mx(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!KT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!wE(r.startAt,e.startAt)&&wE(r.endAt,e.endAt)}function qm(r){return Se.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Hx(r,e,n,s,o,u,f,m){return new pu(r,e,n,s,o,u,f,m)}function Cp(r){return new pu(r)}function IE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function $T(r){return r.collectionGroup!==null}function Kl(r){const e=Me(r);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ht(rn.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new bh(u,s))}),n.has(rn.keyField().canonicalString())||e.Ee.push(new bh(rn.keyField(),s))}return e.Ee}function Mi(r){const e=Me(r);return e.de||(e.de=Fx(e,Kl(r))),e.de}function Fx(r,e){if(r.limitType==="F")return RE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new bh(o.field,u)});const n=r.endAt?new Ah(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ah(r.startAt.position,r.startAt.inclusive):null;return RE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Hm(r,e){const n=r.filters.concat([e]);return new pu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Fm(r,e,n){return new pu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Hh(r,e){return Ip(Mi(r),Mi(e))&&r.limitType===e.limitType}function XT(r){return`${Rp(Mi(r))}|lt:${r.limitType}`}function Xa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>QT(o)).join(", ")}]`),zh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>co(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>co(o)).join(",")),`Target(${s})`}(Mi(r))}; limitType=${r.limitType})`}function Fh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Se.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Kl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=bE(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Kl(s),o)||s.endAt&&!function(f,m,p){const g=bE(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Kl(s),o))}(r,e)}function Gx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function WT(r){return(e,n)=>{let s=!1;for(const o of Kl(r)){const u=Kx(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Kx(r,e,n){const s=r.field.isKeyField()?Se.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?uo(p,g):Ie(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ie(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ds(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return PT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=new St(Se.comparator);function gr(){return Qx}const ZT=new St(Se.comparator);function Bl(...r){let e=ZT;for(const n of r)e=e.insert(n.key,n);return e}function JT(r){let e=ZT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function $s(){return Ql()}function eS(){return Ql()}function Ql(){return new na(r=>r.toString(),(r,e)=>r.isEqual(e))}const Yx=new St(Se.comparator),$x=new Ht(Se.comparator);function He(...r){let e=$x;for(const n of r)e=e.add(n);return e}const Xx=new Ht(ke);function Wx(){return Xx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eh(e)?"-0":e}}function tS(r){return{integerValue:""+r}}function Zx(r,e){return wx(e)?tS(e):xp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(){this._=void 0}}function Jx(r,e,n){return r instanceof iu?function(o,u){const f={fields:{[LT]:{stringValue:kT},[jT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&bp(u)&&(u=qh(u)),u&&(f.fields[UT]=u),{mapValue:f}}(n,e):r instanceof ru?iS(r,e):r instanceof su?rS(r,e):function(o,u){const f=nS(o,u),m=CE(f)+CE(o.Re);return Bm(f)&&Bm(o.Re)?tS(m):xp(o.serializer,m)}(r,e)}function eD(r,e,n){return r instanceof ru?iS(r,e):r instanceof su?rS(r,e):n}function nS(r,e){return r instanceof wh?function(s){return Bm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class iu extends Gh{}class ru extends Gh{constructor(e){super(),this.elements=e}}function iS(r,e){const n=sS(e);for(const s of r.elements)n.some(o=>Vi(o,s))||n.push(s);return{arrayValue:{values:n}}}class su extends Gh{constructor(e){super(),this.elements=e}}function rS(r,e){let n=sS(e);for(const s of r.elements)n=n.filter(o=>!Vi(o,s));return{arrayValue:{values:n}}}class wh extends Gh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function CE(r){return Ct(r.integerValue||r.doubleValue)}function sS(r){return wp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n){this.field=e,this.transform=n}}function nD(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof ru&&o instanceof ru||s instanceof su&&o instanceof su?lo(s.elements,o.elements,Vi):s instanceof wh&&o instanceof wh?Vi(s.Re,o.Re):s instanceof iu&&o instanceof iu}(r.transform,e.transform)}class iD{constructor(e,n){this.version=e,this.transformResults=n}}class Zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Kh{}function aS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Dp(r.key,Zn.none()):new gu(r.key,r.data,Zn.none());{const n=r.data,s=wn.empty();let o=new Ht(rn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ms(r.key,s,new Vn(o.toArray()),Zn.none())}}function rD(r,e,n){r instanceof gu?function(o,u,f){const m=o.value.clone(),p=DE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof ms?function(o,u,f){if(!lh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=DE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(oS(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Yl(r,e,n,s){return r instanceof gu?function(u,f,m,p){if(!lh(u.precondition,f))return m;const g=u.value.clone(),_=NE(u.fieldTransforms,p,f);return g.setAll(_),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof ms?function(u,f,m,p){if(!lh(u.precondition,f))return m;const g=NE(u.fieldTransforms,p,f),_=f.data;return _.setAll(oS(u)),_.setAll(g),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,e,n,s):function(u,f,m){return lh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function sD(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=nS(s.transform,o||null);u!=null&&(n===null&&(n=wn.empty()),n.set(s.field,u))}return n||null}function xE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&lo(s,o,(u,f)=>nD(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class gu extends Kh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ms extends Kh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function oS(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function DE(r,e,n){const s=new Map;et(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,eD(f,m,n[o]))}return s}function NE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,Jx(u,f,e))}return s}class Dp extends Kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aD extends Kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&rD(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Yl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Yl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=eS();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=aS(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(De.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),He())}isEqual(e){return this.batchId===e.batchId&&lo(this.mutations,e.mutations,(n,s)=>xE(n,s))&&lo(this.baseMutations,e.baseMutations,(n,s)=>xE(n,s))}}class Np{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){et(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return Yx}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Np(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Qe;function cD(r){switch(r){case oe.OK:return Ie(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ie(15467,{code:r})}}function lS(r){if(r===void 0)return pr("GRPC error has no .code"),oe.UNKNOWN;switch(r){case Pt.OK:return oe.OK;case Pt.CANCELLED:return oe.CANCELLED;case Pt.UNKNOWN:return oe.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return oe.INTERNAL;case Pt.UNAVAILABLE:return oe.UNAVAILABLE;case Pt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Pt.NOT_FOUND:return oe.NOT_FOUND;case Pt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Pt.ABORTED:return oe.ABORTED;case Pt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Pt.DATA_LOSS:return oe.DATA_LOSS;default:return Ie(39323,{code:r})}}(Qe=Pt||(Pt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=new is([4294967295,4294967295],0);function OE(r){const e=NT().encode(r),n=new AT;return n.update(e),new Uint8Array(n.digest())}function ME(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new is([n,s],0),new is([o,u],0)]}class Op{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new zl(`Invalid padding: ${n}`);if(s<0)throw new zl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new zl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=is.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(is.fromNumber(s)));return o.compare(hD)===1&&(o=new is([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=OE(e),[s,o]=ME(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Op(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.pe===0)return;const n=OE(e),[s,o]=ME(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Qh(De.min(),o,new St(ke),gr(),He())}}class yu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new yu(s,n,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class uS{constructor(e,n){this.targetId=e,this.Ce=n}}class cS{constructor(e,n,s=sn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class PE{constructor(){this.Fe=0,this.Me=VE(),this.xe=sn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=He(),n=He(),s=He();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ie(38017,{changeType:u})}}),new yu(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=VE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,et(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class fD{constructor(e){this.ze=e,this.je=new Map,this.He=gr(),this.Je=$c(),this.Ye=$c(),this.Ze=new St(ke)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:Ie(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(qm(u))if(s===0){const f=new Se(u.path);this.tt(n,f,fn.newNoDocument(f,De.min()))}else et(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const m=this.ct(e),p=m?this.lt(m,e,f):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ls(s).toUint8Array()}catch(p){if(p instanceof VT)return oo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Op(f,o,u)}catch(p){return oo(p instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&qm(m.target)){const p=new Se(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,fn.newNoDocument(p,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=He();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new Qh(e,n,this.Ze,this.He,s);return this.He=gr(),this.Je=$c(),this.Ye=$c(),this.Ze=new St(ke),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new PE,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ht(ke),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ht(ke),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new PE),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function $c(){return new St(Se.comparator)}function VE(){return new St(Se.comparator)}const dD={asc:"ASCENDING",desc:"DESCENDING"},mD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pD={and:"AND",or:"OR"};class gD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gm(r,e){return r.useProto3Json||zh(e)?e:{value:e}}function Rh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function yD(r,e){return Rh(r,e.toTimestamp())}function Pi(r){return et(!!r,49232),De.fromTimestamp(function(n){const s=os(n);return new gt(s.seconds,s.nanos)}(r))}function Mp(r,e){return Km(r,e).canonicalString()}function Km(r,e){const n=function(o){return new pt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function fS(r){const e=pt.fromString(r);return et(yS(e),10190,{key:e.toString()}),e}function Qm(r,e){return Mp(r.databaseId,e.path)}function Sm(r,e){const n=fS(e);if(n.get(1)!==r.databaseId.projectId)throw new ge(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ge(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Se(mS(n))}function dS(r,e){return Mp(r.databaseId,e)}function vD(r){const e=fS(r);return e.length===4?pt.emptyPath():mS(e)}function Ym(r){return new pt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function mS(r){return et(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function kE(r,e,n){return{name:Qm(r,e),fields:n.value.mapValue.fields}}function _D(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ie(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,_){return g.useProto3Json?(et(_===void 0||typeof _=="string",58123),sn.fromBase64String(_||"")):(et(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),sn.fromUint8Array(_||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const _=g.code===void 0?oe.UNKNOWN:lS(g.code);return new ge(_,g.message||"")}(f);n=new cS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Sm(r,s.document.name),u=Pi(s.document.updateTime),f=s.document.createTime?Pi(s.document.createTime):De.min(),m=new wn({mapValue:{fields:s.document.fields}}),p=fn.newFoundDocument(o,u,f,m),g=s.targetIds||[],_=s.removedTargetIds||[];n=new uh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Sm(r,s.document),u=s.readTime?Pi(s.readTime):De.min(),f=fn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new uh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Sm(r,s.document),u=s.removedTargetIds||[];n=new uh([],u,o,null)}else{if(!("filter"in e))return Ie(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new uD(o,u),m=s.targetId;n=new uS(m,f)}}return n}function ED(r,e){let n;if(e instanceof gu)n={update:kE(r,e.key,e.value)};else if(e instanceof Dp)n={delete:Qm(r,e.key)};else if(e instanceof ms)n={update:kE(r,e.key,e.data),updateMask:xD(e.fieldMask)};else{if(!(e instanceof aD))return Ie(16599,{ft:e.type});n={verify:Qm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof iu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ru)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof su)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof wh)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Ie(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:yD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ie(27497)}(r,e.precondition)),n}function TD(r,e){return r&&r.length>0?(et(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?Pi(o.updateTime):Pi(u);return f.isEqual(De.min())&&(f=Pi(u)),new iD(f,o.transformResults||[])}(n,e))):[]}function SD(r,e){return{documents:[dS(r,e.path)]}}function AD(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=dS(r,o);const u=function(g){if(g.length!==0)return gS(ui.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(_=>function(A){return{field:Wa(A.field),direction:RD(A.dir)}}(_))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Gm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:o}}function bD(r){let e=vD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){et(s===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=function(b){const A=pS(b);return A instanceof ui&&GT(A)?A.getFilters():[A]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(A=>function(N){return new bh(Za(N.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(A))}(n.orderBy));let m=null;n.limit&&(m=function(b){let A;return A=typeof b=="object"?b.value:b,zh(A)?null:A}(n.limit));let p=null;n.startAt&&(p=function(b){const A=!!b.before,P=b.values||[];return new Ah(P,A)}(n.startAt));let g=null;return n.endAt&&(g=function(b){const A=!b.before,P=b.values||[];return new Ah(P,A)}(n.endAt)),Hx(e,o,f,u,m,"F",p,g)}function wD(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pS(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Za(n.unaryFilter.field);return Vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Za(n.unaryFilter.field);return Vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Za(n.unaryFilter.field);return Vt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Za(n.unaryFilter.field);return Vt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}}(r):r.fieldFilter!==void 0?function(n){return Vt.create(Za(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return ui.create(n.compositeFilter.filters.map(s=>pS(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}}(n.compositeFilter.op))}(r):Ie(30097,{filter:r})}function RD(r){return dD[r]}function ID(r){return mD[r]}function CD(r){return pD[r]}function Wa(r){return{fieldPath:r.canonicalString()}}function Za(r){return rn.fromServerFormat(r.fieldPath)}function gS(r){return r instanceof Vt?function(n){if(n.op==="=="){if(AE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NAN"}};if(SE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(AE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NAN"}};if(SE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(n.field),op:ID(n.op),value:n.value}}}(r):r instanceof ui?function(n){const s=n.getFilters().map(o=>gS(o));return s.length===1?s[0]:{compositeFilter:{op:CD(n.op),filters:s}}}(r):Ie(54877,{filter:r})}function xD(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function yS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n,s,o,u=De.min(),f=De.min(),m=sn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.wt=e}}function ND(r){const e=bD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Fm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.Cn=new MD}addToCollectionParentIndex(e,n){return this.Cn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(as.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(as.min())}updateCollectionGroup(e,n,s){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class MD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ht(pt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ht(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vS=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(vS,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ho(0)}static lr(){return new ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="LruGarbageCollector",PD=1048576;function jE([r,e],[n,s]){const o=ke(r,n);return o===0?ke(e,s):o}class VD{constructor(e){this.Er=e,this.buffer=new Ht(jE),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();jE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class kD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){pe(UE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wo(n)?pe(UE,"Ignoring IndexedDB error during garbage collection: ",n):await bo(n)}await this.mr(3e5)})}}class LD{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(Bh.le);const s=new VD(n);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(LE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LE):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,o,u,f,m,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(g=Date.now(),$a()<=qe.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-_}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function UD(r,e){return new LD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(){this.changes=new na(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ae.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Yl(s.mutation,o,Vn.empty(),gt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,He()).next(()=>s))}getLocalViewOfDocuments(e,n,s=He()){const o=$s();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Bl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=$s();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,He()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=gr();const f=Ql(),m=function(){return Ql()}();return n.forEach((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof ms)?u=u.insert(g.key,g):_!==void 0?(f.set(g.key,_.mutation.getFieldMask()),Yl(_.mutation,g,_.mutation.getFieldMask(),gt.now())):f.set(g.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,_)=>f.set(g,_)),n.forEach((g,_)=>{var b;return m.set(g,new BD(_,(b=f.get(g))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Ql();let o=new St((f,m)=>f-m),u=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let _=s.get(p)||Vn.empty();_=m.applyToLocalView(g,_),s.set(p,_);const b=(o.get(m.batchId)||He()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,b=eS();_.forEach(A=>{if(!u.has(A)){const P=aS(n.get(A),s.get(A));P!==null&&b.set(A,P),u=u.add(A)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ae.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return Se.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$T(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ae.resolve($s());let m=Jl,p=u;return f.next(g=>ae.forEach(g,(_,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(_)?ae.resolve():this.remoteDocumentCache.getEntry(e,_).next(A=>{p=p.insert(_,A)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,He())).next(_=>({batchId:m,changes:JT(_)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next(s=>{let o=Bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Bl();return this.indexManager.getCollectionParents(e,u).next(m=>ae.forEach(m,p=>{const g=function(b,A){return new pu(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(_=>{_.forEach((b,A)=>{f=f.insert(b,A)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const _=g.getKey();f.get(_)===null&&(f=f.insert(_,fn.newInvalidDocument(_)))});let m=Bl();return f.forEach((p,g)=>{const _=u.get(p);_!==void 0&&Yl(_.mutation,g,Vn.empty(),gt.now()),Fh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ae.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Pi(o.createTime)}}(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:ND(o.bundledQuery),readTime:Pi(o.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(){this.overlays=new St(Se.comparator),this.Qr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const s=$s();return ae.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),ae.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),ae.resolve()}getOverlaysForCollection(e,n,s){const o=$s(),u=n.length+1,f=new Se(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new St((g,_)=>g-_);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=$s(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=$s(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>m.set(g,_)),!(m.size()>=o)););return ae.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new lD(n,s));let u=this.Qr.get(n);u===void 0&&(u=He(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(){this.$r=new Ht($t.Ur),this.Kr=new Ht($t.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new $t(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new $t(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new Se(new pt([])),s=new $t(n,e),o=new $t(n,e+1),u=[];return this.Kr.forEachInRange([s,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Se(new pt([])),s=new $t(n,e),o=new $t(n,e+1);let u=He();return this.Kr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new $t(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class $t{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Se.comparator(e.key,n.key)||ke(e.Zr,n.Zr)}static Wr(e,n){return ke(e.Zr,n.Zr)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ht($t.Ur)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new oD(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Xr=this.Xr.add(new $t(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ae.resolve(f)}lookupMutationBatch(e,n){return ae.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return ae.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Ap:this.nr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new $t(n,0),o=new $t(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],f=>{const m=this.ei(f.Zr);u.push(m)}),ae.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ht(ke);return n.forEach(o=>{const u=new $t(o,0),f=new $t(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],m=>{s=s.add(m.Zr)})}),ae.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Se.isDocumentKey(u)||(u=u.child(""));const f=new $t(new Se(u),0);let m=new Ht(ke);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Zr)),!0)},f),ae.resolve(this.ni(m))}ni(e){const n=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){et(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return ae.forEach(n.mutations,o=>{const u=new $t(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new $t(n,0),o=this.Xr.firstAfterOrEqual(s);return ae.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this.ii=e,this.docs=function(){return new St(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ae.resolve(s?s.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let s=gr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():fn.newInvalidDocument(o))}),ae.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=gr();const f=n.path,m=new Se(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||Tx(Ex(_),s)<=0||(o.has(_.key)||Fh(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ae.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ie(9500)}si(e,n){return ae.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new QD(this)}getSize(e){return ae.resolve(this.size)}}class QD extends jD{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),ae.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.persistence=e,this.oi=new na(n=>Rp(n),Ip),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this._i=0,this.ai=new Pp,this.targetCount=0,this.ui=ho.cr()}forEachTarget(e,n){return this.oi.forEach((s,o)=>n(o)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),ae.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new ho(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Tr(n),ae.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.oi.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ae.waitFor(u).next(()=>o)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return ae.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),ae.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ae.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return ae.resolve(s)}containsKey(e,n){return ae.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,n){this.ci={},this.overlays={},this.li=new Bh(0),this.hi=!1,this.hi=!0,this.Pi=new FD,this.referenceDelegate=e(this),this.Ti=new YD(this),this.indexManager=new OD,this.remoteDocumentCache=function(o){return new KD(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new DD(n),this.Ei=new qD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new HD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new GD(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){pe("MemoryPersistence","Starting transaction:",e);const o=new $D(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return ae.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class $D extends Ax{constructor(e){super(),this.currentSequenceNumber=e}}class Vp{constructor(e){this.persistence=e,this.Vi=new Pp,this.mi=null}static fi(e){return new Vp(e)}get gi(){if(this.mi)return this.mi;throw Ie(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),ae.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.gi,s=>{const o=Se.fromPath(s);return this.pi(e,o).next(u=>{u||n.removeEntry(o,De.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ae.or([()=>ae.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Ih{constructor(e,n){this.persistence=e,this.yi=new na(s=>Rx(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=UD(this,n)}static fi(e,n){return new Ih(e,n)}di(){}Ai(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}br(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return ae.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(u=>u?ae.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,f=>this.Dr(e,f,n).next(m=>{m||(s++,u.removeEntry(f,De.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ae.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ah(e.data.value)),n}Dr(e,n,s){return ae.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return ae.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ds=s,this.As=o}static Rs(e,n){let s=He(),o=He();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new kp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return N1()?8:bx(dn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ws(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.bs(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new XD;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.fs)return this.Ds(e,n,f,m.size)})}).next(()=>u.result)}Ds(e,n,s,o){return s.documentReadCount<this.gs?($a()<=qe.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ae.resolve()):($a()<=qe.DEBUG&&pe("QueryEngine","Query:",Xa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?($a()<=qe.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(n))):ae.resolve())}ws(e,n){if(IE(n))return ae.resolve(null);let s=Mi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Fm(n,null,"F"),s=Mi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=He(...u);return this.ys.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.vs(n,m);return this.Cs(n,g,f,p.readTime)?this.ws(e,Fm(n,null,"F")):this.Fs(e,g,n,p)}))})))}bs(e,n,s,o){return IE(n)||o.isEqual(De.min())?ae.resolve(null):this.ys.getDocuments(e,s).next(u=>{const f=this.vs(n,u);return this.Cs(n,f,s,o)?ae.resolve(null):($a()<=qe.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Xa(n)),this.Fs(e,f,n,_x(o,Jl)).next(m=>m))})}vs(e,n){let s=new Ht(WT(e));return n.forEach((o,u)=>{Fh(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return $a()<=qe.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Xa(n)),this.ys.getDocumentsMatchingQuery(e,n,as.min(),s)}Fs(e,n,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="LocalStore",ZD=3e8;class JD{constructor(e,n,s,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new St(ke),this.Os=new na(u=>Rp(u),Ip),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zD(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function e2(r,e,n,s){return new JD(r,e,n,s)}async function ES(r,e){const n=Me(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=He();for(const g of o){f.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(s,p).next(g=>({ks:g,removedBatchIds:f,addedBatchIds:m}))})})}function t2(r,e){const n=Me(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,_){const b=g.batch,A=b.keys();let P=ae.resolve();return A.forEach(N=>{P=P.next(()=>_.getEntry(p,N)).next(U=>{const C=g.docVersions.get(N);et(C!==null,48541),U.version.compareTo(C)<0&&(b.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),_.addEntry(U)))})}),P.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=He();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function TS(r){const e=Me(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function n2(r,e){const n=Me(r),s=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];e.targetChanges.forEach((_,b)=>{const A=o.get(b);if(!A)return;m.push(n.Ti.removeMatchingKeys(u,_.removedDocuments,b).next(()=>n.Ti.addMatchingKeys(u,_.addedDocuments,b)));let P=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?P=P.withResumeToken(sn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):_.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(_.resumeToken,s)),o=o.insert(b,P),function(U,C,B){return U.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=ZD?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(A,P,_)&&m.push(n.Ti.updateTargetData(u,P))});let p=gr(),g=He();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))}),m.push(i2(u,f,e.documentUpdates).next(_=>{p=_.qs,g=_.Qs})),!s.isEqual(De.min())){const _=n.Ti.getLastRemoteSnapshotVersion(u).next(b=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(_)}return ae.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.xs=o,u))}function i2(r,e,n){let s=He(),o=He();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=gr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(De.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):pe(Lp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{qs:f,Qs:o}})}function r2(r,e){const n=Me(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Ap),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function s2(r,e){const n=Me(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,e).next(u=>u?(o=u,ae.resolve(o)):n.Ti.allocateTargetId(s).next(f=>(o=new Zr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function $m(r,e,n){const s=Me(r),o=s.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!wo(f))throw f;pe(Lp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function BE(r,e,n){const s=Me(r);let o=De.min(),u=He();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,_){const b=Me(p),A=b.Os.get(_);return A!==void 0?ae.resolve(b.xs.get(A)):b.Ti.getTargetData(g,_)}(s,f,Mi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,e,n?o:De.min(),n?u:He())).next(m=>(a2(s,Gx(e),m),{documents:m,$s:u})))}function a2(r,e,n){let s=r.Ns.get(e)||De.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Ns.set(e,s)}class zE{constructor(){this.activeTargetIds=Wx()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class o2{constructor(){this.xo=new zE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new zE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="ConnectivityMonitor";class HE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){pe(qE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){pe(qE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc=null;function Xm(){return Xc===null?Xc=function(){return 268435456+Math.round(2147483648*Math.random())}():Xc++,"0x"+Xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="RestConnection",u2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class c2{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===Th?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,n,s,o,u){const f=Xm(),m=this.jo(e,n.toUriEncodedString());pe(Am,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:g}=new URL(m),_=_o(g);return this.Jo(e,m,p,s,_).then(b=>(pe(Am,`Received RPC '${e}' ${f}: `,b),b),b=>{throw oo(Am,`RPC '${e}' ${f} failed with error: `,b,"url: ",m,"request:",s),b})}Yo(e,n,s,o,u,f){return this.zo(e,n,s,o,u)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ao}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const s=u2[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class f2 extends c2{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Xm();return new Promise((m,p)=>{const g=new bT;g.setWithCredentials(!0),g.listenOnce(wT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case sh.NO_ERROR:const b=g.getResponseJson();pe(cn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),m(b);break;case sh.TIMEOUT:pe(cn,`RPC '${e}' ${f} timed out`),p(new ge(oe.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const A=g.getStatus();if(pe(cn,`RPC '${e}' ${f} failed with status:`,A,"response text:",g.getResponseText()),A>0){let P=g.getResponseJson();Array.isArray(P)&&(P=P[0]);const N=P==null?void 0:P.error;if(N&&N.status&&N.message){const U=function(B){const H=B.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(H)>=0?H:oe.UNKNOWN}(N.status);p(new ge(U,N.message))}else p(new ge(oe.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ge(oe.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{h_:e,streamId:f,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{pe(cn,`RPC '${e}' ${f} completed.`)}});const _=JSON.stringify(o);pe(cn,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",_,s,15)})}I_(e,n,s){const o=Xm(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=CT(),m=IT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const _=u.join("");pe(cn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const b=f.createWebChannel(_,p);this.E_(b);let A=!1,P=!1;const N=new h2({Zo:C=>{P?pe(cn,`Not sending because RPC '${e}' stream ${o} is closed:`,C):(A||(pe(cn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),A=!0),pe(cn,`RPC '${e}' stream ${o} sending:`,C),b.send(C))},Xo:()=>b.close()}),U=(C,B,H)=>{C.listen(B,Q=>{try{H(Q)}catch(X){setTimeout(()=>{throw X},0)}})};return U(b,jl.EventType.OPEN,()=>{P||(pe(cn,`RPC '${e}' stream ${o} transport opened.`),N.__())}),U(b,jl.EventType.CLOSE,()=>{P||(P=!0,pe(cn,`RPC '${e}' stream ${o} transport closed`),N.u_(),this.d_(b))}),U(b,jl.EventType.ERROR,C=>{P||(P=!0,oo(cn,`RPC '${e}' stream ${o} transport errored. Name:`,C.name,"Message:",C.message),N.u_(new ge(oe.UNAVAILABLE,"The operation could not be completed")))}),U(b,jl.EventType.MESSAGE,C=>{var B;if(!P){const H=C.data[0];et(!!H,16349);const Q=H,X=(Q==null?void 0:Q.error)||((B=Q[0])===null||B===void 0?void 0:B.error);if(X){pe(cn,`RPC '${e}' stream ${o} received error:`,X);const G=X.status;let Z=function(I){const V=Pt[I];if(V!==void 0)return lS(V)}(G),x=X.message;Z===void 0&&(Z=oe.INTERNAL,x="Unknown error status: "+G+" with message "+X.message),P=!0,N.u_(new ge(Z,x)),b.close()}else pe(cn,`RPC '${e}' stream ${o} received:`,H),N.c_(H)}}),U(m,RT.STAT_EVENT,C=>{C.stat===Lm.PROXY?pe(cn,`RPC '${e}' stream ${o} detected buffering proxy`):C.stat===Lm.NOPROXY&&pe(cn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{N.a_()},0),N}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function bm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(r){return new gD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.A_=s,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-s);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="PersistentStream";class AS{constructor(e,n,s,o,u,f,m,p){this.xi=e,this.S_=s,this.D_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new SS(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===n&&this.z_(s,o)},s=>{e(()=>{const o=new ge(oe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(e,n){const s=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return pe(FE,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(pe(FE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class d2 extends AS{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=_D(this.serializer,e),s=function(u){if(!("targetChange"in u))return De.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?De.min():f.readTime?Pi(f.readTime):De.min()}(e);return this.listener.Y_(n,s)}Z_(e){const n={};n.database=Ym(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=qm(p)?{documents:SD(u,p)}:{query:AD(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=hS(u,f.resumeToken);const g=Gm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(De.min())>0){m.readTime=Rh(u,f.snapshotVersion.toTimestamp());const g=Gm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=wD(this.serializer,e);s&&(n.labels=s),this.Q_(n)}X_(e){const n={};n.database=Ym(this.serializer),n.removeTarget=e,this.Q_(n)}}class m2 extends AS{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=TD(e.writeResults,e.commitTime),s=Pi(e.commitTime);return this.listener.ra(s,n)}ia(){const e={};e.database=Ym(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>ED(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{}class g2 extends p2{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new ge(oe.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(e,Km(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(oe.UNKNOWN,u.toString())})}Yo(e,n,s,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Yo(e,Km(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ge(oe.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class y2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(pr(n),this.ua=!1):pe("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="RemoteStore";class v2{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(f=>{s.enqueueAndForget(async()=>{ia(this)&&(pe(ea,"Restarting streams for network reachability change."),await async function(p){const g=Me(p);g.da.add(4),await vu(g),g.Va.set("Unknown"),g.da.delete(4),await $h(g)}(this))})}),this.Va=new y2(s,o)}}async function $h(r){if(ia(r))for(const e of r.Aa)await e(!0)}async function vu(r){for(const e of r.Aa)await e(!1)}function bS(r,e){const n=Me(r);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),zp(n)?Bp(n):Ro(n).N_()&&jp(n,e))}function Up(r,e){const n=Me(r),s=Ro(n);n.Ea.delete(e),s.N_()&&wS(n,e),n.Ea.size===0&&(s.N_()?s.k_():ia(n)&&n.Va.set("Unknown"))}function jp(r,e){if(r.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ro(r).Z_(e)}function wS(r,e){r.ma.Ke(e),Ro(r).X_(e)}function Bp(r){r.ma=new fD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Ea.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),Ro(r).start(),r.Va.ca()}function zp(r){return ia(r)&&!Ro(r).O_()&&r.Ea.size>0}function ia(r){return Me(r).da.size===0}function RS(r){r.ma=void 0}async function _2(r){r.Va.set("Online")}async function E2(r){r.Ea.forEach((e,n)=>{jp(r,e)})}async function T2(r,e){RS(r),zp(r)?(r.Va.Pa(e),Bp(r)):r.Va.set("Unknown")}async function S2(r,e,n){if(r.Va.set("Online"),e instanceof cS&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ea.delete(m),o.ma.removeTarget(m))}(r,e)}catch(s){pe(ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ch(r,s)}else if(e instanceof uh?r.ma.Xe(e):e instanceof uS?r.ma.ot(e):r.ma.nt(e),!n.isEqual(De.min()))try{const s=await TS(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.ma.It(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ea.get(g);_&&u.Ea.set(g,_.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const _=u.Ea.get(p);if(!_)return;u.Ea.set(p,_.withResumeToken(sn.EMPTY_BYTE_STRING,_.snapshotVersion)),wS(u,p);const b=new Zr(_.target,p,g,_.sequenceNumber);jp(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){pe(ea,"Failed to raise snapshot:",s),await Ch(r,s)}}async function Ch(r,e,n){if(!wo(e))throw e;r.da.add(1),await vu(r),r.Va.set("Offline"),n||(n=()=>TS(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{pe(ea,"Retrying IndexedDB access"),await n(),r.da.delete(1),await $h(r)})}function IS(r,e){return e().catch(n=>Ch(r,n,e))}async function Xh(r){const e=Me(r),n=cs(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Ap;for(;A2(e);)try{const o=await r2(e.localStore,s);if(o===null){e.Ia.length===0&&n.k_();break}s=o.batchId,b2(e,o)}catch(o){await Ch(e,o)}CS(e)&&xS(e)}function A2(r){return ia(r)&&r.Ia.length<10}function b2(r,e){r.Ia.push(e);const n=cs(r);n.N_()&&n.ea&&n.ta(e.mutations)}function CS(r){return ia(r)&&!cs(r).O_()&&r.Ia.length>0}function xS(r){cs(r).start()}async function w2(r){cs(r).ia()}async function R2(r){const e=cs(r);for(const n of r.Ia)e.ta(n.mutations)}async function I2(r,e,n){const s=r.Ia.shift(),o=Np.from(s,e,n);await IS(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Xh(r)}async function C2(r,e){e&&cs(r).ea&&await async function(s,o){if(function(f){return cD(f)&&f!==oe.ABORTED}(o.code)){const u=s.Ia.shift();cs(s).L_(),await IS(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Xh(s)}}(r,e),CS(r)&&xS(r)}async function GE(r,e){const n=Me(r);n.asyncQueue.verifyOperationInProgress(),pe(ea,"RemoteStore received new credentials");const s=ia(n);n.da.add(3),await vu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await $h(n)}async function x2(r,e){const n=Me(r);e?(n.da.delete(2),await $h(n)):e||(n.da.add(2),await vu(n),n.Va.set("Unknown"))}function Ro(r){return r.fa||(r.fa=function(n,s,o){const u=Me(n);return u.oa(),new d2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:_2.bind(null,r),n_:E2.bind(null,r),i_:T2.bind(null,r),Y_:S2.bind(null,r)}),r.Aa.push(async e=>{e?(r.fa.L_(),zp(r)?Bp(r):r.Va.set("Unknown")):(await r.fa.stop(),RS(r))})),r.fa}function cs(r){return r.ga||(r.ga=function(n,s,o){const u=Me(n);return u.oa(),new m2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:w2.bind(null,r),i_:C2.bind(null,r),na:R2.bind(null,r),ra:I2.bind(null,r)}),r.Aa.push(async e=>{e?(r.ga.L_(),await Xh(r)):(await r.ga.stop(),r.Ia.length>0&&(pe(ea,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new qp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hp(r,e){if(pr("AsyncQueue",`${e}: ${r}`),wo(r))return new ge(oe.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{static emptySet(e){return new ro(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Se.comparator(n.key,s.key):(n,s)=>Se.comparator(n.key,s.key),this.keyedMap=Bl(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ro;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(){this.pa=new St(Se.comparator)}track(e){const n=e.doc.key,s=this.pa.get(n);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(n,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(n):e.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Ie(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,s)=>{e.push(s)}),e}}class fo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new fo(e,n,ro.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class N2{constructor(){this.queries=QE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Me(n),u=o.queries;o.queries=QE(),u.forEach((f,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new ge(oe.ABORTED,"Firestore shutting down"))}}function QE(){return new na(r=>XT(r),Hh)}async function DS(r,e){const n=Me(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Da()&&e.va()&&(s=2):(u=new D2,s=e.va()?0:1);try{switch(s){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Hp(f,`Initialization of query '${Xa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.Fa(n.onlineState),u.ba&&e.Ma(u.ba)&&Fp(n)}async function NS(r,e){const n=Me(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.va()?0:1:!u.Da()&&e.va()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function O2(r,e){const n=Me(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Ma(o)&&(s=!0);f.ba=o}}s&&Fp(n)}function M2(r,e,n){const s=Me(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Fp(r){r.Ca.forEach(e=>{e.next()})}var Wm,YE;(YE=Wm||(Wm={})).xa="default",YE.Cache="cache";class OS{constructor(e,n,s){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new fo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Wm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.key=e}}class PS{constructor(e){this.key=e}}class P2{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=He(),this.mutatedKeys=He(),this.Za=WT(e),this.Xa=new ro(this.Za)}get eu(){return this.Ha}tu(e,n){const s=n?n.nu:new KE,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,b)=>{const A=o.get(_),P=Fh(this.query,b)?b:null,N=!!A&&this.mutatedKeys.has(A.key),U=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let C=!1;A&&P?A.data.isEqual(P.data)?N!==U&&(s.track({type:3,doc:P}),C=!0):this.ru(A,P)||(s.track({type:2,doc:P}),C=!0,(p&&this.Za(P,p)>0||g&&this.Za(P,g)<0)&&(m=!0)):!A&&P?(s.track({type:0,doc:P}),C=!0):A&&!P&&(s.track({type:1,doc:A}),C=!0,(p||g)&&(m=!0)),C&&(P?(f=f.add(P),u=U?u.add(_):u.delete(_)):(f=f.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const _=this.query.limitType==="F"?f.last():f.first();f=f.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{Xa:f,nu:s,Cs:m,mutatedKeys:u}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const f=e.nu.wa();f.sort((_,b)=>function(P,N){const U=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Vt:C})}};return U(P)-U(N)}(_.type,b.type)||this.Za(_.doc,b.doc)),this.iu(s),o=o!=null&&o;const m=n&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Ja;return this.Ja=p,f.length!==0||g?{snapshot:new fo(this.query,e.Xa,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new KE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=He(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return e.forEach(s=>{this.Ya.has(s)||n.push(new PS(s))}),this.Ya.forEach(s=>{e.has(s)||n.push(new MS(s))}),n}au(e){this.Ha=e.$s,this.Ya=He();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return fo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Gp="SyncEngine";class V2{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class k2{constructor(e){this.key=e,this.cu=!1}}class L2{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new na(m=>XT(m),Hh),this.Pu=new Map,this.Tu=new Set,this.Iu=new St(Se.comparator),this.Eu=new Map,this.du=new Pp,this.Au={},this.Ru=new Map,this.Vu=ho.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function U2(r,e,n=!0){const s=BS(r);let o;const u=s.hu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await VS(s,e,n,!0),o}async function j2(r,e){const n=BS(r);await VS(n,e,!0,!1)}async function VS(r,e,n,s){const o=await s2(r.localStore,Mi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await B2(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&bS(r.remoteStore,o),m}async function B2(r,e,n,s,o){r.fu=(b,A,P)=>async function(U,C,B,H){let Q=C.view.tu(B);Q.Cs&&(Q=await BE(U.localStore,C.query,!1).then(({documents:x})=>C.view.tu(x,Q)));const X=H&&H.targetChanges.get(C.targetId),G=H&&H.targetMismatches.get(C.targetId)!=null,Z=C.view.applyChanges(Q,U.isPrimaryClient,X,G);return XE(U,C.targetId,Z.ou),Z.snapshot}(r,b,A,P);const u=await BE(r.localStore,e,!0),f=new P2(e,u.$s),m=f.tu(u.documents),p=yu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);XE(r,n,g.ou);const _=new V2(e,n,f);return r.hu.set(e,_),r.Pu.has(n)?r.Pu.get(n).push(e):r.Pu.set(n,[e]),g.snapshot}async function z2(r,e,n){const s=Me(r),o=s.hu.get(e),u=s.Pu.get(o.targetId);if(u.length>1)return s.Pu.set(o.targetId,u.filter(f=>!Hh(f,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await $m(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Up(s.remoteStore,o.targetId),Zm(s,o.targetId)}).catch(bo)):(Zm(s,o.targetId),await $m(s.localStore,o.targetId,!0))}async function q2(r,e){const n=Me(r),s=n.hu.get(e),o=n.Pu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Up(n.remoteStore,s.targetId))}async function H2(r,e,n){const s=X2(r);try{const o=await function(f,m){const p=Me(f),g=gt.now(),_=m.reduce((P,N)=>P.add(N.key),He());let b,A;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let N=gr(),U=He();return p.Bs.getEntries(P,_).next(C=>{N=C,N.forEach((B,H)=>{H.isValidDocument()||(U=U.add(B))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,N)).next(C=>{b=C;const B=[];for(const H of m){const Q=sD(H,b.get(H.key).overlayedDocument);Q!=null&&B.push(new ms(H.key,Q,qT(Q.value.mapValue),Zn.exists(!0)))}return p.mutationQueue.addMutationBatch(P,g,B,m)}).next(C=>{A=C;const B=C.applyToLocalDocumentSet(b,U);return p.documentOverlayCache.saveOverlays(P,C.batchId,B)})}).then(()=>({batchId:A.batchId,changes:JT(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Au[f.currentUser.toKey()];g||(g=new St(ke)),g=g.insert(m,p),f.Au[f.currentUser.toKey()]=g}(s,o.batchId,n),await _u(s,o.changes),await Xh(s.remoteStore)}catch(o){const u=Hp(o,"Failed to persist write");n.reject(u)}}async function kS(r,e){const n=Me(r);try{const s=await n2(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Eu.get(u);f&&(et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.cu=!0:o.modifiedDocuments.size>0?et(f.cu,14607):o.removedDocuments.size>0&&(et(f.cu,42227),f.cu=!1))}),await _u(n,s,e)}catch(s){await bo(s)}}function $E(r,e,n){const s=Me(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.hu.forEach((u,f)=>{const m=f.view.Fa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Me(f);p.onlineState=m;let g=!1;p.queries.forEach((_,b)=>{for(const A of b.Sa)A.Fa(m)&&(g=!0)}),g&&Fp(p)}(s.eventManager,e),o.length&&s.lu.Y_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function F2(r,e,n){const s=Me(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new St(Se.comparator);f=f.insert(u,fn.newNoDocument(u,De.min()));const m=He().add(u),p=new Qh(De.min(),new Map,new St(ke),f,m);await kS(s,p),s.Iu=s.Iu.remove(u),s.Eu.delete(e),Kp(s)}else await $m(s.localStore,e,!1).then(()=>Zm(s,e,n)).catch(bo)}async function G2(r,e){const n=Me(r),s=e.batch.batchId;try{const o=await t2(n.localStore,e);US(n,s,null),LS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await _u(n,o)}catch(o){await bo(o)}}async function K2(r,e,n){const s=Me(r);try{const o=await function(f,m){const p=Me(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next(b=>(et(b!==null,37113),_=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(s.localStore,e);US(s,e,n),LS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await _u(s,o)}catch(o){await bo(o)}}function LS(r,e){(r.Ru.get(e)||[]).forEach(n=>{n.resolve()}),r.Ru.delete(e)}function US(r,e,n){const s=Me(r);let o=s.Au[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Au[s.currentUser.toKey()]=o}}function Zm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Pu.get(e))r.hu.delete(s),n&&r.lu.gu(s,n);r.Pu.delete(e),r.isPrimaryClient&&r.du.Hr(e).forEach(s=>{r.du.containsKey(s)||jS(r,s)})}function jS(r,e){r.Tu.delete(e.path.canonicalString());const n=r.Iu.get(e);n!==null&&(Up(r.remoteStore,n),r.Iu=r.Iu.remove(e),r.Eu.delete(n),Kp(r))}function XE(r,e,n){for(const s of n)s instanceof MS?(r.du.addReference(s.key,e),Q2(r,s)):s instanceof PS?(pe(Gp,"Document no longer in limbo: "+s.key),r.du.removeReference(s.key,e),r.du.containsKey(s.key)||jS(r,s.key)):Ie(19791,{pu:s})}function Q2(r,e){const n=e.key,s=n.path.canonicalString();r.Iu.get(n)||r.Tu.has(s)||(pe(Gp,"New document in limbo: "+n),r.Tu.add(s),Kp(r))}function Kp(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const e=r.Tu.values().next().value;r.Tu.delete(e);const n=new Se(pt.fromString(e)),s=r.Vu.next();r.Eu.set(s,new k2(n)),r.Iu=r.Iu.insert(n,s),bS(r.remoteStore,new Zr(Mi(Cp(n.path)),s,"TargetPurposeLimboResolution",Bh.le))}}async function _u(r,e,n){const s=Me(r),o=[],u=[],f=[];s.hu.isEmpty()||(s.hu.forEach((m,p)=>{f.push(s.fu(p,e,n).then(g=>{var _;if((g||n)&&s.isPrimaryClient){const b=g?!g.fromCache:(_=n==null?void 0:n.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=kp.Rs(p.targetId,g);u.push(b)}}))}),await Promise.all(f),s.lu.Y_(o),await async function(p,g){const _=Me(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ae.forEach(g,A=>ae.forEach(A.ds,P=>_.persistence.referenceDelegate.addReference(b,A.targetId,P)).next(()=>ae.forEach(A.As,P=>_.persistence.referenceDelegate.removeReference(b,A.targetId,P)))))}catch(b){if(!wo(b))throw b;pe(Lp,"Failed to update sequence numbers: "+b)}for(const b of g){const A=b.targetId;if(!b.fromCache){const P=_.xs.get(A),N=P.snapshotVersion,U=P.withLastLimboFreeSnapshotVersion(N);_.xs=_.xs.insert(A,U)}}}(s.localStore,u))}async function Y2(r,e){const n=Me(r);if(!n.currentUser.isEqual(e)){pe(Gp,"User change. New user:",e.toKey());const s=await ES(n.localStore,e);n.currentUser=e,function(u,f){u.Ru.forEach(m=>{m.forEach(p=>{p.reject(new ge(oe.CANCELLED,f))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await _u(n,s.ks)}}function $2(r,e){const n=Me(r),s=n.Eu.get(e);if(s&&s.cu)return He().add(s.key);{let o=He();const u=n.Pu.get(e);if(!u)return o;for(const f of u){const m=n.hu.get(f);o=o.unionWith(m.view.eu)}return o}}function BS(r){const e=Me(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=kS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F2.bind(null,e),e.lu.Y_=O2.bind(null,e.eventManager),e.lu.gu=M2.bind(null,e.eventManager),e}function X2(r){const e=Me(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=G2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=K2.bind(null,e),e}class xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return e2(this.persistence,new WD,e.initialUser,this.serializer)}Su(e){return new _S(Vp.fi,this.serializer)}bu(e){return new o2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xh.provider={build:()=>new xh};class W2 extends xh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){et(this.persistence.referenceDelegate instanceof Ih,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new kD(s,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new _S(s=>Ih.fi(s,n),this.serializer)}}class Jm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>$E(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y2.bind(null,this.syncEngine),await x2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new N2}()}createDatastore(e){const n=Yh(e.databaseInfo.databaseId),s=function(u){return new f2(u)}(e.databaseInfo);return function(u,f,m,p){return new g2(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new v2(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>$E(this.syncEngine,n,0),function(){return HE.C()?new HE:new l2}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,_){const b=new L2(o,u,f,m,p,g);return _&&(b.mu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Me(o);pe(ea,"RemoteStore shutting down."),u.da.add(5),await vu(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Jm.provider={build:()=>new Jm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="FirestoreClient";class Z2{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=OT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{pe(hs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(pe(hs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Hp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function wm(r,e){r.asyncQueue.verifyOperationInProgress(),pe(hs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await ES(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function WE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await J2(r);pe(hs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>GE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>GE(e.remoteStore,o)),r._onlineComponents=e}async function J2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){pe(hs,"Using user provided OfflineComponentProvider");try{await wm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===oe.FAILED_PRECONDITION||o.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;oo("Error using user provided cache. Falling back to memory cache: "+n),await wm(r,new xh)}}else pe(hs,"Using default OfflineComponentProvider"),await wm(r,new W2(void 0));return r._offlineComponents}async function qS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(pe(hs,"Using user provided OnlineComponentProvider"),await WE(r,r._uninitializedComponentsProvider._online)):(pe(hs,"Using default OnlineComponentProvider"),await WE(r,new Jm))),r._onlineComponents}function eN(r){return qS(r).then(e=>e.syncEngine)}async function HS(r){const e=await qS(r),n=e.eventManager;return n.onListen=U2.bind(null,e.syncEngine),n.onUnlisten=z2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=j2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=q2.bind(null,e.syncEngine),n}function tN(r,e,n={}){const s=new hr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const _=new zS({next:A=>{_.xu(),f.enqueueAndForget(()=>NS(u,b));const P=A.docs.has(m);!P&&A.fromCache?g.reject(new ge(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&A.fromCache&&p&&p.source==="server"?g.reject(new ge(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),b=new OS(Cp(m.path),_,{includeMetadataChanges:!0,Qa:!0});return DS(u,b)}(await HS(r),r.asyncQueue,e,n,s)),s.promise}function nN(r,e,n={}){const s=new hr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const _=new zS({next:A=>{_.xu(),f.enqueueAndForget(()=>NS(u,b)),A.fromCache&&p.source==="server"?g.reject(new ge(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),b=new OS(m,_,{includeMetadataChanges:!0,Qa:!0});return DS(u,b)}(await HS(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(r,e,n){if(!n)throw new ge(oe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function iN(r,e,n,s){if(e===!0&&s===!0)throw new ge(oe.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function JE(r){if(!Se.isDocumentKey(r))throw new ge(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function e0(r){if(Se.isDocumentKey(r))throw new ge(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Wh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ie(12329,{type:typeof r})}function ci(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ge(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wh(r);throw new ge(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="firestore.googleapis.com",t0=!0;class n0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KS,this.ssl=t0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:t0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PD)throw new ge(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FS((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ge(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ge(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ge(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new n0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new n0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new cx;switch(s.type){case"firstParty":return new mx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=ZE.get(n);s&&(pe("ComponentProvider","Removing Datastore"),ZE.delete(n),s.terminate())}(this),Promise.resolve()}}function rN(r,e,n,s={}){var o;r=ci(r,Zh);const u=_o(e),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u&&(V0(`https://${p}`),k0("Firestore",!0)),f.host!==KS&&f.host!==p&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!Xs(g,m)&&(r._setSettings(g),s.mockUserToken)){let _,b;if(typeof s.mockUserToken=="string")_=s.mockUserToken,b=hn.MOCK_USER;else{_=S1(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ge(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new hn(A)}r._authCredentials=new hx(new DT(_,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Io(this.firestore,e,this._query)}}class _n{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class rs extends Io{constructor(e,n,s){super(e,n,Cp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new Se(e))}withConverter(e){return new rs(this.firestore,e,this._path)}}function Ze(r,e,...n){if(r=Xt(r),GS("collection","path",e),r instanceof Zh){const s=pt.fromString(e,...n);return e0(s),new rs(r,null,s)}{if(!(r instanceof _n||r instanceof rs))throw new ge(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(pt.fromString(e,...n));return e0(s),new rs(r.firestore,null,s)}}function kt(r,e,...n){if(r=Xt(r),arguments.length===1&&(e=OT.newId()),GS("doc","path",e),r instanceof Zh){const s=pt.fromString(e,...n);return JE(s),new _n(r,null,new Se(s))}{if(!(r instanceof _n||r instanceof rs))throw new ge(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(pt.fromString(e,...n));return JE(s),new _n(r.firestore,r instanceof rs?r.converter:null,new Se(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="AsyncQueue";class r0{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new SS(this,"async_queue_retry"),this.rc=()=>{const s=bm();s&&pe(i0,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const n=bm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=bm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new hr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!wo(e))throw e;pe(i0,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,pr("INTERNAL UNHANDLED ERROR: ",s0(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(e,n,s){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const o=qp.createAndSchedule(this,e,n,s,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&Ie(47125,{cc:s0(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function s0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ra extends Zh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new r0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new r0(e),this._firestoreClient=void 0,await e}}}function sN(r,e){const n=typeof r=="object"?r:B0(),s=typeof r=="string"?r:Th,o=fp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=E1("firestore");u&&rN(o,...u)}return o}function Qp(r){if(r._terminated)throw new ge(oe.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||aN(r),r._firestoreClient}function aN(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,g,_){return new xx(m,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,FS(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new Z2(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mo(sn.fromBase64String(e))}catch(n){throw new ge(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new mo(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=/^__.*__$/;class lN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ms(e,this.data,this.fieldMask,n,this.fieldTransforms):new gu(e,this.data,n,this.fieldTransforms)}}class QS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ms(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function YS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ic:r})}}class Xp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Xp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:s,Rc:!1});return o.Vc(e),o}mc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Dh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(YS(this.Ic)&&oN.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class uN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Yh(e)}bc(e,n,s,o=!1){return new Xp({Ic:e,methodName:n,wc:s,path:rn.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tf(r){const e=r._freezeSettings(),n=Yh(r._databaseId);return new uN(r._databaseId,!!e.ignoreUndefinedProperties,n)}function $S(r,e,n,s,o,u={}){const f=r.bc(u.merge||u.mergeFields?2:0,e,n,o);Zp("Data must be an object, but it was:",f,s);const m=XS(s,f);let p,g;if(u.merge)p=new Vn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const _=[];for(const b of u.mergeFields){const A=ep(e,b,n);if(!f.contains(A))throw new ge(oe.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);ZS(_,A)||_.push(A)}p=new Vn(_),g=f.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=f.fieldTransforms;return new lN(new wn(m),p,g)}class nf extends ef{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nf}}class Wp extends ef{_toFieldTransform(e){return new tD(e.path,new iu)}isEqual(e){return e instanceof Wp}}function cN(r,e,n,s){const o=r.bc(1,e,n);Zp("Data must be an object, but it was:",o,s);const u=[],f=wn.empty();ds(s,(p,g)=>{const _=Jp(e,p,n);g=Xt(g);const b=o.mc(_);if(g instanceof nf)u.push(_);else{const A=Eu(g,b);A!=null&&(u.push(_),f.set(_,A))}});const m=new Vn(u);return new QS(f,m,o.fieldTransforms)}function hN(r,e,n,s,o,u){const f=r.bc(1,e,n),m=[ep(e,s,n)],p=[o];if(u.length%2!=0)throw new ge(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(ep(e,u[A])),p.push(u[A+1]);const g=[],_=wn.empty();for(let A=m.length-1;A>=0;--A)if(!ZS(g,m[A])){const P=m[A];let N=p[A];N=Xt(N);const U=f.mc(P);if(N instanceof nf)g.push(P);else{const C=Eu(N,U);C!=null&&(g.push(P),_.set(P,C))}}const b=new Vn(g);return new QS(_,b,f.fieldTransforms)}function fN(r,e,n,s=!1){return Eu(n,r.bc(s?4:3,e))}function Eu(r,e){if(WS(r=Xt(r)))return Zp("Unsupported field value:",e,r),XS(r,e);if(r instanceof ef)return function(s,o){if(!YS(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Eu(m,o.fc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Xt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Zx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=gt.fromDate(s);return{timestampValue:Rh(o.serializer,u)}}if(s instanceof gt){const u=new gt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Rh(o.serializer,u)}}if(s instanceof Yp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof mo)return{bytesValue:hS(o.serializer,s._byteString)};if(s instanceof _n){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Mp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof $p)return function(f,m){return{mapValue:{fields:{[BT]:{stringValue:zT},[Sh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.gc("VectorValues must only contain numeric values.");return xp(m.serializer,g)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${Wh(s)}`)}(r,e)}function XS(r,e){const n={};return PT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ds(r,(s,o)=>{const u=Eu(o,e.Ac(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function WS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof gt||r instanceof Yp||r instanceof mo||r instanceof _n||r instanceof ef||r instanceof $p)}function Zp(r,e,n){if(!WS(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Wh(n);throw s==="an object"?e.gc(r+" a custom object"):e.gc(r+" "+s)}}function ep(r,e,n){if((e=Xt(e))instanceof Jh)return e._internalPath;if(typeof e=="string")return Jp(r,e);throw Dh("Field path arguments must be of type string or ",r,!1,void 0,n)}const dN=new RegExp("[~\\*/\\[\\]]");function Jp(r,e,n){if(e.search(dN)>=0)throw Dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Jh(...e.split("."))._internalPath}catch{throw Dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Dh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ge(oe.INVALID_ARGUMENT,m+r+p)}function ZS(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(eg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mN extends JS{data(){return super.data()}}function eg(r,e){return typeof e=="string"?Jp(r,e):e instanceof Jh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ge(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tg{}class gN extends tg{}function yN(r,e,...n){let s=[];e instanceof tg&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof ng).length,m=u.filter(p=>p instanceof rf).length;if(f>1||f>0&&m>0)throw new ge(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class rf extends gN{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new rf(e,n,s)}_apply(e){const n=this._parse(e);return eA(e._query,n),new Io(e.firestore,e.converter,Hm(e._query,n))}_parse(e){const n=tf(e.firestore);return function(u,f,m,p,g,_,b){let A;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ge(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){o0(b,_);const N=[];for(const U of b)N.push(a0(p,u,U));A={arrayValue:{values:N}}}else A=a0(p,u,b)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||o0(b,_),A=fN(m,f,b,_==="in"||_==="not-in");return Vt.create(g,_,A)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function vN(r,e,n){const s=e,o=eg("where",r);return rf._create(o,s,n)}class ng extends tg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ng(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:ui.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)eA(f,p),f=Hm(f,p)}(e._query,n),new Io(e.firestore,e.converter,Hm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function a0(r,e,n){if(typeof(n=Xt(n))=="string"){if(n==="")throw new ge(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$T(e)&&n.indexOf("/")!==-1)throw new ge(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(pt.fromString(n));if(!Se.isDocumentKey(s))throw new ge(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return TE(r,new Se(s))}if(n instanceof _n)return TE(r,n._key);throw new ge(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(n)}.`)}function o0(r,e){if(!Array.isArray(r)||r.length===0)throw new ge(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eA(r,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ge(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class _N{convertValue(e,n="none"){switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ds(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Sh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>Ct(f.doubleValue));return new $p(u)}convertGeoPoint(e){return new Yp(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=qh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=os(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=pt.fromString(e);et(yS(s),9688,{name:e});const o=new tu(s.get(1),s.get(3)),u=new Se(s.popFirst(5));return o.isEqual(n)||pr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nA extends JS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(eg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class ch extends nA{data(e={}){return super.data(e)}}class EN{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new ch(this._firestore,this._userDataWriter,s.key,s,new ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),_=f.indexOf(m.doc.key)),{type:TN(m.type),doc:p,oldIndex:g,newIndex:_}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function TN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(r){r=ci(r,_n);const e=ci(r.firestore,ra);return tN(Qp(e),r._key).then(n=>SN(e,r,n))}class iA extends _N{constructor(e){super(),this.firestore=e}convertBytes(e){return new mo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function ut(r){r=ci(r,Io);const e=ci(r.firestore,ra),n=Qp(e),s=new iA(e);return pN(r._query),nN(n,r._query).then(o=>new EN(e,s,r,o))}function Nh(r,e,n){r=ci(r,_n);const s=ci(r.firestore,ra),o=tA(r.converter,e,n);return af(s,[$S(tf(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Zn.none())])}function ig(r,e,n,...s){r=ci(r,_n);const o=ci(r.firestore,ra),u=tf(o);let f;return f=typeof(e=Xt(e))=="string"||e instanceof Jh?hN(u,"updateDoc",r._key,e,n,s):cN(u,"updateDoc",r._key,e),af(o,[f.toMutation(r._key,Zn.exists(!0))])}function Tu(r){return af(ci(r.firestore,ra),[new Dp(r._key,Zn.none())])}function sf(r,e){const n=ci(r.firestore,ra),s=kt(r),o=tA(r.converter,e);return af(n,[$S(tf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Zn.exists(!1))]).then(()=>s)}function af(r,e){return function(s,o){const u=new hr;return s.asyncQueue.enqueueAndForget(async()=>H2(await eN(s),o,u)),u.promise}(Qp(r),e)}function SN(r,e,n){const s=n.docs.get(e._key),o=new iA(r);return new nA(r,o,e._key,s,new ql(n.hasPendingWrites,n.fromCache),e.converter)}function au(){return new Wp("serverTimestamp")}(function(e,n=!0){(function(o){Ao=o})(Eo),so(new Ws("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ra(new fx(s.getProvider("auth-internal")),new px(f,s.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ge(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(g.options.projectId,_)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),ts(uE,cE,e),ts(uE,cE,"esm2017")})();const AN={apiKey:"AIzaSyBIfGyeHMc_0LPtX5qbeqQrabX6wXvs_kI",authDomain:"flashcompauth.firebaseapp.com",projectId:"flashcompauth",storageBucket:"flashcompauth.appspot.com",messagingSenderId:"466092936876",appId:"1:466092936876:web:0ab1780cc4fc96327a5909"},rA=j0(AN),of=ax(rA),we=sN(rA),bN=()=>{yr("");const[r,e]=D.useState(""),[n,s]=D.useState(""),[o,u]=D.useState(""),f=vo(),m=kn(),p=async()=>{var _,b;const g=((b=(_=m.state)==null?void 0:_.from)==null?void 0:b.pathname)||"/dashboard";try{await KI(of,r,n),u(" ..."),setTimeout(()=>f(g,{replace:!0}),600)}catch(A){u(" : "+A.message)}};return T.jsxs("div",{style:{padding:"2em",maxWidth:"400px",margin:"auto"},children:[T.jsx("h2",{children:""}),T.jsx("input",{type:"email",placeholder:"",value:r,onChange:g=>e(g.target.value)}),T.jsx("input",{type:"password",placeholder:"",value:n,onChange:g=>s(g.target.value)}),T.jsx("button",{onClick:p,children:""}),T.jsx("div",{style:{marginTop:"1em",color:"red"},children:o})]})},l0=r=>Array.isArray(r)?r.filter(e=>typeof e=="string"&&e.trim().length>0):[],lf=()=>{const[r,e]=D.useState(null),[n,s]=D.useState(null),[o,u]=D.useState(!0),[f,m]=D.useState("");D.useEffect(()=>{let g=!1;const _=fT(of,async b=>{if(!b){g||(e(null),s(null),m(""),u(!1));return}g||(e(b),u(!0),m(""));try{const A=kt(we,"users",b.uid),P=await ss(A);if(P.exists()){g||(s({id:P.id,...P.data()}),u(!1));return}const N=b.email?await ut(yN(Ze(we,"users"),vN("email","==",b.email))):null;if(!g){if(N&&!N.empty){const U=N.docs[0],C={...U.data(),uid:b.uid,email:b.email||U.data().email||"",gymIds:l0(U.data().gymIds),migratedFromProfileId:U.id,updatedAt:au()};try{await Nh(A,C,{merge:!0})}catch(B){console.error("users/{uid} :",B)}s({id:b.uid,...C,updatedAt:U.data().updatedAt})}else s({id:b.uid,uid:b.uid,email:b.email||"",role:"owner",gymIds:[]});u(!1)}}catch(A){console.error(":",A),g||(m(""),s(null),u(!1))}});return()=>{g=!0,_()}},[]);const p=D.useMemo(()=>l0(n==null?void 0:n.gymIds),[n]);return{authUser:r,profile:n,gymIds:p,loading:o,error:f}},wN=()=>{yr("");const r=vo(),[e,n]=D.useState([]),[s,o]=D.useState([]),[u,f]=D.useState(!0),[m,p]=D.useState(""),{gymIds:g,loading:_,error:b}=lf(),A=C=>C?C.seconds?new Date(C.seconds*1e3).toLocaleDateString():String(C):"-",P=()=>{$I(of).then(()=>r("/login")).catch(C=>console.error(":",C))};D.useEffect(()=>{if(_)return;if(b){p(b),f(!1);return}(async()=>{f(!0),p("");try{const[B,H]=await Promise.all([ut(Ze(we,"events")),ut(Ze(we,"gyms"))]),Q=B.docs.map(G=>({id:G.id,...G.data()})).filter(G=>g.includes(G.gymId)),X=H.docs.map(G=>({id:G.id,...G.data()})).filter(G=>g.includes(G.id)).sort((G,Z)=>(G.name||"").localeCompare(Z.name||"","ja"));n(Q),o(X)}catch(B){console.error(":",B),p("")}finally{f(!1)}})()},[_,b,g]);const N=async C=>{if(!window.confirm(""))return;const B=e.find(H=>H.id===C);if(!B||!g.includes(B.gymId)){window.alert("");return}try{await Tu(kt(we,"events",C)),n(e.filter(H=>H.id!==C))}catch(H){console.error(":",H)}},U=new Map(s.map(C=>[C.id,C.name||C.id]));return u||_?T.jsx("p",{style:{padding:"2em"},children:"..."}):m||b?T.jsxs("div",{style:{padding:"2em"},children:[T.jsx("p",{children:m||b}),T.jsx("div",{style:{marginTop:"1em"},children:T.jsx($e,{to:"/",children:" Home"})})]}):T.jsxs("div",{style:{padding:"2em",maxWidth:"980px",margin:"0 auto"},children:[T.jsx("h2",{children:""}),T.jsx("p",{children:""}),T.jsxs("p",{children:[":"," ",s.length>0?s.map(C=>C.name||C.id).join(" / "):""]}),T.jsxs("section",{style:{border:"1px solid #ddd",borderRadius:"10px",padding:"1em"},children:[T.jsx("h3",{style:{marginTop:0},children:""}),T.jsx("p",{style:{marginTop:0},children:""}),g.length>0?T.jsx($e,{to:"/create-event",children:" "}):T.jsx("p",{style:{marginBottom:0},children:""})]}),T.jsx("h3",{style:{marginTop:"1.6em"},children:" "}),g.length===0?T.jsx("p",{children:""}):e.length===0?T.jsx("p",{children:""}):T.jsx("div",{style:{display:"grid",gap:"1em"},children:e.map(C=>T.jsxs("section",{style:{border:"1px solid #ddd",borderRadius:"10px",padding:"1em"},children:[T.jsx("h4",{style:{marginTop:0,marginBottom:"0.4em"},children:C.name}),T.jsxs("p",{style:{marginTop:0},children:[": ",A(C.startDate),"  ",A(C.endDate)]}),T.jsxs("p",{style:{marginTop:0},children:[": ",U.get(C.gymId)||""]}),T.jsxs("div",{style:{display:"flex",gap:"0.8em",flexWrap:"wrap"},children:[T.jsx($e,{to:`/events/${C.id}/edit`,state:{tab:"seasons"},children:" /  / "}),T.jsx($e,{to:`/events/${C.id}/edit`,state:{tab:"participants"},children:""}),T.jsx($e,{to:`/events/${C.id}/edit`,state:{tab:"scores"},children:""}),T.jsx($e,{to:`/score-summary/${C.id}`,children:""}),T.jsx("button",{type:"button",onClick:()=>N(C.id),children:" "})]})]},C.id))}),T.jsx("div",{style:{marginTop:"2em"},children:T.jsx("button",{type:"button",onClick:P,children:""})}),T.jsx("div",{style:{marginTop:"1em"},children:T.jsx($e,{to:"/",children:" Home"})})]})};function RN(){yr("");const[r,e]=D.useState(""),[n,s]=D.useState(""),[o,u]=D.useState([]),[f,m]=D.useState(""),[p,g]=D.useState(""),[_,b]=D.useState(""),[A,P]=D.useState(!0),[N,U]=D.useState(""),C=vo(),{authUser:B,gymIds:H,loading:Q,error:X}=lf();D.useEffect(()=>{if(Q)return;if(X){U(X),P(!1);return}(async()=>{P(!0),U("");try{const R=(await ut(Ze(we,"gyms"))).docs.map(I=>({id:I.id,...I.data()})).filter(I=>H.includes(I.id)).sort((I,V)=>(I.name||"").localeCompare(V.name||"","ja"));u(R),R.length>0?s(I=>I||R[0].id):s("")}catch(x){console.error(":",x),U("")}finally{P(!1)}})()},[Q,X,H]);const G=async Z=>{if(Z.preventDefault(),!n){b(" ");return}if(new Date(f)>new Date(p)){b(" ");return}try{await sf(Ze(we,"events"),{name:r,gymId:n,ownerUid:(B==null?void 0:B.uid)||"",startDate:gt.fromDate(new Date(f)),endDate:gt.fromDate(new Date(p)),createdAt:au()}),b(" "),e(""),C("/dashboard")}catch(x){console.error(x),b(" ")}};return A||Q?T.jsx("p",{style:{padding:"2em"},children:"..."}):N||X?T.jsxs("div",{style:{padding:"2em"},children:[T.jsx("p",{children:N||X}),T.jsx($e,{to:"/dashboard",children:" "})]}):T.jsxs("div",{style:{padding:"2em"},children:[T.jsx("h2",{children:" "}),T.jsx($e,{to:"/dashboard",children:" "}),o.length===0?T.jsx("p",{style:{marginTop:"1em"},children:""}):T.jsxs("form",{onSubmit:G,children:[T.jsx("input",{type:"text",placeholder:"",value:r,onChange:Z=>e(Z.target.value),required:!0}),T.jsx("select",{value:n,onChange:Z=>s(Z.target.value),required:!0,children:o.map(Z=>T.jsx("option",{value:Z.id,children:Z.name||Z.id},Z.id))}),T.jsx("input",{type:"date",value:f,onChange:Z=>m(Z.target.value),required:!0}),T.jsx("input",{type:"date",value:p,onChange:Z=>g(Z.target.value),required:!0}),T.jsx("button",{type:"submit",children:""})]}),T.jsx("p",{children:_})]})}const u0=r=>{if(!r)return"";const e=typeof r.toDate=="function"?r.toDate():new Date(r);if(Number.isNaN(e.getTime()))return"";const n=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");return`${n}-${s}-${o}`},IN=({eventId:r})=>{const[e,n]=D.useState(""),[s,o]=D.useState(""),[u,f]=D.useState(""),[m,p]=D.useState(""),[g,_]=D.useState([]),[b,A]=D.useState(""),[P,N]=D.useState({name:"",startDate:"",endDate:""}),U=D.useCallback(async()=>{try{const Z=(await ut(Ze(we,"events",r,"seasons"))).docs.map(x=>({id:x.id,...x.data()}));_(Z)}catch(G){console.error(":",G)}},[r]);D.useEffect(()=>{U()},[U]);const C=async G=>{G.preventDefault();try{await sf(Ze(we,"events",r,"seasons"),{name:e,startDate:gt.fromDate(new Date(s)),endDate:gt.fromDate(new Date(u))}),p(" "),n(""),o(""),f(""),U()}catch(Z){console.error(Z),p(" ")}},B=async G=>{if(window.confirm(""))try{await Tu(kt(we,"events",r,"seasons",G)),_(x=>x.filter(R=>R.id!==G))}catch(x){console.error(":",x)}},H=G=>{A(G.id),N({name:G.name||"",startDate:u0(G.startDate),endDate:u0(G.endDate)})},Q=()=>{A(""),N({name:"",startDate:"",endDate:""})},X=async G=>{if(!P.name.trim()||!P.startDate||!P.endDate){alert("");return}try{const Z={name:P.name.trim(),startDate:gt.fromDate(new Date(P.startDate)),endDate:gt.fromDate(new Date(P.endDate))};await ig(kt(we,"events",r,"seasons",G),Z),_(x=>x.map(R=>R.id===G?{...R,...Z}:R)),Q()}catch(Z){console.error(":",Z),alert("")}};return T.jsxs("div",{children:[T.jsx("h3",{children:" "}),T.jsxs("form",{onSubmit:C,children:[T.jsx("input",{type:"text",placeholder:"",value:e,onChange:G=>n(G.target.value),required:!0}),T.jsx("input",{type:"date",value:s,onChange:G=>o(G.target.value),required:!0}),T.jsx("input",{type:"date",value:u,onChange:G=>f(G.target.value),required:!0}),T.jsx("button",{type:"submit",children:""})]}),T.jsx("p",{children:m}),T.jsx("ul",{children:g.map(G=>T.jsx("li",{children:b===G.id?T.jsxs(T.Fragment,{children:[T.jsx("input",{type:"text",value:P.name,onChange:Z=>N(x=>({...x,name:Z.target.value}))}),T.jsx("input",{type:"date",value:P.startDate,onChange:Z=>N(x=>({...x,startDate:Z.target.value}))}),T.jsx("input",{type:"date",value:P.endDate,onChange:Z=>N(x=>({...x,endDate:Z.target.value}))}),T.jsx("button",{type:"button",onClick:()=>X(G.id),children:""}),T.jsx("button",{type:"button",onClick:Q,children:""})]}):T.jsxs(T.Fragment,{children:[G.name,"",G.startDate.toDate().toLocaleDateString(),"",G.endDate.toDate().toLocaleDateString(),"",T.jsx("button",{type:"button",onClick:()=>H(G),children:""}),T.jsx("button",{type:"button",onClick:()=>B(G.id),children:""})]})},G.id))})]})},CN=({eventId:r,categories:e,setCategories:n})=>{const[s,o]=D.useState(""),[u,f]=D.useState(""),[m,p]=D.useState(""),g=D.useCallback(async()=>{try{const C=(await ut(Ze(we,"events",r,"categories"))).docs.map(B=>({id:B.id,...B.data()}));n(C)}catch(U){console.error(":",U)}},[r,n]);D.useEffect(()=>{g()},[g]);const _=async U=>{if(U.preventDefault(),!!s)try{await sf(Ze(we,"events",r,"categories"),{name:s}),o(""),g()}catch(C){console.error(":",C)}},b=async U=>{if(window.confirm(""))try{await Tu(kt(we,"events",r,"categories",U)),n(B=>B.filter(H=>H.id!==U))}catch(B){console.error(":",B)}},A=U=>{f(U.id),p(U.name||"")},P=()=>{f(""),p("")},N=async U=>{const C=m.trim();if(!C){alert("");return}try{await ig(kt(we,"events",r,"categories",U),{name:C}),n(B=>B.map(H=>H.id===U?{...H,name:C}:H)),P()}catch(B){console.error(":",B),alert("")}};return T.jsxs("div",{children:[T.jsx("h3",{children:" "}),T.jsxs("form",{onSubmit:_,children:[T.jsx("input",{type:"text",placeholder:"",value:s,onChange:U=>o(U.target.value),required:!0}),T.jsx("button",{type:"submit",children:""})]}),T.jsx("ul",{children:e.map(U=>T.jsx("li",{children:u===U.id?T.jsxs(T.Fragment,{children:[T.jsx("input",{type:"text",value:m,onChange:C=>p(C.target.value)}),T.jsx("button",{type:"button",onClick:()=>N(U.id),children:""}),T.jsx("button",{type:"button",onClick:P,children:""})]}):T.jsxs(T.Fragment,{children:[U.name,T.jsx("button",{type:"button",onClick:()=>A(U),children:""}),T.jsx("button",{type:"button",onClick:()=>b(U.id),children:""})]})},U.id))})]})},Wc={name:"",memberNo:"",age:"",gender:"",categoryId:""},xN=r=>r==="male"?"":r==="female"?"":r==="other"?"":"",DN=({eventId:r,categories:e})=>{const[n,s]=D.useState([]),[o,u]=D.useState(Wc),[f,m]=D.useState(""),[p,g]=D.useState(Wc),_=D.useCallback(async()=>{try{const B=(await ut(Ze(we,"events",r,"participants"))).docs.map(H=>({id:H.id,...H.data()}));s(B)}catch(C){console.error(":",C)}},[r]);D.useEffect(()=>{_()},[_]);const b=async C=>{C.preventDefault();try{await sf(Ze(we,"events",r,"participants"),{name:o.name.trim(),memberNo:o.memberNo.trim(),age:Number(o.age),gender:o.gender,categoryId:o.categoryId,createdAt:au()}),u(Wc),_()}catch(B){console.error(":",B)}},A=C=>{m(C.id),g({name:C.name||"",memberNo:C.memberNo||"",age:C.age?String(C.age):"",gender:C.gender||"",categoryId:C.categoryId||""})},P=()=>{m(""),g(Wc)},N=async C=>{if(!p.name.trim()||!p.memberNo.trim()||!p.age||!p.gender||!p.categoryId){alert("");return}try{const B={name:p.name.trim(),memberNo:p.memberNo.trim(),age:Number(p.age),gender:p.gender,categoryId:p.categoryId,updatedAt:au()};await ig(kt(we,"events",r,"participants",C),B),s(H=>H.map(Q=>Q.id===C?{...Q,...B,updatedAt:new Date}:Q)),P()}catch(B){console.error(":",B),alert("")}},U=async C=>{if(window.confirm(""))try{await Tu(kt(we,"events",r,"participants",C)),s(H=>H.filter(Q=>Q.id!==C))}catch(H){console.error(":",H)}};return T.jsxs("div",{children:[T.jsx("h3",{children:" "}),T.jsxs("form",{onSubmit:b,children:[T.jsx("input",{type:"text",placeholder:"",value:o.name,onChange:C=>u(B=>({...B,name:C.target.value})),required:!0}),T.jsx("input",{type:"text",placeholder:"",value:o.memberNo,onChange:C=>u(B=>({...B,memberNo:C.target.value})),required:!0}),T.jsx("input",{type:"number",min:"1",max:"120",placeholder:"",value:o.age,onChange:C=>u(B=>({...B,age:C.target.value})),required:!0}),T.jsxs("select",{value:o.gender,onChange:C=>u(B=>({...B,gender:C.target.value})),required:!0,children:[T.jsx("option",{value:"",children:"--  --"}),T.jsx("option",{value:"male",children:""}),T.jsx("option",{value:"female",children:""}),T.jsx("option",{value:"other",children:""})]}),T.jsxs("select",{value:o.categoryId,onChange:C=>u(B=>({...B,categoryId:C.target.value})),required:!0,children:[T.jsx("option",{value:"",children:"--  --"}),e.map(C=>T.jsx("option",{value:C.id,children:C.name},C.id))]}),T.jsx("button",{type:"submit",children:""})]}),T.jsx("ul",{children:n.map(C=>{var Q;const B=((Q=e.find(X=>X.id===C.categoryId))==null?void 0:Q.name)||"",H=f===C.id;return T.jsx("li",{children:H?T.jsxs(T.Fragment,{children:[T.jsx("input",{type:"text",value:p.name,onChange:X=>g(G=>({...G,name:X.target.value}))}),T.jsx("input",{type:"text",value:p.memberNo,onChange:X=>g(G=>({...G,memberNo:X.target.value}))}),T.jsx("input",{type:"number",min:"1",max:"120",value:p.age,onChange:X=>g(G=>({...G,age:X.target.value}))}),T.jsxs("select",{value:p.gender,onChange:X=>g(G=>({...G,gender:X.target.value})),children:[T.jsx("option",{value:"",children:"--  --"}),T.jsx("option",{value:"male",children:""}),T.jsx("option",{value:"female",children:""}),T.jsx("option",{value:"other",children:""})]}),T.jsxs("select",{value:p.categoryId,onChange:X=>g(G=>({...G,categoryId:X.target.value})),children:[T.jsx("option",{value:"",children:"--  --"}),e.map(X=>T.jsx("option",{value:X.id,children:X.name},X.id))]}),T.jsx("button",{type:"button",onClick:()=>N(C.id),children:""}),T.jsx("button",{type:"button",onClick:P,children:""})]}):T.jsxs(T.Fragment,{children:[C.name," / ",": ",C.memberNo||"-"," / ",": ",C.age||"-"," / ",": ",xN(C.gender)," / ",": ",B,T.jsx("button",{type:"button",onClick:()=>A(C),children:""}),T.jsx("button",{type:"button",onClick:()=>U(C.id),children:""})]})},C.id)})})]})},NN=()=>{const{eventId:r}=lu(),[e,n]=D.useState([]),[s,o]=D.useState(""),[u,f]=D.useState([]),[m,p]=D.useState(""),[g,_]=D.useState([]),[b,A]=D.useState("");D.useEffect(()=>{(async()=>{const X=await ut(Ze(we,"events",r,"seasons"));n(X.docs.map(G=>({id:G.id,...G.data()})))})()},[r]),D.useEffect(()=>{if(!s)return;(async()=>{const X=await ut(Ze(we,"events",r,"categories"));f(X.docs.map(G=>({id:G.id,...G.data()})))})(),p(""),_([])},[s]),D.useEffect(()=>{if(!s||!m)return;(async()=>{const G=(await ut(Ze(we,"events",r,"seasons",s,"categories",m,"routes"))).docs.map(Z=>({id:Z.id,...Z.data(),isEditing:!1}));G.sort((Z,x)=>Z.name.localeCompare(x.name,"ja")),_(G)})()},[m]);const P=()=>{const Q=`No.${String(g.length+1).padStart(2,"0")}`;_([...g,{name:Q,grade:"",isBonus:!1,isEditing:!0}])},N=(Q,X,G)=>{_(Z=>{const x=[...Z];return x[Q][X]=X==="isBonus"?G.target.checked:G,x})},U=Q=>{_(X=>X.map((G,Z)=>({...G,isEditing:Z===Q?!G.isEditing:!1})))},C=async Q=>{const X=g[Q];if(!X.grade){alert("");return}const G=kt(we,"events",r,"seasons",s,"categories",m,"routes",X.name);await Nh(G,{name:X.name,grade:X.grade,isBonus:X.isBonus}),_(Z=>{const x=[...Z];return x[Q].isEditing=!1,x}),A(` ${X.name} `),setTimeout(()=>A(""),2e3)},B=async Q=>{const X=g[Q],G=`No.${String(g.length+1).padStart(2,"0")}`,Z=kt(we,"events",r,"seasons",s,"categories",m,"routes",G);await Nh(Z,{name:G,grade:X.grade,isBonus:X.isBonus});const x={...X,name:G,isEditing:!1},R=[...g];R.splice(Q+1,0,x),_(R),A(" "),setTimeout(()=>A(""),2e3)},H=async Q=>{const X=g[Q].name,G=kt(we,"events",r,"seasons",s,"categories",m,"routes",X);await Tu(G);const Z=[...g];Z.splice(Q,1),_(Z),A(" "),setTimeout(()=>A(""),2e3)};return T.jsxs("div",{children:[T.jsx("h3",{children:" "}),b&&T.jsx("p",{children:b}),T.jsxs("label",{children:["",T.jsxs("select",{value:s,onChange:Q=>o(Q.target.value),children:[T.jsx("option",{value:"",children:"--  --"}),e.map(Q=>T.jsx("option",{value:Q.id,children:Q.name},Q.id))]})]}),s&&T.jsxs(T.Fragment,{children:[T.jsxs("label",{children:["",T.jsxs("select",{value:m,onChange:Q=>p(Q.target.value),children:[T.jsx("option",{value:"",children:"--  --"}),u.map(Q=>T.jsx("option",{value:Q.id,children:Q.name},Q.id))]})]}),m&&T.jsxs(T.Fragment,{children:[T.jsx("div",{style:{marginTop:"1em"},children:T.jsx("button",{onClick:P,children:" "})}),T.jsxs("table",{style:{marginTop:"1em",borderCollapse:"collapse"},children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:""}),T.jsx("th",{children:""}),T.jsx("th",{children:""}),T.jsx("th",{children:""})]})}),T.jsx("tbody",{children:g.map((Q,X)=>T.jsxs("tr",{children:[T.jsx("td",{children:Q.name}),T.jsx("td",{children:Q.isEditing?T.jsxs("select",{value:Q.grade,onChange:G=>N(X,"grade",G.target.value),children:[T.jsx("option",{value:"",children:"--  --"}),T.jsx("option",{value:"9",children:"9"}),T.jsx("option",{value:"8",children:"8"}),T.jsx("option",{value:"7",children:"7"}),T.jsx("option",{value:"6",children:"6"}),T.jsx("option",{value:"5",children:"5"}),T.jsx("option",{value:"4",children:"4"}),T.jsx("option",{value:"3",children:"3"}),T.jsx("option",{value:"2",children:"2"}),T.jsx("option",{value:"1",children:"1"}),T.jsx("option",{value:"",children:""}),T.jsx("option",{value:"2",children:"2"})]}):Q.grade}),T.jsx("td",{children:Q.isEditing?T.jsx("input",{type:"checkbox",checked:Q.isBonus,onChange:G=>N(X,"isBonus",G)}):Q.isBonus?"":"-"}),T.jsx("td",{children:Q.isEditing?T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:()=>C(X),children:""}),T.jsx("button",{onClick:()=>U(X),children:""})]}):T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:()=>U(X),children:""}),T.jsx("button",{onClick:()=>B(X),children:""}),T.jsx("button",{onClick:()=>H(X),children:""})]})})]},X))})]})]})]})]})},ON=({eventId:r})=>{var A,P;const[e,n]=D.useState([]),[s,o]=D.useState([]),[u,f]=D.useState([]),m=kn(),[p,g]=D.useState(((A=m.state)==null?void 0:A.seasonId)||""),[_,b]=D.useState(((P=m.state)==null?void 0:P.categoryId)||"");return D.useEffect(()=>{const N=async()=>{try{const B=(await ut(Ze(we,"events",r,"seasons"))).docs.map(H=>({id:H.id,...H.data()}));n(B)}catch(C){console.error(":",C)}},U=async()=>{try{const B=(await ut(Ze(we,"events",r,"categories"))).docs.map(H=>({id:H.id,...H.data()}));o(B)}catch(C){console.error(":",C)}};N(),U()},[r]),D.useEffect(()=>{(async()=>{if(_)try{const B=(await ut(Ze(we,"events",r,"participants"))).docs.map(H=>({id:H.id,...H.data()})).filter(H=>H.categoryId===_);f(B)}catch(U){console.error(":",U)}})()},[r,_]),D.useEffect(()=>{var N,U;(N=m.state)!=null&&N.seasonId&&g(m.state.seasonId),(U=m.state)!=null&&U.categoryId&&b(m.state.categoryId)},[m.state]),T.jsxs("div",{style:{padding:"2em"},children:[T.jsx("h2",{children:" "}),T.jsx("div",{style:{marginBottom:"1em"},children:T.jsxs("label",{children:[":",T.jsxs("select",{value:p,onChange:N=>g(N.target.value),children:[T.jsx("option",{value:"",children:"--  --"}),e.map(N=>T.jsx("option",{value:N.id,children:N.name},N.id))]})]})}),T.jsx("div",{style:{marginBottom:"1em"},children:T.jsxs("label",{children:[":",T.jsxs("select",{value:_,onChange:N=>b(N.target.value),children:[T.jsx("option",{value:"",children:"--  --"}),s.map(N=>T.jsx("option",{value:N.id,children:N.name},N.id))]})]})}),p&&_&&T.jsx("ul",{children:u.map(N=>T.jsxs("li",{children:[N.name,T.jsx($e,{to:`/events/${r}/scoreinput/${p}/${_}/${N.id}`,style:{marginLeft:"1em"},children:" "})]},N.id))})]})},MN=()=>{var B;const{eventId:r}=lu(),[e,n]=D.useState(""),s=kn(),[o,u]=D.useState(((B=s.state)==null?void 0:B.tab)||"seasons"),[f,m]=D.useState([]),[p,g]=D.useState(!0),[_,b]=D.useState(""),[A,P]=D.useState(!1),{gymIds:N,loading:U,error:C}=lf();return yr(e?`: ${e}`:""),D.useEffect(()=>{if(U)return;if(C){b(C),g(!1);return}(async()=>{g(!0),b(""),P(!1);try{const Q=kt(we,"events",r),X=await ss(Q);if(!X.exists()){b("");return}const G=X.data();if(n(G.name||""),!N.includes(G.gymId)){P(!0);return}const x=(await ut(Ze(we,"events",r,"categories"))).docs.map(R=>({id:R.id,...R.data()}));m(x)}catch(Q){console.error(":",Q),b("")}finally{g(!1)}})()},[r,N,U,C]),p||U?T.jsx("p",{style:{padding:"2em"},children:"..."}):_||C?T.jsxs("div",{style:{padding:"2em"},children:[T.jsx("p",{children:_||C}),T.jsx($e,{to:"/dashboard",children:" "})]}):A?T.jsxs("div",{style:{padding:"2em"},children:[T.jsx("p",{children:""}),T.jsx($e,{to:"/dashboard",children:" "})]}):T.jsxs("div",{style:{padding:"2em"},children:[T.jsxs("h2",{children:[" ",e]}),T.jsx($e,{to:"/dashboard",children:" "})," |"," ",T.jsxs("div",{style:{marginTop:"1em"},children:[T.jsx("button",{onClick:()=>u("seasons"),children:" "}),T.jsx("button",{onClick:()=>u("categories"),children:" "}),T.jsx("button",{onClick:()=>u("routes"),children:" "}),T.jsx("button",{onClick:()=>u("participants"),children:" "}),T.jsx("button",{onClick:()=>u("scores"),children:" "})]}),o==="seasons"&&T.jsx(IN,{eventId:r}),o==="categories"&&T.jsx(CN,{eventId:r,categories:f,setCategories:m}),o==="routes"&&T.jsx(NN,{eventId:r,categories:f}),o==="participants"&&T.jsx(DN,{eventId:r,categories:f}),o==="scores"&&T.jsx(ON,{eventId:r})]})},PN=()=>{const{eventId:r,seasonId:e,categoryId:n,participantId:s}=lu(),[o,u]=D.useState([]),[f,m]=D.useState(""),[p,g]=D.useState({}),[_,b]=D.useState(""),[A,P]=D.useState(null),[N,U]=D.useState(!0),[C,B]=D.useState(""),[H,Q]=D.useState(!1),{gymIds:X,loading:G,error:Z}=lf();yr(f?`: ${f}`:""),D.useEffect(()=>{if(G)return;if(Z){B(Z),U(!1);return}(async()=>{U(!0),B(""),Q(!1);try{const V=await ss(kt(we,"events",r));if(!V.exists()){B("");return}if(!X.includes(V.data().gymId)){Q(!0);return}const L=await ss(kt(we,"events",r,"participants",s));L.exists()&&m(L.data().name||"");const M=(await ut(Ze(we,"events",r,"seasons",e,"categories",n,"routes"))).docs.map(Ue=>Ue.data()).sort((Ue,ee)=>Ue.name.localeCompare(ee.name,"ja"));u(M);const dt=await ss(kt(we,"events",r,"seasons",e,"categories",n,"participants",s));if(dt.exists()){const Ue=dt.data();Ue.scores&&g(Ue.scores),Ue.updatedAt&&P(Ue.updatedAt.toDate())}}catch(V){console.error(":",V),B("")}finally{U(!1)}})()},[r,e,n,s,X,G,Z]);const x=I=>{g(V=>({...V,[I]:!V[I]}))},R=async()=>{if(!H)try{await Nh(kt(we,"events",r,"seasons",e,"categories",n,"participants",s),{scores:p,updatedAt:au()},{merge:!0}),b(" "),setTimeout(()=>b(""),2e3)}catch(I){console.error(":",I),b(" ")}};return N||G?T.jsx("p",{style:{padding:"2em"},children:"..."}):C||Z?T.jsxs("div",{style:{padding:"2em"},children:[T.jsx("p",{children:C||Z}),T.jsx($e,{to:`/events/${r}/edit`,state:{tab:"scores",seasonId:e,categoryId:n},children:" "})]}):H?T.jsxs("div",{style:{padding:"2em"},children:[T.jsx("p",{children:""}),T.jsx($e,{to:"/dashboard",children:" "})]}):T.jsxs("div",{style:{padding:"2em"},children:[T.jsx("h2",{children:" "}),T.jsx("p",{children:T.jsx($e,{to:`/events/${r}/edit`,state:{tab:"scores",seasonId:e,categoryId:n},children:" "})}),T.jsxs("p",{children:[": ",f]}),A&&T.jsxs("p",{style:{fontStyle:"italic",fontSize:"0.9em"},children:[": ",A.toLocaleString()]}),T.jsx("div",{style:{marginTop:"1em"},children:o.map(I=>T.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.5em 0",borderBottom:"1px solid #ddd"},children:[T.jsx("span",{children:I.name}),T.jsx("input",{type:"checkbox",checked:!!p[I.name],onChange:()=>x(I.name)})]},I.name))}),T.jsxs("div",{style:{marginTop:"1em"},children:[T.jsx("button",{onClick:R,children:" "}),T.jsx("span",{style:{marginLeft:"1em"},children:_})]})]})},c0=r=>r?typeof r.toDate=="function"?r.toDate().toLocaleDateString():typeof r.seconds=="number"?new Date(r.seconds*1e3).toLocaleDateString():String(r):"-",eo=r=>r?typeof r.toDate=="function"?r.toDate().getTime():typeof r.seconds=="number"?r.seconds*1e3:0:0,Oh=(r,e)=>{const n=eo(r.startDate),s=eo(r.endDate);return n&&s&&n<=e&&e<=s?"ongoing":n&&e<n?"upcoming":"ended"},VN={ongoing:"",upcoming:"",ended:""},h0={ongoing:0,upcoming:1,ended:2},kN=(r,e,n)=>{const s=Oh(r,n),o=Oh(e,n),u=h0[s]??99,f=h0[o]??99;if(u!==f)return u-f;const m=eo(r.startDate),p=eo(e.startDate),g=eo(r.endDate),_=eo(e.endDate);return s==="ongoing"?g!==_?g-_:m!==p?p-m:(r.name||"").localeCompare(e.name||"","ja"):s==="upcoming"?m!==p?m-p:g!==_?g-_:(r.name||"").localeCompare(e.name||"","ja"):g!==_?_-g:m!==p?p-m:(r.name||"").localeCompare(e.name||"","ja")},LN=()=>{yr("");const[r,e]=up(),n=r.get("q")||"",s=r.get("status")||"all",o=r.get("gym")||"all",[u,f]=D.useState([]),[m,p]=D.useState([]),[g,_]=D.useState(n),[b,A]=D.useState(s),[P,N]=D.useState(o),[U,C]=D.useState(!0),[B,H]=D.useState("");D.useEffect(()=>{(async()=>{try{H("");const[x,R]=await Promise.all([ut(Ze(we,"events")),ut(Ze(we,"gyms"))]),I=x.docs.map(L=>({id:L.id,...L.data()})),V=R.docs.map(L=>({id:L.id,...L.data()})).sort((L,z)=>(L.name||"").localeCompare(z.name||"","ja"));f(I),p(V)}catch(x){console.error(":",x),H("")}finally{C(!1)}})()},[]),D.useEffect(()=>{const Z=new URLSearchParams,x=g.trim();x&&Z.set("q",x),b!=="all"&&Z.set("status",b),P!=="all"&&Z.set("gym",P),Z.toString()!==r.toString()&&e(Z,{replace:!0})},[g,b,P,r,e]),D.useEffect(()=>{if(P==="all"||m.length===0)return;m.some(x=>x.id===P)||N("all")},[P,m]);const Q=D.useMemo(()=>{const Z=Date.now(),x=g.trim().toLowerCase();return[...u].sort((R,I)=>kN(R,I,Z)).filter(R=>{const I=(R.name||"").toLowerCase(),V=Oh(R,Z),L=x?I.includes(x):!0,z=b==="all"?!0:V===b,M=P==="all"?!0:R.gymId===P;return L&&z&&M})},[u,g,b,P]),X=D.useMemo(()=>new Map(m.map(Z=>[Z.id,Z.name||Z.id])),[m]),G=()=>{_(""),A("all"),N("all")};return U?T.jsx("p",{children:"..."}):B?T.jsxs("div",{style:{padding:"2em"},children:[T.jsx("p",{children:B}),T.jsx("div",{style:{marginTop:"1.5em"},children:T.jsx($e,{to:"/",children:" Home"})})]}):T.jsxs("div",{style:{padding:"2em",maxWidth:"980px",margin:"0 auto"},children:[T.jsx("h2",{children:" "}),T.jsx("p",{style:{marginBottom:"0.4em"},children:""}),T.jsxs("ol",{style:{marginTop:0,paddingLeft:"1.2em"},children:[T.jsx("li",{children:""}),T.jsx("li",{children:""}),T.jsx("li",{children:""})]}),T.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"10px",padding:"0.8em",marginBottom:"1em",display:"flex",flexWrap:"wrap",gap:"0.8em",alignItems:"center"},children:[T.jsxs("label",{children:[":",T.jsx("input",{type:"text",value:g,onChange:Z=>_(Z.target.value),placeholder:": Spring",style:{marginLeft:"0.5em"}})]}),T.jsxs("label",{children:[":",T.jsxs("select",{value:b,onChange:Z=>A(Z.target.value),style:{marginLeft:"0.5em"},children:[T.jsx("option",{value:"all",children:""}),T.jsx("option",{value:"ongoing",children:""}),T.jsx("option",{value:"upcoming",children:""}),T.jsx("option",{value:"ended",children:""})]})]}),T.jsxs("label",{children:[":",T.jsxs("select",{value:P,onChange:Z=>N(Z.target.value),style:{marginLeft:"0.5em"},children:[T.jsx("option",{value:"all",children:""}),m.map(Z=>T.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]}),T.jsx("button",{type:"button",onClick:G,children:""}),T.jsxs("span",{style:{marginLeft:"auto"},children:[" ",Q.length," / ",u.length," "]})]}),u.length===0?T.jsx("p",{children:""}):Q.length===0?T.jsx("p",{children:""}):T.jsx("div",{style:{display:"grid",gap:"1em"},children:Q.map(Z=>{const x=Oh(Z,Date.now());return T.jsxs("section",{style:{border:"1px solid #ddd",borderRadius:"10px",padding:"1em"},children:[T.jsxs("h3",{style:{marginTop:0,marginBottom:"0.5em"},children:[Z.name,T.jsx("span",{style:{marginLeft:"0.6em",fontSize:"0.8em",border:"1px solid #ccc",borderRadius:"999px",padding:"0.1em 0.5em"},children:VN[x]})]}),T.jsxs("p",{style:{marginTop:0},children:[": ",c0(Z.startDate),"  ",c0(Z.endDate)]}),T.jsxs("p",{style:{marginTop:0},children:[": ",X.get(Z.gymId)||""]}),T.jsx($e,{to:`/score-summary/${Z.id}`,children:""})]},Z.id)})}),T.jsx("div",{style:{marginTop:"2em"},children:T.jsx($e,{to:"/",children:" Home"})})]})},UN=r=>r?typeof r.toMillis=="function"?r.toMillis():typeof r.seconds=="number"?r.seconds*1e3:0:0,f0=(r,e)=>{const n={};for(const s of r){const o=new Map;for(const u of e.filter(f=>f.categoryId===s.id))o.set(u.id,{participantId:u.id,name:u.name||"",memberNo:u.memberNo||"-",totalPoints:0,clearCount:0,latestUpdatedAt:0});n[s.id]=o}return n},d0=r=>{const e={};for(const[n,s]of Object.entries(r)){const o=Array.from(s.values()).sort((p,g)=>g.totalPoints!==p.totalPoints?g.totalPoints-p.totalPoints:g.clearCount!==p.clearCount?g.clearCount-p.clearCount:p.name.localeCompare(g.name,"ja"));let u=null,f=null,m=0;e[n]=o.map((p,g)=>((p.totalPoints!==u||p.clearCount!==f)&&(m=g+1),u=p.totalPoints,f=p.clearCount,{...p,rank:m}))}return e},jN=()=>{const{eventId:r}=lu(),[e,n]=up(),s=e.get("season")||"all",o=e.get("category")||"all",u=e.get("q")||"",f=e.get("pid")||"",m=e.get("self")==="1"||e.get("view")==="self",[p,g]=D.useState(null),[_,b]=D.useState([]),[A,P]=D.useState([]),[N,U]=D.useState([]),[C,B]=D.useState(s),[H,Q]=D.useState(o),[X,G]=D.useState(f),[Z,x]=D.useState(m),[R,I]=D.useState(u),[V,L]=D.useState({}),[z,M]=D.useState(!0),[dt,Ue]=D.useState(!1),[ee,te]=D.useState("");yr(p!=null&&p.name?`: ${p.name}`:""),D.useEffect(()=>{let le=!1;return(async()=>{M(!0),te("");try{const Ne=await ss(kt(we,"events",r));if(!Ne.exists()){le||te("");return}const[_e,mt,Lt]=await Promise.all([ut(Ze(we,"events",r,"seasons")),ut(Ze(we,"events",r,"categories")),ut(Ze(we,"events",r,"participants"))]);if(le)return;g({id:Ne.id,...Ne.data()}),b(_e.docs.map(ot=>({id:ot.id,...ot.data()})).sort((ot,ct)=>ot.name.localeCompare(ct.name,"ja"))),P(mt.docs.map(ot=>({id:ot.id,...ot.data()})).sort((ot,ct)=>ot.name.localeCompare(ct.name,"ja"))),U(Lt.docs.map(ot=>({id:ot.id,...ot.data()})))}catch(Ne){console.error(":",Ne),le||te("")}finally{le||M(!1)}})(),()=>{le=!0}},[r]),D.useEffect(()=>{let le=!1;return(async()=>{if(z||!p||A.length===0)return;te("");const Ne=C==="all"?_.map(_e=>_e.id):[C].filter(Boolean);if(Ne.length===0){L(d0(f0(A,N)));return}Ue(!0);try{const _e=f0(A,N),mt=new Map(N.map(ct=>[ct.id,ct])),Lt=Ne.flatMap(ct=>A.map(async Rn=>{const[an,Et]=await Promise.all([ut(Ze(we,"events",r,"seasons",ct,"categories",Rn.id,"routes")),ut(Ze(we,"events",r,"seasons",ct,"categories",Rn.id,"participants"))]);return{categoryId:Rn.id,routeSnap:an,scoreSnap:Et}})),ot=await Promise.all(Lt);for(const{categoryId:ct,routeSnap:Rn,scoreSnap:an}of ot){const Et={};for(const Ln of Rn.docs){const En=Ln.data();Et[En.name]=Number(En.points)||1}for(const Ln of an.docs){const En=Ln.data(),Un=En.scores||{},on=Ln.id;if(!_e[ct].has(on)){const ze=mt.get(on);_e[ct].set(on,{participantId:on,name:(ze==null?void 0:ze.name)||En.participantName||`ID:${on}`,memberNo:(ze==null?void 0:ze.memberNo)||"-",totalPoints:0,clearCount:0,latestUpdatedAt:0})}const Oe=_e[ct].get(on);for(const[ze,ki]of Object.entries(Un))ki&&(Oe.totalPoints+=Et[ze]??1,Oe.clearCount+=1);Oe.latestUpdatedAt=Math.max(Oe.latestUpdatedAt,UN(En.updatedAt))}}le||L(d0(_e))}catch(_e){console.error(":",_e),le||te("")}finally{le||Ue(!1)}})(),()=>{le=!0}},[z,p,A,N,_,C,r]);const ce=D.useMemo(()=>H==="all"?A:A.filter(le=>le.id===H),[A,H]),Te=D.useMemo(()=>[...H==="all"?N:N.filter(me=>me.categoryId===H)].sort((me,Ne)=>(me.name||"").localeCompare(Ne.name||"","ja")),[N,H]);D.useEffect(()=>{if(!X||Te.length===0)return;Te.some(me=>me.id===X)||G("")},[Te,X]),D.useEffect(()=>{Z&&!X&&x(!1)},[Z,X]),D.useEffect(()=>{_.length!==0&&C!=="all"&&!_.some(le=>le.id===C)&&B("all")},[_,C]),D.useEffect(()=>{A.length!==0&&H!=="all"&&!A.some(le=>le.id===H)&&Q("all")},[A,H]),D.useEffect(()=>{const le=new URLSearchParams;C!=="all"&&le.set("season",C),H!=="all"&&le.set("category",H);const me=R.trim();me&&le.set("q",me),X&&le.set("pid",X),Z&&X&&le.set("self","1"),le.toString()!==e.toString()&&n(le,{replace:!0})},[C,H,R,X,Z,e,n]);const k=R.trim().toLowerCase(),re=k.length>0,he=N.find(le=>le.id===X)||null,ue=D.useMemo(()=>{if(!X)return[];const le=[];for(const me of ce){const Ne=(V[me.id]||[]).find(_e=>_e.participantId===X);Ne&&le.push({...Ne,categoryName:me.name})}return le},[X,ce,V]),ve=le=>{const me=new URLSearchParams;C!=="all"&&me.set("season",C),H!=="all"&&me.set("category",H),R.trim()&&me.set("q",R.trim()),X&&me.set("pid",X),Z&&X&&me.set("self","1");const Ne=me.toString();return`/score-summary/${r}/participants/${le}${Ne?`?${Ne}`:""}`},Ce=()=>{Q("all"),G(""),x(!1),I("")},de=ce.reduce((le,me)=>{const Ne=V[me.id]||[];return le+Ne.filter(_e=>{const mt=(_e.name||"").toLowerCase(),Lt=(_e.memberNo||"").toLowerCase();return mt.includes(k)||Lt.includes(k)}).length},0);return z?T.jsx("p",{children:"..."}):ee?T.jsxs("div",{style:{padding:"2em"},children:[T.jsx("p",{children:ee}),T.jsx("div",{style:{marginTop:"2em"},children:T.jsx($e,{to:"/score-summary",children:" "})})]}):T.jsxs("div",{style:{padding:"2em",maxWidth:"1100px",margin:"0 auto"},children:[T.jsxs("h2",{children:[p==null?void 0:p.name," - "]}),T.jsx("div",{style:{margin:"1em 0",display:"flex",flexWrap:"wrap",gap:"0.8em"},children:T.jsxs("label",{children:[":",T.jsxs("select",{value:C,onChange:le=>B(le.target.value),style:{marginLeft:"0.5em"},children:[T.jsx("option",{value:"all",children:""}),_.map(le=>T.jsx("option",{value:le.id,children:le.name},le.id))]})]})}),T.jsxs("div",{style:{margin:"1em 0"},children:[T.jsxs("label",{children:["/:",T.jsx("input",{type:"text",value:R,onChange:le=>I(le.target.value),placeholder:":  / M-1001",style:{marginLeft:"0.5em"}})]}),re&&T.jsxs("span",{style:{marginLeft:"0.8em"},children:[" ",de," "]})]}),T.jsxs("div",{style:{margin:"1em 0",border:"1px solid #ddd",borderRadius:"8px",padding:"0.8em"},children:[T.jsx("p",{style:{marginTop:0,marginBottom:"0.5em"},children:""}),T.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.8em",alignItems:"center"},children:[T.jsxs("label",{children:[":",T.jsxs("select",{value:H,onChange:le=>Q(le.target.value),style:{marginLeft:"0.5em",marginRight:"0.8em"},children:[T.jsx("option",{value:"all",children:""}),A.map(le=>T.jsx("option",{value:le.id,children:le.name},le.id))]})]}),T.jsxs("label",{children:[":",T.jsxs("select",{value:X,onChange:le=>G(le.target.value),style:{marginLeft:"0.5em",marginRight:"0.8em"},children:[T.jsx("option",{value:"",children:"--  --"}),Te.map(le=>T.jsxs("option",{value:le.id,children:[le.name," (",le.memberNo||"-",")"]},le.id))]})]}),T.jsxs("label",{children:[T.jsx("input",{type:"checkbox",checked:Z,onChange:le=>x(le.target.checked),disabled:!X,style:{marginLeft:"0.5em",marginRight:"0.3em"}}),""]}),T.jsx("button",{type:"button",onClick:Ce,children:""}),X&&T.jsx($e,{to:ve(X),children:""})]})]}),he&&T.jsxs("section",{style:{margin:"1em 0",border:"1px solid #ddd",borderRadius:"8px",padding:"0.8em"},children:[T.jsxs("h3",{style:{marginTop:0,marginBottom:"0.5em"},children:[": ",he.name," (",he.memberNo||"-",")"]}),ue.length===0?T.jsx("p",{style:{marginBottom:0},children:""}):T.jsx("ul",{style:{marginBottom:0,paddingLeft:"1.2em"},children:ue.map(le=>T.jsxs("li",{children:[le.categoryName,": ",le.rank," /  ",le.totalPoints," /  ",le.clearCount]},`${le.categoryName}-${le.participantId}`))})]}),dt&&T.jsx("p",{children:"..."}),ce.length===0?T.jsx("p",{children:""}):Z&&!X?T.jsx("p",{children:""}):ce.map(le=>{const Ne=(V[le.id]||[]).filter(_e=>{if(Z&&X&&_e.participantId!==X)return!1;if(!re)return!0;const mt=(_e.name||"").toLowerCase(),Lt=(_e.memberNo||"").toLowerCase();return mt.includes(k)||Lt.includes(k)});return T.jsxs("section",{style:{marginBottom:"2em"},children:[T.jsxs("h3",{children:[": ",le.name]}),Ne.length===0?T.jsx("p",{children:re?"":""}):T.jsx("div",{style:{overflowX:"auto"},children:T.jsxs("table",{style:{borderCollapse:"collapse",width:"100%",minWidth:"650px"},children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{style:{textAlign:"left",borderBottom:"1px solid #ccc"},children:""}),T.jsx("th",{style:{textAlign:"left",borderBottom:"1px solid #ccc"},children:""}),T.jsx("th",{style:{textAlign:"left",borderBottom:"1px solid #ccc"},children:""}),T.jsx("th",{style:{textAlign:"right",borderBottom:"1px solid #ccc"},children:""}),T.jsx("th",{style:{textAlign:"right",borderBottom:"1px solid #ccc"},children:""}),T.jsx("th",{style:{textAlign:"left",borderBottom:"1px solid #ccc"},children:""})]})}),T.jsx("tbody",{children:Ne.map(_e=>T.jsxs("tr",{children:[T.jsx("td",{style:{padding:"0.4em 0"},children:_e.rank}),T.jsxs("td",{children:[_e.name,X===_e.participantId&&T.jsx("strong",{style:{marginLeft:"0.4em"},children:"()"})]}),T.jsx("td",{children:_e.memberNo}),T.jsx("td",{style:{textAlign:"right"},children:_e.totalPoints}),T.jsx("td",{style:{textAlign:"right"},children:_e.clearCount}),T.jsx("td",{children:T.jsx($e,{to:ve(_e.participantId),children:""})})]},_e.participantId))})]})})]},le.id)}),T.jsx("div",{style:{marginTop:"2em"},children:T.jsx($e,{to:"/score-summary",children:" "})})]})},BN=r=>r?typeof r.toDate=="function"?r.toDate().toLocaleString():typeof r.seconds=="number"?new Date(r.seconds*1e3).toLocaleString():"-":"-",m0=r=>{const e=[...r].sort((u,f)=>f.totalPoints!==u.totalPoints?f.totalPoints-u.totalPoints:f.clearCount!==u.clearCount?f.clearCount-u.clearCount:u.name.localeCompare(f.name,"ja"));let n=null,s=null,o=0;return e.map((u,f)=>((u.totalPoints!==n||u.clearCount!==s)&&(o=f+1),n=u.totalPoints,s=u.clearCount,{...u,rank:o}))},zN=()=>{var ee;const{eventId:r,participantId:e}=lu(),[n]=up(),s=n.get("category")||"",o=n.get("q")||"",[u,f]=D.useState(null),[m,p]=D.useState(null),[g,_]=D.useState([]),[b,A]=D.useState([]),[P,N]=D.useState([]),[U,C]=D.useState(n.get("season")||"all"),[B,H]=D.useState([]),[Q,X]=D.useState(null),[G,Z]=D.useState({prev:null,next:null}),[x,R]=D.useState(!0),[I,V]=D.useState(!1),[L,z]=D.useState("");yr(m!=null&&m.name?`: ${m.name}`:"");const M=te=>{const ce=new URLSearchParams;U!=="all"&&ce.set("season",U),s&&ce.set("category",s),o&&ce.set("q",o);const Te=ce.toString();return`/score-summary/${r}/participants/${te}${Te?`?${Te}`:""}`},dt=D.useMemo(()=>{const te=new URLSearchParams;U!=="all"&&te.set("season",U),s&&te.set("category",s),o&&te.set("q",o);const ce=te.toString();return`/score-summary/${r}${ce?`?${ce}`:""}`},[r,U,s,o]);D.useEffect(()=>{let te=!1;return(async()=>{R(!0),z("");try{const[Te,k,re,he,ue]=await Promise.all([ss(kt(we,"events",r)),ss(kt(we,"events",r,"participants",e)),ut(Ze(we,"events",r,"participants")),ut(Ze(we,"events",r,"seasons")),ut(Ze(we,"events",r,"categories"))]);if(!Te.exists()){te||z("");return}if(!k.exists()){te||z("");return}const ve=he.docs.map(me=>({id:me.id,...me.data()})).sort((me,Ne)=>me.name.localeCompare(Ne.name,"ja")),Ce=ue.docs.map(me=>({id:me.id,...me.data()})).sort((me,Ne)=>me.name.localeCompare(Ne.name,"ja"));if(te)return;const de=n.get("season"),le=de&&(de==="all"||ve.some(me=>me.id===de))?de:"all";f({id:Te.id,...Te.data()}),p({id:k.id,...k.data()}),_(re.docs.map(me=>({id:me.id,...me.data()}))),A(ve),N(Ce),C(le)}catch(Te){console.error(":",Te),te||z("")}finally{te||R(!1)}})(),()=>{te=!0}},[r,e,n]),D.useEffect(()=>{let te=!1;return(async()=>{if(!(x||!m||b.length===0||P.length===0)){V(!0);try{const Te=U==="all"?b:b.filter(de=>de.id===U),k=m.categoryId?[m.categoryId]:P.map(de=>de.id),re=new Map(P.map(de=>[de.id,de.name])),he=new Map(g.map(de=>[de.id,de.name||""])),ue=new Map(g.map(de=>[de.id,de.memberNo||"-"])),ve=[],Ce={};for(const de of Te){const le=[],me=k.map(async _e=>{const[mt,Lt]=await Promise.all([ut(Ze(we,"events",r,"seasons",de.id,"categories",_e,"routes")),ut(Ze(we,"events",r,"seasons",de.id,"categories",_e,"participants"))]),ot=new Map(mt.docs.map(Oe=>{const ze=Oe.data();return[ze.name,ze]})),ct=new Map,Rn=g.filter(Oe=>Oe.categoryId===_e);for(const Oe of Rn)ct.set(Oe.id,{participantId:Oe.id,name:Oe.name||"",memberNo:Oe.memberNo||"-",totalPoints:0,clearCount:0});let an=null;for(const Oe of Lt.docs){const ze=Oe.data(),ki=ze.scores||{},jn=Oe.id;jn===m.id&&(an=ze);const ht=ct.get(jn)||{participantId:jn,name:he.get(jn)||`ID:${jn}`,memberNo:ue.get(jn)||"-",totalPoints:0,clearCount:0};for(const[Xe,mn]of Object.entries(ki)){if(!mn)continue;const xt=ot.get(Xe);ht.totalPoints+=Number(xt==null?void 0:xt.points)||1,ht.clearCount+=1}ct.set(jn,ht)}const Et=m0(Array.from(ct.values())),Ln=Et.find(Oe=>Oe.participantId===m.id);Ce[_e]||(Ce[_e]=new Map(Et.map(Oe=>[Oe.participantId,{participantId:Oe.participantId,name:Oe.name,memberNo:Oe.memberNo,totalPoints:0,clearCount:0}])));for(const Oe of Et){const ze=Ce[_e].get(Oe.participantId)||{participantId:Oe.participantId,name:Oe.name,memberNo:Oe.memberNo,totalPoints:0,clearCount:0};ze.totalPoints+=Oe.totalPoints,ze.clearCount+=Oe.clearCount,Ce[_e].set(Oe.participantId,ze)}const En=(an==null?void 0:an.scores)||{},Un=Object.entries(En).filter(([,Oe])=>!!Oe).map(([Oe])=>{const ze=ot.get(Oe);return{routeName:Oe,points:Number(ze==null?void 0:ze.points)||1,grade:(ze==null?void 0:ze.grade)||"-"}}).sort((Oe,ze)=>Oe.routeName.localeCompare(ze.routeName,"ja")),on=Un.reduce((Oe,ze)=>Oe+ze.points,0);return{categoryId:_e,categoryName:re.get(_e)||_e,clearCount:Un.length,totalPoints:on,rank:(Ln==null?void 0:Ln.rank)||Et.length,totalParticipants:Et.length,updatedAtText:BN(an==null?void 0:an.updatedAt),clearedRoutes:Un}}),Ne=(await Promise.all(me)).filter(Boolean);for(const _e of Ne)le.push(_e);ve.push({seasonId:de.id,seasonName:de.name,categorySummaries:le,totalPoints:le.reduce((_e,mt)=>_e+mt.totalPoints,0),totalClears:le.reduce((_e,mt)=>_e+mt.clearCount,0)})}if(!te){const de=m.categoryId||k[0],le=de?Array.from((Ce[de]||new Map).values()):[],me=m0(le),Ne=me.find(_e=>_e.participantId===m.id);if(X(Ne?{categoryName:re.get(de)||"",rank:Ne.rank,totalParticipants:me.length,totalPoints:Ne.totalPoints,totalClears:Ne.clearCount}:null),Ne){const _e=me.findIndex(ot=>ot.participantId===m.id),mt=_e>0?me[_e-1]:null,Lt=_e>=0&&_e<me.length-1?me[_e+1]:null;Z({prev:mt,next:Lt})}else Z({prev:null,next:null});H(ve)}}catch(Te){console.error(":",Te),te||z("")}finally{te||V(!1)}}})(),()=>{te=!0}},[x,m,g,b,P,U,r]);const Ue=D.useMemo(()=>({totalPoints:B.reduce((te,ce)=>te+ce.totalPoints,0),totalClears:B.reduce((te,ce)=>te+ce.totalClears,0)}),[B]);return x?T.jsx("p",{children:"..."}):L?T.jsxs("div",{style:{padding:"2em"},children:[T.jsx("p",{children:L}),T.jsx("div",{style:{marginTop:"1.5em"},children:T.jsx($e,{to:dt,children:" "})})]}):T.jsxs("div",{style:{padding:"2em",maxWidth:"980px",margin:"0 auto"},children:[T.jsxs("h2",{children:[u==null?void 0:u.name," - "]}),T.jsxs("p",{style:{marginBottom:"0.4em"},children:[": ",T.jsx("strong",{children:(m==null?void 0:m.name)||"-"})]}),T.jsxs("p",{style:{marginTop:0},children:[": ",(m==null?void 0:m.memberNo)||"-"," / :"," ",((ee=P.find(te=>te.id===(m==null?void 0:m.categoryId)))==null?void 0:ee.name)||""]}),T.jsx("div",{style:{margin:"1em 0"},children:T.jsxs("label",{children:[":",T.jsxs("select",{value:U,onChange:te=>C(te.target.value),style:{marginLeft:"0.5em"},children:[T.jsx("option",{value:"all",children:""}),b.map(te=>T.jsx("option",{value:te.id,children:te.name},te.id))]})]})}),T.jsxs("section",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"1em"},children:[T.jsx("h3",{style:{marginTop:0},children:""}),T.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.8em",alignItems:"center"},children:[T.jsxs("p",{style:{margin:0},children:[": ",T.jsx("strong",{children:Ue.totalPoints})]}),T.jsxs("p",{style:{margin:0},children:[": ",T.jsx("strong",{children:Ue.totalClears})]})]}),Q&&T.jsxs("p",{style:{marginBottom:0,marginTop:"0.6em"},children:["",Q.categoryName,":"," ",T.jsx("strong",{children:Q.rank})," / ",Q.totalParticipants," "," ",Q.totalPoints," /  ",Q.totalClears,""]})]}),(G.prev||G.next)&&T.jsxs("section",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"1em",marginTop:"1em"},children:[T.jsx("h3",{style:{marginTop:0},children:""}),T.jsxs("div",{style:{display:"flex",gap:"0.8em",flexWrap:"wrap"},children:[G.prev?T.jsxs($e,{to:M(G.prev.participantId),children:[" ",G.prev.rank," ",G.prev.name]}):T.jsx("span",{children:""}),G.next?T.jsxs($e,{to:M(G.next.participantId),children:[" ",G.next.rank," ",G.next.name]}):T.jsx("span",{children:""})]})]}),I&&T.jsx("p",{style:{marginTop:"1em"},children:"..."}),T.jsx("div",{style:{marginTop:"1.2em"},children:B.length===0?T.jsx("p",{children:""}):B.map(te=>T.jsxs("section",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"1em",marginBottom:"1em"},children:[T.jsxs("h3",{style:{marginTop:0},children:[te.seasonName," /  ",te.totalPoints," /  ",te.totalClears]}),te.categorySummaries.length===0?T.jsx("p",{children:""}):te.categorySummaries.map(ce=>T.jsxs("div",{style:{marginTop:"1em"},children:[T.jsxs("h4",{style:{marginBottom:"0.4em"},children:[": ",ce.categoryName," /  ",ce.rank,"/",ce.totalParticipants," / "," ",ce.totalPoints," /  ",ce.clearCount]}),T.jsxs("p",{style:{marginTop:0,fontSize:"0.9em"},children:[": ",ce.updatedAtText]}),ce.clearedRoutes.length===0?T.jsx("p",{children:""}):T.jsx("div",{style:{overflowX:"auto"},children:T.jsxs("table",{style:{borderCollapse:"collapse",width:"100%",minWidth:"360px"},children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{style:{textAlign:"left",borderBottom:"1px solid #ccc"},children:""}),T.jsx("th",{style:{textAlign:"left",borderBottom:"1px solid #ccc"},children:""}),T.jsx("th",{style:{textAlign:"right",borderBottom:"1px solid #ccc"},children:""})]})}),T.jsx("tbody",{children:ce.clearedRoutes.map(Te=>T.jsxs("tr",{children:[T.jsx("td",{style:{padding:"0.35em 0"},children:Te.routeName}),T.jsx("td",{children:Te.grade}),T.jsx("td",{style:{textAlign:"right"},children:Te.points})]},Te.routeName))})]})})]},`${te.seasonId}-${ce.categoryId}`))]},te.seasonId))}),T.jsx("div",{style:{marginTop:"1.5em"},children:T.jsx($e,{to:dt,children:" "})})]})},Zc=({children:r})=>{const[e,n]=D.useState(!0),[s,o]=D.useState(!1),u=kn();return D.useEffect(()=>{const f=fT(of,m=>{o(!!m),n(!1)});return()=>f()},[]),e?T.jsx("p",{style:{padding:"2em"},children:"..."}):s?r:T.jsx(Cw,{to:"/login",replace:!0,state:{from:u}})};function qN(){return T.jsx(t1,{basename:"/FlashComp",children:T.jsxs(Dw,{children:[T.jsx(xi,{path:"/",element:T.jsx(h1,{})}),T.jsx(xi,{path:"/login",element:T.jsx(bN,{})}),T.jsx(xi,{path:"/dashboard",element:T.jsx(Zc,{children:T.jsx(wN,{})})}),T.jsx(xi,{path:"/create-event",element:T.jsx(Zc,{children:T.jsx(RN,{})})}),T.jsx(xi,{path:"/events/:eventId/edit",element:T.jsx(Zc,{children:T.jsx(MN,{})})}),T.jsx(xi,{path:"/events/:eventId/scoreinput/:seasonId/:categoryId/:participantId",element:T.jsx(Zc,{children:T.jsx(PN,{})})}),T.jsx(xi,{path:"/score-summary",element:T.jsx(LN,{})}),T.jsx(xi,{path:"/score-summary/:eventId",element:T.jsx(jN,{})}),T.jsx(xi,{path:"/score-summary/:eventId/participants/:participantId",element:T.jsx(zN,{})})]})})}Ub.createRoot(document.getElementById("root")).render(T.jsx(D.StrictMode,{children:T.jsx(qN,{})}));
