(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Hf={exports:{}},Fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function pT(){if(dy)return Fl;dy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var y in o)y!=="key"&&(h[y]=o[y])}else h=o;return o=h.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:h}}return Fl.Fragment=e,Fl.jsx=i,Fl.jsxs=i,Fl}var my;function yT(){return my||(my=1,Hf.exports=pT()),Hf.exports}var oe=yT(),jf={exports:{}},yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function _T(){if(gy)return yt;gy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.iterator;function L(I){return I===null||typeof I!="object"?null:(I=N&&I[N]||I["@@iterator"],typeof I=="function"?I:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,rt={};function et(I,Y,tt){this.props=I,this.context=Y,this.refs=rt,this.updater=tt||Z}et.prototype.isReactComponent={},et.prototype.setState=function(I,Y){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,Y,"setState")},et.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function wt(){}wt.prototype=et.prototype;function gt(I,Y,tt){this.props=I,this.context=Y,this.refs=rt,this.updater=tt||Z}var dt=gt.prototype=new wt;dt.constructor=gt,$(dt,et.prototype),dt.isPureReactComponent=!0;var Nt=Array.isArray,pt={H:null,A:null,T:null,S:null,V:null},Vt=Object.prototype.hasOwnProperty;function O(I,Y,tt,X,lt,Et){return tt=Et.ref,{$$typeof:s,type:I,key:Y,ref:tt!==void 0?tt:null,props:Et}}function A(I,Y){return O(I.type,Y,void 0,void 0,void 0,I.props)}function R(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function D(I){var Y={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(tt){return Y[tt]})}var M=/\/+/g;function U(I,Y){return typeof I=="object"&&I!==null&&I.key!=null?D(""+I.key):Y.toString(36)}function w(){}function Ce(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(w,w):(I.status="pending",I.then(function(Y){I.status==="pending"&&(I.status="fulfilled",I.value=Y)},function(Y){I.status==="pending"&&(I.status="rejected",I.reason=Y)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function Wt(I,Y,tt,X,lt){var Et=typeof I;(Et==="undefined"||Et==="boolean")&&(I=null);var mt=!1;if(I===null)mt=!0;else switch(Et){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(I.$$typeof){case s:case e:mt=!0;break;case S:return mt=I._init,Wt(mt(I._payload),Y,tt,X,lt)}}if(mt)return lt=lt(I),mt=X===""?"."+U(I,0):X,Nt(lt)?(tt="",mt!=null&&(tt=mt.replace(M,"$&/")+"/"),Wt(lt,Y,tt,"",function(xn){return xn})):lt!=null&&(R(lt)&&(lt=A(lt,tt+(lt.key==null||I&&I.key===lt.key?"":(""+lt.key).replace(M,"$&/")+"/")+mt)),Y.push(lt)),1;mt=0;var Ee=X===""?".":X+":";if(Nt(I))for(var Qt=0;Qt<I.length;Qt++)X=I[Qt],Et=Ee+U(X,Qt),mt+=Wt(X,Y,tt,Et,lt);else if(Qt=L(I),typeof Qt=="function")for(I=Qt.call(I),Qt=0;!(X=I.next()).done;)X=X.value,Et=Ee+U(X,Qt++),mt+=Wt(X,Y,tt,Et,lt);else if(Et==="object"){if(typeof I.then=="function")return Wt(Ce(I),Y,tt,X,lt);throw Y=String(I),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return mt}function j(I,Y,tt){if(I==null)return I;var X=[],lt=0;return Wt(I,X,"","",function(Et){return Y.call(tt,Et,lt++)}),X}function W(I){if(I._status===-1){var Y=I._result;Y=Y(),Y.then(function(tt){(I._status===0||I._status===-1)&&(I._status=1,I._result=tt)},function(tt){(I._status===0||I._status===-1)&&(I._status=2,I._result=tt)}),I._status===-1&&(I._status=0,I._result=Y)}if(I._status===1)return I._result.default;throw I._result}var at=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function Pt(){}return yt.Children={map:j,forEach:function(I,Y,tt){j(I,function(){Y.apply(this,arguments)},tt)},count:function(I){var Y=0;return j(I,function(){Y++}),Y},toArray:function(I){return j(I,function(Y){return Y})||[]},only:function(I){if(!R(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},yt.Component=et,yt.Fragment=i,yt.Profiler=o,yt.PureComponent=gt,yt.StrictMode=a,yt.Suspense=_,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pt,yt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return pt.H.useMemoCache(I)}},yt.cache=function(I){return function(){return I.apply(null,arguments)}},yt.cloneElement=function(I,Y,tt){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var X=$({},I.props),lt=I.key,Et=void 0;if(Y!=null)for(mt in Y.ref!==void 0&&(Et=void 0),Y.key!==void 0&&(lt=""+Y.key),Y)!Vt.call(Y,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&Y.ref===void 0||(X[mt]=Y[mt]);var mt=arguments.length-2;if(mt===1)X.children=tt;else if(1<mt){for(var Ee=Array(mt),Qt=0;Qt<mt;Qt++)Ee[Qt]=arguments[Qt+2];X.children=Ee}return O(I.type,lt,void 0,void 0,Et,X)},yt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:h,_context:I},I},yt.createElement=function(I,Y,tt){var X,lt={},Et=null;if(Y!=null)for(X in Y.key!==void 0&&(Et=""+Y.key),Y)Vt.call(Y,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(lt[X]=Y[X]);var mt=arguments.length-2;if(mt===1)lt.children=tt;else if(1<mt){for(var Ee=Array(mt),Qt=0;Qt<mt;Qt++)Ee[Qt]=arguments[Qt+2];lt.children=Ee}if(I&&I.defaultProps)for(X in mt=I.defaultProps,mt)lt[X]===void 0&&(lt[X]=mt[X]);return O(I,Et,void 0,void 0,null,lt)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(I){return{$$typeof:y,render:I}},yt.isValidElement=R,yt.lazy=function(I){return{$$typeof:S,_payload:{_status:-1,_result:I},_init:W}},yt.memo=function(I,Y){return{$$typeof:v,type:I,compare:Y===void 0?null:Y}},yt.startTransition=function(I){var Y=pt.T,tt={};pt.T=tt;try{var X=I(),lt=pt.S;lt!==null&&lt(tt,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(Pt,at)}catch(Et){at(Et)}finally{pt.T=Y}},yt.unstable_useCacheRefresh=function(){return pt.H.useCacheRefresh()},yt.use=function(I){return pt.H.use(I)},yt.useActionState=function(I,Y,tt){return pt.H.useActionState(I,Y,tt)},yt.useCallback=function(I,Y){return pt.H.useCallback(I,Y)},yt.useContext=function(I){return pt.H.useContext(I)},yt.useDebugValue=function(){},yt.useDeferredValue=function(I,Y){return pt.H.useDeferredValue(I,Y)},yt.useEffect=function(I,Y,tt){var X=pt.H;if(typeof tt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(I,Y)},yt.useId=function(){return pt.H.useId()},yt.useImperativeHandle=function(I,Y,tt){return pt.H.useImperativeHandle(I,Y,tt)},yt.useInsertionEffect=function(I,Y){return pt.H.useInsertionEffect(I,Y)},yt.useLayoutEffect=function(I,Y){return pt.H.useLayoutEffect(I,Y)},yt.useMemo=function(I,Y){return pt.H.useMemo(I,Y)},yt.useOptimistic=function(I,Y){return pt.H.useOptimistic(I,Y)},yt.useReducer=function(I,Y,tt){return pt.H.useReducer(I,Y,tt)},yt.useRef=function(I){return pt.H.useRef(I)},yt.useState=function(I){return pt.H.useState(I)},yt.useSyncExternalStore=function(I,Y,tt){return pt.H.useSyncExternalStore(I,Y,tt)},yt.useTransition=function(){return pt.H.useTransition()},yt.version="19.1.0",yt}var py;function Sd(){return py||(py=1,jf.exports=_T()),jf.exports}var Oi=Sd(),qf={exports:{}},Ql={},Gf={exports:{}},Ff={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function vT(){return yy||(yy=1,function(s){function e(j,W){var at=j.length;j.push(W);t:for(;0<at;){var Pt=at-1>>>1,I=j[Pt];if(0<o(I,W))j[Pt]=W,j[at]=I,at=Pt;else break t}}function i(j){return j.length===0?null:j[0]}function a(j){if(j.length===0)return null;var W=j[0],at=j.pop();if(at!==W){j[0]=at;t:for(var Pt=0,I=j.length,Y=I>>>1;Pt<Y;){var tt=2*(Pt+1)-1,X=j[tt],lt=tt+1,Et=j[lt];if(0>o(X,at))lt<I&&0>o(Et,X)?(j[Pt]=Et,j[lt]=at,Pt=lt):(j[Pt]=X,j[tt]=at,Pt=tt);else if(lt<I&&0>o(Et,at))j[Pt]=Et,j[lt]=at,Pt=lt;else break t}}return W}function o(j,W){var at=j.sortIndex-W.sortIndex;return at!==0?at:j.id-W.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var _=[],v=[],S=1,N=null,L=3,Z=!1,$=!1,rt=!1,et=!1,wt=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Nt(j){for(var W=i(v);W!==null;){if(W.callback===null)a(v);else if(W.startTime<=j)a(v),W.sortIndex=W.expirationTime,e(_,W);else break;W=i(v)}}function pt(j){if(rt=!1,Nt(j),!$)if(i(_)!==null)$=!0,Vt||(Vt=!0,U());else{var W=i(v);W!==null&&Wt(pt,W.startTime-j)}}var Vt=!1,O=-1,A=5,R=-1;function D(){return et?!0:!(s.unstable_now()-R<A)}function M(){if(et=!1,Vt){var j=s.unstable_now();R=j;var W=!0;try{t:{$=!1,rt&&(rt=!1,gt(O),O=-1),Z=!0;var at=L;try{e:{for(Nt(j),N=i(_);N!==null&&!(N.expirationTime>j&&D());){var Pt=N.callback;if(typeof Pt=="function"){N.callback=null,L=N.priorityLevel;var I=Pt(N.expirationTime<=j);if(j=s.unstable_now(),typeof I=="function"){N.callback=I,Nt(j),W=!0;break e}N===i(_)&&a(_),Nt(j)}else a(_);N=i(_)}if(N!==null)W=!0;else{var Y=i(v);Y!==null&&Wt(pt,Y.startTime-j),W=!1}}break t}finally{N=null,L=at,Z=!1}W=void 0}}finally{W?U():Vt=!1}}}var U;if(typeof dt=="function")U=function(){dt(M)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Ce=w.port2;w.port1.onmessage=M,U=function(){Ce.postMessage(null)}}else U=function(){wt(M,0)};function Wt(j,W){O=wt(function(){j(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(j){j.callback=null},s.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<j?Math.floor(1e3/j):5},s.unstable_getCurrentPriorityLevel=function(){return L},s.unstable_next=function(j){switch(L){case 1:case 2:case 3:var W=3;break;default:W=L}var at=L;L=W;try{return j()}finally{L=at}},s.unstable_requestPaint=function(){et=!0},s.unstable_runWithPriority=function(j,W){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var at=L;L=j;try{return W()}finally{L=at}},s.unstable_scheduleCallback=function(j,W,at){var Pt=s.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?Pt+at:Pt):at=Pt,j){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=at+I,j={id:S++,callback:W,priorityLevel:j,startTime:at,expirationTime:I,sortIndex:-1},at>Pt?(j.sortIndex=at,e(v,j),i(_)===null&&j===i(v)&&(rt?(gt(O),O=-1):rt=!0,Wt(pt,at-Pt))):(j.sortIndex=I,e(_,j),$||Z||($=!0,Vt||(Vt=!0,U()))),j},s.unstable_shouldYield=D,s.unstable_wrapCallback=function(j){var W=L;return function(){var at=L;L=W;try{return j.apply(this,arguments)}finally{L=at}}}}(Ff)),Ff}var _y;function ET(){return _y||(_y=1,Gf.exports=vT()),Gf.exports}var Qf={exports:{}},Be={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function TT(){if(vy)return Be;vy=1;var s=Sd();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)v+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,v,S){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:N==null?null:""+N,children:_,containerInfo:v,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Be.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Be.createPortal=function(_,v){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,S)},Be.flushSync=function(_){var v=d.T,S=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=S,a.d.f()}},Be.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},Be.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Be.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var S=v.as,N=y(S,v.crossOrigin),L=typeof v.integrity=="string"?v.integrity:void 0,Z=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;S==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:N,integrity:L,fetchPriority:Z}):S==="script"&&a.d.X(_,{crossOrigin:N,integrity:L,fetchPriority:Z,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Be.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var S=y(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},Be.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var S=v.as,N=y(S,v.crossOrigin);a.d.L(_,S,{crossOrigin:N,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Be.preloadModule=function(_,v){if(typeof _=="string")if(v){var S=y(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},Be.requestFormReset=function(_){a.d.r(_)},Be.unstable_batchedUpdates=function(_,v){return _(v)},Be.useFormState=function(_,v,S){return d.H.useFormState(_,v,S)},Be.useFormStatus=function(){return d.H.useHostTransitionStatus()},Be.version="19.1.0",Be}var Ey;function AT(){if(Ey)return Qf.exports;Ey=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Qf.exports=TT(),Qf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function ST(){if(Ty)return Ql;Ty=1;var s=ET(),e=Sd(),i=AT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(h(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return y(c),t;if(f===l)return y(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var p=!1,E=c.child;E;){if(E===r){p=!0,r=c,l=f;break}if(E===l){p=!0,l=c,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,l=c;break}if(E===l){p=!0,l=f,r=c;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),rt=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),wt=Symbol.for("react.provider"),gt=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Nt=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),Vt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function Ce(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case et:return"Profiler";case rt:return"StrictMode";case pt:return"Suspense";case Vt:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case dt:return(t.displayName||"Context")+".Provider";case gt:return(t._context.displayName||"Context")+".Consumer";case Nt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:Ce(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return Ce(t(n))}catch{}}return null}var Wt=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},Pt=[],I=-1;function Y(t){return{current:t}}function tt(t){0>I||(t.current=Pt[I],Pt[I]=null,I--)}function X(t,n){I++,Pt[I]=t.current,t.current=n}var lt=Y(null),Et=Y(null),mt=Y(null),Ee=Y(null);function Qt(t,n){switch(X(mt,n),X(Et,t),X(lt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Hp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Hp(n),t=jp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}tt(lt),X(lt,t)}function xn(){tt(lt),tt(Et),tt(mt)}function ki(t){t.memoizedState!==null&&X(Ee,t);var n=lt.current,r=jp(n,t.type);n!==r&&(X(Et,t),X(lt,r))}function ri(t){Et.current===t&&(tt(lt),tt(Et)),Ee.current===t&&(tt(Ee),Bl._currentValue=at)}var Cr=Object.prototype.hasOwnProperty,Dr=s.unstable_scheduleCallback,Or=s.unstable_cancelCallback,La=s.unstable_shouldYield,Ao=s.unstable_requestPaint,cn=s.unstable_now,Bc=s.unstable_getCurrentPriorityLevel,ka=s.unstable_ImmediatePriority,Rs=s.unstable_UserBlockingPriority,Nr=s.unstable_NormalPriority,Hc=s.unstable_LowPriority,ws=s.unstable_IdlePriority,za=s.log,So=s.unstable_setDisableYieldValue,te=null,kt=null;function tn(t){if(typeof za=="function"&&So(t),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(te,t)}catch{}}var ke=Math.clz32?Math.clz32:Mr,bo=Math.log,jc=Math.LN2;function Mr(t){return t>>>=0,t===0?32:31-(bo(t)/jc|0)|0}var Vr=256,Ur=4194304;function bn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Is(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=bn(l):(p&=E,p!==0?c=bn(p):r||(r=E&~t,r!==0&&(c=bn(r))))):(E=l&~f,E!==0?c=bn(E):p!==0?c=bn(p):r||(r=l&~t,r!==0&&(c=bn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Pr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ba(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ha(){var t=Vr;return Vr<<=1,(Vr&4194048)===0&&(Vr=256),t}function ja(){var t=Ur;return Ur<<=1,(Ur&62914560)===0&&(Ur=4194304),t}function si(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ai(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qa(t,n,r,l,c,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,k=t.hiddenUpdates;for(r=p&~r;0<r;){var q=31-ke(r),F=1<<q;E[q]=0,b[q]=-1;var z=k[q];if(z!==null)for(k[q]=null,q=0;q<z.length;q++){var B=z[q];B!==null&&(B.lane&=-536870913)}r&=~F}l!==0&&Ln(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Ln(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ke(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Ga(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-ke(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function zi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Cs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Bi(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:ly(t.type))}function Ro(t,n){var r=W.p;try{return W.p=t,n()}finally{W.p=r}}var Xt=Math.random().toString(36).slice(2),ge="__reactFiber$"+Xt,ce="__reactProps$"+Xt,hn="__reactContainer$"+Xt,Fa="__reactEvents$"+Xt,qc="__reactListeners$"+Xt,Hi="__reactHandles$"+Xt,wo="__reactResources$"+Xt,xr="__reactMarker$"+Xt;function ji(t){delete t[ge],delete t[ce],delete t[Fa],delete t[qc],delete t[Hi]}function li(t){var n=t[ge];if(n)return n;for(var r=t.parentNode;r;){if(n=r[hn]||r[ge]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Qp(t);t!==null;){if(r=t[ge])return r;t=Qp(t)}return n}t=r,r=t.parentNode}return null}function kn(t){if(t=t[ge]||t[hn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function zn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Fe(t){var n=t[wo];return n||(n=t[wo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function se(t){t[xr]=!0}var Qa=new Set,Ds={};function Rn(t,n){oi(t,n),oi(t+"Capture",n)}function oi(t,n){for(Ds[t]=n,t=0;t<n.length;t++)Qa.add(n[t])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Co={},Lr={};function Do(t){return Cr.call(Lr,t)?!0:Cr.call(Co,t)?!1:Io.test(t)?Lr[t]=!0:(Co[t]=!0,!1)}function qi(t,n,r){if(Do(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Bn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function De(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var kr,Oo;function ui(t){if(kr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);kr=n&&n[1]||"",Oo=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kr+t+Oo}var Os=!1;function Ns(t,n){if(!t||Os)return"";Os=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(B){var z=B}Reflect.construct(t,[],F)}else{try{F.call()}catch(B){z=B}t.call(F.prototype)}}else{try{throw Error()}catch(B){z=B}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var b=p.split(`
`),k=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===k.length)for(l=b.length-1,c=k.length-1;1<=l&&0<=c&&b[l]!==k[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==k[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==k[c]){var q=`
`+b[l].replace(" at new "," at ");return t.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",t.displayName)),q}while(1<=l&&0<=c);break}}}finally{Os=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ui(r):""}function Ya(t){switch(t.tag){case 26:case 27:case 5:return ui(t.type);case 16:return ui("Lazy");case 13:return ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return Ns(t.type,!1);case 11:return Ns(t.type.render,!1);case 1:return Ns(t.type,!0);case 31:return ui("Activity");default:return""}}function Ms(t){try{var n="";do n+=Ya(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Qe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ka(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Gc(t){var n=Ka(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){l=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(p){l=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Vs(t){t._valueTracker||(t._valueTracker=Gc(t))}function Xa(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Ka(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function zr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Fc=/[\n"\\]/g;function he(t){return t.replace(Fc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function en(t,n,r,l,c,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Qe(n)):t.value!==""+Qe(n)&&(t.value=""+Qe(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Gi(t,p,Qe(n)):r!=null?Gi(t,p,Qe(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Qe(E):t.removeAttribute("name")}function Br(t,n,r,l,c,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Qe(r):"",n=n!=null?""+Qe(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p)}function Gi(t,n,r){n==="number"&&zr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ci(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Qe(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ht(t,n,r){if(n!=null&&(n=""+Qe(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Qe(r):""}function Hr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(Wt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Qe(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function fn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var jr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function No(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||jr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Za(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&No(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&No(t,f,n[f])}function $a(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Us(t){return Yc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var hi=null;function dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fi=null,di=null;function Ja(t){var n=kn(t);if(n&&(t=n.stateNode)){var r=t[ce]||null;t:switch(t=n.stateNode,n.type){case"input":if(en(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+he(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[ce]||null;if(!c)throw Error(a(90));en(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Xa(l)}break t;case"textarea":Ht(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&ci(t,!!r.multiple,n,!1)}}}var Hn=!1;function Mo(t,n,r){if(Hn)return t(n,r);Hn=!0;try{var l=t(n);return l}finally{if(Hn=!1,(fi!==null||di!==null)&&(Ru(),fi&&(n=fi,t=di,di=fi=null,Ja(n),t)))for(n=0;n<t.length;n++)Ja(t[n])}}function qr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[ce]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mn=!1;if(wn)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){mn=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{mn=!1}var jn=null,Fi=null,mi=null;function Wa(){if(mi)return mi;var t,n=Fi,r=n.length,l,c="value"in jn?jn.value:jn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var p=r-t;for(l=1;l<=p&&n[r-l]===c[f-l];l++);return mi=c.slice(t,1<l?1-l:void 0)}function qn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gn(){return!0}function tl(){return!1}function Te(t){function n(r,l,c,f,p){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gn:tl,this.isPropagationStopped=tl,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),n}var Lt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ps=Te(Lt),Fr=S({},Lt,{view:0,detail:0}),Vo=Te(Fr),xs,Ls,Fn,Qr=S({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fn&&(Fn&&t.type==="mousemove"?(xs=t.screenX-Fn.screenX,Ls=t.screenY-Fn.screenY):Ls=xs=0,Fn=t),xs)},movementY:function(t){return"movementY"in t?t.movementY:Ls}}),gn=Te(Qr),Uo=S({},Qr,{dataTransfer:0}),Kc=Te(Uo),Yr=S({},Fr,{relatedTarget:0}),ks=Te(Yr),el=S({},Lt,{animationName:0,elapsedTime:0,pseudoElement:0}),zs=Te(el),Po=S({},Lt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bs=Te(Po),Xc=S({},Lt,{data:0}),nl=Te(Xc),Kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function il(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Lo[t])?!!n[t]:!1}function Xr(){return il}var ko=S({},Fr,{key:function(t){if(t.key){var n=Kr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=qn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xr,charCode:function(t){return t.type==="keypress"?qn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hs=Te(ko),zo=S({},Qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rl=Te(zo),gi=S({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xr}),Bo=Te(gi),Ho=S({},Lt,{propertyName:0,elapsedTime:0,pseudoElement:0}),jo=Te(Ho),qo=S({},Qr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),js=Te(qo),Ye=S({},Lt,{newState:0,oldState:0}),Go=Te(Ye),Fo=[9,13,27,32],Qn=wn&&"CompositionEvent"in window,u=null;wn&&"documentMode"in document&&(u=document.documentMode);var m=wn&&"TextEvent"in window&&!u,g=wn&&(!Qn||u&&8<u&&11>=u),T=" ",P=!1;function H(t,n){switch(t){case"keyup":return Fo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var It=!1;function pe(t,n){switch(t){case"compositionend":return J(n);case"keypress":return n.which!==32?null:(P=!0,T);case"textInput":return t=n.data,t===T&&P?null:t;default:return null}}function Ct(t,n){if(It)return t==="compositionend"||!Qn&&H(t,n)?(t=Wa(),mi=Fi=jn=null,It=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var Ae={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ye(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ae[t.type]:n==="textarea"}function pi(t,n,r,l){fi?di?di.push(l):di=[l]:fi=l,n=Nu(n,"onChange"),0<n.length&&(r=new Ps("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Oe=null,Yn=null;function sl(t){xp(t,0)}function Qo(t){var n=zn(t);if(Xa(n))return t}function im(t,n){if(t==="change")return n}var rm=!1;if(wn){var Zc;if(wn){var $c="oninput"in document;if(!$c){var sm=document.createElement("div");sm.setAttribute("oninput","return;"),$c=typeof sm.oninput=="function"}Zc=$c}else Zc=!1;rm=Zc&&(!document.documentMode||9<document.documentMode)}function am(){Oe&&(Oe.detachEvent("onpropertychange",lm),Yn=Oe=null)}function lm(t){if(t.propertyName==="value"&&Qo(Yn)){var n=[];pi(n,Yn,t,dn(t)),Mo(sl,n)}}function Q0(t,n,r){t==="focusin"?(am(),Oe=n,Yn=r,Oe.attachEvent("onpropertychange",lm)):t==="focusout"&&am()}function Y0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qo(Yn)}function K0(t,n){if(t==="click")return Qo(n)}function X0(t,n){if(t==="input"||t==="change")return Qo(n)}function Z0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var nn=typeof Object.is=="function"?Object.is:Z0;function al(t,n){if(nn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Cr.call(n,c)||!nn(t[c],n[c]))return!1}return!0}function om(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function um(t,n){var r=om(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=om(r)}}function cm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?cm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function hm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=zr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=zr(t.document)}return n}function Jc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var $0=wn&&"documentMode"in document&&11>=document.documentMode,qs=null,Wc=null,ll=null,th=!1;function fm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;th||qs==null||qs!==zr(l)||(l=qs,"selectionStart"in l&&Jc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ll&&al(ll,l)||(ll=l,l=Nu(Wc,"onSelect"),0<l.length&&(n=new Ps("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=qs)))}function Zr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Gs={animationend:Zr("Animation","AnimationEnd"),animationiteration:Zr("Animation","AnimationIteration"),animationstart:Zr("Animation","AnimationStart"),transitionrun:Zr("Transition","TransitionRun"),transitionstart:Zr("Transition","TransitionStart"),transitioncancel:Zr("Transition","TransitionCancel"),transitionend:Zr("Transition","TransitionEnd")},eh={},dm={};wn&&(dm=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function $r(t){if(eh[t])return eh[t];if(!Gs[t])return t;var n=Gs[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in dm)return eh[t]=n[r];return t}var mm=$r("animationend"),gm=$r("animationiteration"),pm=$r("animationstart"),J0=$r("transitionrun"),W0=$r("transitionstart"),tE=$r("transitioncancel"),ym=$r("transitionend"),_m=new Map,nh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nh.push("scrollEnd");function In(t,n){_m.set(t,n),Rn(n,[t])}var vm=new WeakMap;function pn(t,n){if(typeof t=="object"&&t!==null){var r=vm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Ms(n)},vm.set(t,n),n)}return{value:t,source:n,stack:Ms(n)}}var yn=[],Fs=0,ih=0;function Yo(){for(var t=Fs,n=ih=Fs=0;n<t;){var r=yn[n];yn[n++]=null;var l=yn[n];yn[n++]=null;var c=yn[n];yn[n++]=null;var f=yn[n];if(yn[n++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}f!==0&&Em(r,c,f)}}function Ko(t,n,r,l){yn[Fs++]=t,yn[Fs++]=n,yn[Fs++]=r,yn[Fs++]=l,ih|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function rh(t,n,r,l){return Ko(t,n,r,l),Xo(t)}function Qs(t,n){return Ko(t,null,null,n),Xo(t)}function Em(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ke(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Xo(t){if(50<Ml)throw Ml=0,hf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ys={};function eE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(t,n,r,l){return new eE(t,n,r,l)}function sh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yi(t,n){var r=t.alternate;return r===null?(r=rn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Tm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Zo(t,n,r,l,c,f){var p=0;if(l=t,typeof t=="function")sh(t)&&(p=1);else if(typeof t=="string")p=iT(t,r,lt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=rn(31,r,n,c),t.elementType=R,t.lanes=f,t;case $:return Jr(r.children,c,f,n);case rt:p=8,c|=24;break;case et:return t=rn(12,r,n,c|2),t.elementType=et,t.lanes=f,t;case pt:return t=rn(13,r,n,c),t.elementType=pt,t.lanes=f,t;case Vt:return t=rn(19,r,n,c),t.elementType=Vt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wt:case dt:p=10;break t;case gt:p=9;break t;case Nt:p=11;break t;case O:p=14;break t;case A:p=16,l=null;break t}p=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=rn(p,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Jr(t,n,r,l){return t=rn(7,t,l,n),t.lanes=r,t}function ah(t,n,r){return t=rn(6,t,null,n),t.lanes=r,t}function lh(t,n,r){return n=rn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ks=[],Xs=0,$o=null,Jo=0,_n=[],vn=0,Wr=null,_i=1,vi="";function ts(t,n){Ks[Xs++]=Jo,Ks[Xs++]=$o,$o=t,Jo=n}function Am(t,n,r){_n[vn++]=_i,_n[vn++]=vi,_n[vn++]=Wr,Wr=t;var l=_i;t=vi;var c=32-ke(l)-1;l&=~(1<<c),r+=1;var f=32-ke(n)+c;if(30<f){var p=c-c%5;f=(l&(1<<p)-1).toString(32),l>>=p,c-=p,_i=1<<32-ke(n)+c|r<<c|l,vi=f+t}else _i=1<<f|r<<c|l,vi=t}function oh(t){t.return!==null&&(ts(t,1),Am(t,1,0))}function uh(t){for(;t===$o;)$o=Ks[--Xs],Ks[Xs]=null,Jo=Ks[--Xs],Ks[Xs]=null;for(;t===Wr;)Wr=_n[--vn],_n[vn]=null,vi=_n[--vn],_n[vn]=null,_i=_n[--vn],_n[vn]=null}var Ke=null,ee=null,xt=!1,es=null,Kn=!1,ch=Error(a(519));function ns(t){var n=Error(a(418,""));throw cl(pn(n,t)),ch}function Sm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[ge]=t,n[ce]=l,r){case"dialog":bt("cancel",n),bt("close",n);break;case"iframe":case"object":case"embed":bt("load",n);break;case"video":case"audio":for(r=0;r<Ul.length;r++)bt(Ul[r],n);break;case"source":bt("error",n);break;case"img":case"image":case"link":bt("error",n),bt("load",n);break;case"details":bt("toggle",n);break;case"input":bt("invalid",n),Br(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Vs(n);break;case"select":bt("invalid",n);break;case"textarea":bt("invalid",n),Hr(n,l.value,l.defaultValue,l.children),Vs(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Bp(n.textContent,r)?(l.popover!=null&&(bt("beforetoggle",n),bt("toggle",n)),l.onScroll!=null&&bt("scroll",n),l.onScrollEnd!=null&&bt("scrollend",n),l.onClick!=null&&(n.onclick=Mu),n=!0):n=!1,n||ns(t)}function bm(t){for(Ke=t.return;Ke;)switch(Ke.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Ke=Ke.return}}function ol(t){if(t!==Ke)return!1;if(!xt)return bm(t),xt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||If(t.type,t.memoizedProps)),r=!r),r&&ee&&ns(t),bm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ee=Dn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ee=null}}else n===27?(n=ee,lr(t.type)?(t=Nf,Nf=null,ee=t):ee=n):ee=Ke?Dn(t.stateNode.nextSibling):null;return!0}function ul(){ee=Ke=null,xt=!1}function Rm(){var t=es;return t!==null&&($e===null?$e=t:$e.push.apply($e,t),es=null),t}function cl(t){es===null?es=[t]:es.push(t)}var hh=Y(null),is=null,Ei=null;function Qi(t,n,r){X(hh,n._currentValue),n._currentValue=r}function Ti(t){t._currentValue=hh.current,tt(hh)}function fh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function dh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),fh(f.return,r,t),l||(p=null);break t}f=E.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),fh(p,r,t),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function hl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=c.type;nn(c.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ee.current){if(p=c.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Bl):t=[Bl])}c=c.return}t!==null&&dh(n,t,r,l),n.flags|=262144}function Wo(t){for(t=t.firstContext;t!==null;){if(!nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function rs(t){is=t,Ei=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ze(t){return wm(is,t)}function tu(t,n){return is===null&&rs(t),wm(t,n)}function wm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ei===null){if(t===null)throw Error(a(308));Ei=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ei=Ei.next=n;return r}var nE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},iE=s.unstable_scheduleCallback,rE=s.unstable_NormalPriority,_e={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mh(){return{controller:new nE,data:new Map,refCount:0}}function fl(t){t.refCount--,t.refCount===0&&iE(rE,function(){t.controller.abort()})}var dl=null,gh=0,Zs=0,$s=null;function sE(t,n){if(dl===null){var r=dl=[];gh=0,Zs=_f(),$s={status:"pending",value:void 0,then:function(l){r.push(l)}}}return gh++,n.then(Im,Im),n}function Im(){if(--gh===0&&dl!==null){$s!==null&&($s.status="fulfilled");var t=dl;dl=null,Zs=0,$s=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function aE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Cm=j.S;j.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&sE(t,n),Cm!==null&&Cm(t,n)};var ss=Y(null);function ph(){var t=ss.current;return t!==null?t:Yt.pooledCache}function eu(t,n){n===null?X(ss,ss.current):X(ss,n.pool)}function Dm(){var t=ph();return t===null?null:{parent:_e._currentValue,pool:t}}var ml=Error(a(460)),Om=Error(a(474)),nu=Error(a(542)),yh={then:function(){}};function Nm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function iu(){}function Mm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(iu,iu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Um(t),t;default:if(typeof n.status=="string")n.then(iu,iu);else{if(t=Yt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Um(t),t}throw gl=n,ml}}var gl=null;function Vm(){if(gl===null)throw Error(a(459));var t=gl;return gl=null,t}function Um(t){if(t===ml||t===nu)throw Error(a(483))}var Yi=!1;function _h(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ki(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(zt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Xo(t),Em(t,null,r),n}return Ko(t,l,n,r),Xo(t)}function pl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ga(t,r)}}function Eh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Th=!1;function yl(){if(Th){var t=$s;if(t!==null)throw t}}function _l(t,n,r,l){Th=!1;var c=t.updateQueue;Yi=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,k=b.next;b.next=null,p===null?f=k:p.next=k,p=b;var q=t.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==p&&(E===null?q.firstBaseUpdate=k:E.next=k,q.lastBaseUpdate=b))}if(f!==null){var F=c.baseState;p=0,q=k=b=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Dt&z)===z:(l&z)===z){z!==0&&z===Zs&&(Th=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ht=t,ot=E;z=n;var Gt=r;switch(ot.tag){case 1:if(ht=ot.payload,typeof ht=="function"){F=ht.call(Gt,F,z);break t}F=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=ot.payload,z=typeof ht=="function"?ht.call(Gt,F,z):ht,z==null)break t;F=S({},F,z);break t;case 2:Yi=!0}}z=E.callback,z!==null&&(t.flags|=64,B&&(t.flags|=8192),B=c.callbacks,B===null?c.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(k=q=B,b=F):q=q.next=B,p|=z;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;B=E,E=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);q===null&&(b=F),c.baseState=b,c.firstBaseUpdate=k,c.lastBaseUpdate=q,f===null&&(c.shared.lanes=0),ir|=p,t.lanes=p,t.memoizedState=F}}function Pm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function xm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Pm(r[t],n)}var Js=Y(null),ru=Y(0);function Lm(t,n){t=Ci,X(ru,t),X(Js,n),Ci=t|n.baseLanes}function Ah(){X(ru,Ci),X(Js,Js.current)}function Sh(){Ci=ru.current,tt(Js),tt(ru)}var Zi=0,vt=null,jt=null,fe=null,su=!1,Ws=!1,as=!1,au=0,vl=0,ta=null,lE=0;function ae(){throw Error(a(321))}function bh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!nn(t[r],n[r]))return!1;return!0}function Rh(t,n,r,l,c,f){return Zi=f,vt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=t===null||t.memoizedState===null?Eg:Tg,as=!1,f=r(l,c),as=!1,Ws&&(f=zm(n,r,l,c)),km(t),f}function km(t){j.H=fu;var n=jt!==null&&jt.next!==null;if(Zi=0,fe=jt=vt=null,su=!1,vl=0,ta=null,n)throw Error(a(300));t===null||Se||(t=t.dependencies,t!==null&&Wo(t)&&(Se=!0))}function zm(t,n,r,l){vt=t;var c=0;do{if(Ws&&(ta=null),vl=0,Ws=!1,25<=c)throw Error(a(301));if(c+=1,fe=jt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=mE,f=n(r,l)}while(Ws);return f}function oE(){var t=j.H,n=t.useState()[0];return n=typeof n.then=="function"?El(n):n,t=t.useState()[0],(jt!==null?jt.memoizedState:null)!==t&&(vt.flags|=1024),n}function wh(){var t=au!==0;return au=0,t}function Ih(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Ch(t){if(su){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}su=!1}Zi=0,fe=jt=vt=null,Ws=!1,vl=au=0,ta=null}function Xe(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?vt.memoizedState=fe=t:fe=fe.next=t,fe}function de(){if(jt===null){var t=vt.alternate;t=t!==null?t.memoizedState:null}else t=jt.next;var n=fe===null?vt.memoizedState:fe.next;if(n!==null)fe=n,jt=t;else{if(t===null)throw vt.alternate===null?Error(a(467)):Error(a(310));jt=t,t={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},fe===null?vt.memoizedState=fe=t:fe=fe.next=t}return fe}function Dh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(t){var n=vl;return vl+=1,ta===null&&(ta=[]),t=Mm(ta,t,n),n=vt,(fe===null?n.memoizedState:fe.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?Eg:Tg),t}function lu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return El(t);if(t.$$typeof===dt)return ze(t)}throw Error(a(438,String(t)))}function Oh(t){var n=null,r=vt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=vt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Dh(),vt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=D;return n.index++,r}function Ai(t,n){return typeof n=="function"?n(t):n}function ou(t){var n=de();return Nh(n,jt,t)}function Nh(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=p=null,b=null,k=n,q=!1;do{var F=k.lane&-536870913;if(F!==k.lane?(Dt&F)===F:(Zi&F)===F){var z=k.revertLane;if(z===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),F===Zs&&(q=!0);else if((Zi&z)===z){k=k.next,z===Zs&&(q=!0);continue}else F={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},b===null?(E=b=F,p=f):b=b.next=F,vt.lanes|=z,ir|=z;F=k.action,as&&r(f,F),f=k.hasEagerState?k.eagerState:r(f,F)}else z={lane:F,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},b===null?(E=b=z,p=f):b=b.next=z,vt.lanes|=F,ir|=F;k=k.next}while(k!==null&&k!==n);if(b===null?p=f:b.next=E,!nn(f,t.memoizedState)&&(Se=!0,q&&(r=$s,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Mh(t){var n=de(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var p=c=c.next;do f=t(f,p.action),p=p.next;while(p!==c);nn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Bm(t,n,r){var l=vt,c=de(),f=xt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!nn((jt||c).memoizedState,r);p&&(c.memoizedState=r,Se=!0),c=c.queue;var E=qm.bind(null,l,c,t);if(Tl(2048,8,E,[t]),c.getSnapshot!==n||p||fe!==null&&fe.memoizedState.tag&1){if(l.flags|=2048,ea(9,uu(),jm.bind(null,l,c,r,n),null),Yt===null)throw Error(a(349));f||(Zi&124)!==0||Hm(l,n,r)}return r}function Hm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=vt.updateQueue,n===null?(n=Dh(),vt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function jm(t,n,r,l){n.value=r,n.getSnapshot=l,Gm(n)&&Fm(t)}function qm(t,n,r){return r(function(){Gm(n)&&Fm(t)})}function Gm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!nn(t,r)}catch{return!0}}function Fm(t){var n=Qs(t,2);n!==null&&un(n,t,2)}function Vh(t){var n=Xe();if(typeof t=="function"){var r=t;if(t=r(),as){tn(!0);try{r()}finally{tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:t},n}function Qm(t,n,r,l){return t.baseState=r,Nh(t,jt,typeof l=="function"?l:Ai)}function uE(t,n,r,l,c){if(hu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};j.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Ym(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Ym(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=j.T,p={};j.T=p;try{var E=r(c,l),b=j.S;b!==null&&b(p,E),Km(t,n,E)}catch(k){Uh(t,n,k)}finally{j.T=f}}else try{f=r(c,l),Km(t,n,f)}catch(k){Uh(t,n,k)}}function Km(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Xm(t,n,l)},function(l){return Uh(t,n,l)}):Xm(t,n,r)}function Xm(t,n,r){n.status="fulfilled",n.value=r,Zm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Ym(t,r)))}function Uh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Zm(n),n=n.next;while(n!==l)}t.action=null}function Zm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function $m(t,n){return n}function Jm(t,n){if(xt){var r=Yt.formState;if(r!==null){t:{var l=vt;if(xt){if(ee){e:{for(var c=ee,f=Kn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Dn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ee=Dn(c.nextSibling),l=c.data==="F!";break t}}ns(l)}l=!1}l&&(n=r[0])}}return r=Xe(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$m,lastRenderedState:n},r.queue=l,r=yg.bind(null,vt,l),l.dispatch=r,l=Vh(!1),f=zh.bind(null,vt,!1,l.queue),l=Xe(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=uE.bind(null,vt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Wm(t){var n=de();return tg(n,jt,t)}function tg(t,n,r){if(n=Nh(t,n,$m)[0],t=ou(Ai)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=El(n)}catch(p){throw p===ml?nu:p}else l=n;n=de();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(vt.flags|=2048,ea(9,uu(),cE.bind(null,c,r),null)),[l,f,t]}function cE(t,n){t.action=n}function eg(t){var n=de(),r=jt;if(r!==null)return tg(n,r,t);de(),n=n.memoizedState,r=de();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function ea(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=vt.updateQueue,n===null&&(n=Dh(),vt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function uu(){return{destroy:void 0,resource:void 0}}function ng(){return de().memoizedState}function cu(t,n,r,l){var c=Xe();l=l===void 0?null:l,vt.flags|=t,c.memoizedState=ea(1|n,uu(),r,l)}function Tl(t,n,r,l){var c=de();l=l===void 0?null:l;var f=c.memoizedState.inst;jt!==null&&l!==null&&bh(l,jt.memoizedState.deps)?c.memoizedState=ea(n,f,r,l):(vt.flags|=t,c.memoizedState=ea(1|n,f,r,l))}function ig(t,n){cu(8390656,8,t,n)}function rg(t,n){Tl(2048,8,t,n)}function sg(t,n){return Tl(4,2,t,n)}function ag(t,n){return Tl(4,4,t,n)}function lg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function og(t,n,r){r=r!=null?r.concat([t]):null,Tl(4,4,lg.bind(null,n,t),r)}function Ph(){}function ug(t,n){var r=de();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&bh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function cg(t,n){var r=de();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&bh(n,l[1]))return l[0];if(l=t(),as){tn(!0);try{t()}finally{tn(!1)}}return r.memoizedState=[l,n],l}function xh(t,n,r){return r===void 0||(Zi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=dp(),vt.lanes|=t,ir|=t,r)}function hg(t,n,r,l){return nn(r,n)?r:Js.current!==null?(t=xh(t,r,l),nn(t,n)||(Se=!0),t):(Zi&42)===0?(Se=!0,t.memoizedState=r):(t=dp(),vt.lanes|=t,ir|=t,n)}function fg(t,n,r,l,c){var f=W.p;W.p=f!==0&&8>f?f:8;var p=j.T,E={};j.T=E,zh(t,!1,n,r);try{var b=c(),k=j.S;if(k!==null&&k(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var q=aE(b,l);Al(t,n,q,on(t))}else Al(t,n,l,on(t))}catch(F){Al(t,n,{then:function(){},status:"rejected",reason:F},on())}finally{W.p=f,j.T=p}}function hE(){}function Lh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=dg(t).queue;fg(t,c,n,at,r===null?hE:function(){return mg(t),r(l)})}function dg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:at},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function mg(t){var n=dg(t).next.queue;Al(t,n,{},on())}function kh(){return ze(Bl)}function gg(){return de().memoizedState}function pg(){return de().memoizedState}function fE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=on();t=Ki(r);var l=Xi(n,t,r);l!==null&&(un(l,n,r),pl(l,n,r)),n={cache:mh()},t.payload=n;return}n=n.return}}function dE(t,n,r){var l=on();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},hu(t)?_g(n,r):(r=rh(t,n,r,l),r!==null&&(un(r,t,l),vg(r,n,l)))}function yg(t,n,r){var l=on();Al(t,n,r,l)}function Al(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(hu(t))_g(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(c.hasEagerState=!0,c.eagerState=E,nn(E,p))return Ko(t,n,c,0),Yt===null&&Yo(),!1}catch{}finally{}if(r=rh(t,n,c,l),r!==null)return un(r,t,l),vg(r,n,l),!0}return!1}function zh(t,n,r,l){if(l={lane:2,revertLane:_f(),action:l,hasEagerState:!1,eagerState:null,next:null},hu(t)){if(n)throw Error(a(479))}else n=rh(t,r,l,2),n!==null&&un(n,t,2)}function hu(t){var n=t.alternate;return t===vt||n!==null&&n===vt}function _g(t,n){Ws=su=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function vg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ga(t,r)}}var fu={readContext:ze,use:lu,useCallback:ae,useContext:ae,useEffect:ae,useImperativeHandle:ae,useLayoutEffect:ae,useInsertionEffect:ae,useMemo:ae,useReducer:ae,useRef:ae,useState:ae,useDebugValue:ae,useDeferredValue:ae,useTransition:ae,useSyncExternalStore:ae,useId:ae,useHostTransitionStatus:ae,useFormState:ae,useActionState:ae,useOptimistic:ae,useMemoCache:ae,useCacheRefresh:ae},Eg={readContext:ze,use:lu,useCallback:function(t,n){return Xe().memoizedState=[t,n===void 0?null:n],t},useContext:ze,useEffect:ig,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,cu(4194308,4,lg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return cu(4194308,4,t,n)},useInsertionEffect:function(t,n){cu(4,2,t,n)},useMemo:function(t,n){var r=Xe();n=n===void 0?null:n;var l=t();if(as){tn(!0);try{t()}finally{tn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Xe();if(r!==void 0){var c=r(n);if(as){tn(!0);try{r(n)}finally{tn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=dE.bind(null,vt,t),[l.memoizedState,t]},useRef:function(t){var n=Xe();return t={current:t},n.memoizedState=t},useState:function(t){t=Vh(t);var n=t.queue,r=yg.bind(null,vt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Ph,useDeferredValue:function(t,n){var r=Xe();return xh(r,t,n)},useTransition:function(){var t=Vh(!1);return t=fg.bind(null,vt,t.queue,!0,!1),Xe().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=vt,c=Xe();if(xt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Yt===null)throw Error(a(349));(Dt&124)!==0||Hm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,ig(qm.bind(null,l,f,t),[t]),l.flags|=2048,ea(9,uu(),jm.bind(null,l,f,r,n),null),r},useId:function(){var t=Xe(),n=Yt.identifierPrefix;if(xt){var r=vi,l=_i;r=(l&~(1<<32-ke(l)-1)).toString(32)+r,n=""+n+"R"+r,r=au++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=lE++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:kh,useFormState:Jm,useActionState:Jm,useOptimistic:function(t){var n=Xe();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=zh.bind(null,vt,!0,r),r.dispatch=n,[t,n]},useMemoCache:Oh,useCacheRefresh:function(){return Xe().memoizedState=fE.bind(null,vt)}},Tg={readContext:ze,use:lu,useCallback:ug,useContext:ze,useEffect:rg,useImperativeHandle:og,useInsertionEffect:sg,useLayoutEffect:ag,useMemo:cg,useReducer:ou,useRef:ng,useState:function(){return ou(Ai)},useDebugValue:Ph,useDeferredValue:function(t,n){var r=de();return hg(r,jt.memoizedState,t,n)},useTransition:function(){var t=ou(Ai)[0],n=de().memoizedState;return[typeof t=="boolean"?t:El(t),n]},useSyncExternalStore:Bm,useId:gg,useHostTransitionStatus:kh,useFormState:Wm,useActionState:Wm,useOptimistic:function(t,n){var r=de();return Qm(r,jt,t,n)},useMemoCache:Oh,useCacheRefresh:pg},mE={readContext:ze,use:lu,useCallback:ug,useContext:ze,useEffect:rg,useImperativeHandle:og,useInsertionEffect:sg,useLayoutEffect:ag,useMemo:cg,useReducer:Mh,useRef:ng,useState:function(){return Mh(Ai)},useDebugValue:Ph,useDeferredValue:function(t,n){var r=de();return jt===null?xh(r,t,n):hg(r,jt.memoizedState,t,n)},useTransition:function(){var t=Mh(Ai)[0],n=de().memoizedState;return[typeof t=="boolean"?t:El(t),n]},useSyncExternalStore:Bm,useId:gg,useHostTransitionStatus:kh,useFormState:eg,useActionState:eg,useOptimistic:function(t,n){var r=de();return jt!==null?Qm(r,jt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Oh,useCacheRefresh:pg},na=null,Sl=0;function du(t){var n=Sl;return Sl+=1,na===null&&(na=[]),Mm(na,t,n)}function bl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function mu(t,n){throw n.$$typeof===N?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Ag(t){var n=t._init;return n(t._payload)}function Sg(t){function n(V,C){if(t){var x=V.deletions;x===null?(V.deletions=[C],V.flags|=16):x.push(C)}}function r(V,C){if(!t)return null;for(;C!==null;)n(V,C),C=C.sibling;return null}function l(V){for(var C=new Map;V!==null;)V.key!==null?C.set(V.key,V):C.set(V.index,V),V=V.sibling;return C}function c(V,C){return V=yi(V,C),V.index=0,V.sibling=null,V}function f(V,C,x){return V.index=x,t?(x=V.alternate,x!==null?(x=x.index,x<C?(V.flags|=67108866,C):x):(V.flags|=67108866,C)):(V.flags|=1048576,C)}function p(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function E(V,C,x,G){return C===null||C.tag!==6?(C=ah(x,V.mode,G),C.return=V,C):(C=c(C,x),C.return=V,C)}function b(V,C,x,G){var nt=x.type;return nt===$?q(V,C,x.props.children,G,x.key):C!==null&&(C.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===A&&Ag(nt)===C.type)?(C=c(C,x.props),bl(C,x),C.return=V,C):(C=Zo(x.type,x.key,x.props,null,V.mode,G),bl(C,x),C.return=V,C)}function k(V,C,x,G){return C===null||C.tag!==4||C.stateNode.containerInfo!==x.containerInfo||C.stateNode.implementation!==x.implementation?(C=lh(x,V.mode,G),C.return=V,C):(C=c(C,x.children||[]),C.return=V,C)}function q(V,C,x,G,nt){return C===null||C.tag!==7?(C=Jr(x,V.mode,G,nt),C.return=V,C):(C=c(C,x),C.return=V,C)}function F(V,C,x){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=ah(""+C,V.mode,x),C.return=V,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case L:return x=Zo(C.type,C.key,C.props,null,V.mode,x),bl(x,C),x.return=V,x;case Z:return C=lh(C,V.mode,x),C.return=V,C;case A:var G=C._init;return C=G(C._payload),F(V,C,x)}if(Wt(C)||U(C))return C=Jr(C,V.mode,x,null),C.return=V,C;if(typeof C.then=="function")return F(V,du(C),x);if(C.$$typeof===dt)return F(V,tu(V,C),x);mu(V,C)}return null}function z(V,C,x,G){var nt=C!==null?C.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return nt!==null?null:E(V,C,""+x,G);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case L:return x.key===nt?b(V,C,x,G):null;case Z:return x.key===nt?k(V,C,x,G):null;case A:return nt=x._init,x=nt(x._payload),z(V,C,x,G)}if(Wt(x)||U(x))return nt!==null?null:q(V,C,x,G,null);if(typeof x.then=="function")return z(V,C,du(x),G);if(x.$$typeof===dt)return z(V,C,tu(V,x),G);mu(V,x)}return null}function B(V,C,x,G,nt){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return V=V.get(x)||null,E(C,V,""+G,nt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case L:return V=V.get(G.key===null?x:G.key)||null,b(C,V,G,nt);case Z:return V=V.get(G.key===null?x:G.key)||null,k(C,V,G,nt);case A:var Tt=G._init;return G=Tt(G._payload),B(V,C,x,G,nt)}if(Wt(G)||U(G))return V=V.get(x)||null,q(C,V,G,nt,null);if(typeof G.then=="function")return B(V,C,x,du(G),nt);if(G.$$typeof===dt)return B(V,C,x,tu(C,G),nt);mu(C,G)}return null}function ht(V,C,x,G){for(var nt=null,Tt=null,st=C,ut=C=0,Re=null;st!==null&&ut<x.length;ut++){st.index>ut?(Re=st,st=null):Re=st.sibling;var Ut=z(V,st,x[ut],G);if(Ut===null){st===null&&(st=Re);break}t&&st&&Ut.alternate===null&&n(V,st),C=f(Ut,C,ut),Tt===null?nt=Ut:Tt.sibling=Ut,Tt=Ut,st=Re}if(ut===x.length)return r(V,st),xt&&ts(V,ut),nt;if(st===null){for(;ut<x.length;ut++)st=F(V,x[ut],G),st!==null&&(C=f(st,C,ut),Tt===null?nt=st:Tt.sibling=st,Tt=st);return xt&&ts(V,ut),nt}for(st=l(st);ut<x.length;ut++)Re=B(st,V,ut,x[ut],G),Re!==null&&(t&&Re.alternate!==null&&st.delete(Re.key===null?ut:Re.key),C=f(Re,C,ut),Tt===null?nt=Re:Tt.sibling=Re,Tt=Re);return t&&st.forEach(function(fr){return n(V,fr)}),xt&&ts(V,ut),nt}function ot(V,C,x,G){if(x==null)throw Error(a(151));for(var nt=null,Tt=null,st=C,ut=C=0,Re=null,Ut=x.next();st!==null&&!Ut.done;ut++,Ut=x.next()){st.index>ut?(Re=st,st=null):Re=st.sibling;var fr=z(V,st,Ut.value,G);if(fr===null){st===null&&(st=Re);break}t&&st&&fr.alternate===null&&n(V,st),C=f(fr,C,ut),Tt===null?nt=fr:Tt.sibling=fr,Tt=fr,st=Re}if(Ut.done)return r(V,st),xt&&ts(V,ut),nt;if(st===null){for(;!Ut.done;ut++,Ut=x.next())Ut=F(V,Ut.value,G),Ut!==null&&(C=f(Ut,C,ut),Tt===null?nt=Ut:Tt.sibling=Ut,Tt=Ut);return xt&&ts(V,ut),nt}for(st=l(st);!Ut.done;ut++,Ut=x.next())Ut=B(st,V,ut,Ut.value,G),Ut!==null&&(t&&Ut.alternate!==null&&st.delete(Ut.key===null?ut:Ut.key),C=f(Ut,C,ut),Tt===null?nt=Ut:Tt.sibling=Ut,Tt=Ut);return t&&st.forEach(function(gT){return n(V,gT)}),xt&&ts(V,ut),nt}function Gt(V,C,x,G){if(typeof x=="object"&&x!==null&&x.type===$&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case L:t:{for(var nt=x.key;C!==null;){if(C.key===nt){if(nt=x.type,nt===$){if(C.tag===7){r(V,C.sibling),G=c(C,x.props.children),G.return=V,V=G;break t}}else if(C.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===A&&Ag(nt)===C.type){r(V,C.sibling),G=c(C,x.props),bl(G,x),G.return=V,V=G;break t}r(V,C);break}else n(V,C);C=C.sibling}x.type===$?(G=Jr(x.props.children,V.mode,G,x.key),G.return=V,V=G):(G=Zo(x.type,x.key,x.props,null,V.mode,G),bl(G,x),G.return=V,V=G)}return p(V);case Z:t:{for(nt=x.key;C!==null;){if(C.key===nt)if(C.tag===4&&C.stateNode.containerInfo===x.containerInfo&&C.stateNode.implementation===x.implementation){r(V,C.sibling),G=c(C,x.children||[]),G.return=V,V=G;break t}else{r(V,C);break}else n(V,C);C=C.sibling}G=lh(x,V.mode,G),G.return=V,V=G}return p(V);case A:return nt=x._init,x=nt(x._payload),Gt(V,C,x,G)}if(Wt(x))return ht(V,C,x,G);if(U(x)){if(nt=U(x),typeof nt!="function")throw Error(a(150));return x=nt.call(x),ot(V,C,x,G)}if(typeof x.then=="function")return Gt(V,C,du(x),G);if(x.$$typeof===dt)return Gt(V,C,tu(V,x),G);mu(V,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,C!==null&&C.tag===6?(r(V,C.sibling),G=c(C,x),G.return=V,V=G):(r(V,C),G=ah(x,V.mode,G),G.return=V,V=G),p(V)):r(V,C)}return function(V,C,x,G){try{Sl=0;var nt=Gt(V,C,x,G);return na=null,nt}catch(st){if(st===ml||st===nu)throw st;var Tt=rn(29,st,null,V.mode);return Tt.lanes=G,Tt.return=V,Tt}finally{}}}var ia=Sg(!0),bg=Sg(!1),En=Y(null),Xn=null;function $i(t){var n=t.alternate;X(ve,ve.current&1),X(En,t),Xn===null&&(n===null||Js.current!==null||n.memoizedState!==null)&&(Xn=t)}function Rg(t){if(t.tag===22){if(X(ve,ve.current),X(En,t),Xn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Xn=t)}}else Ji()}function Ji(){X(ve,ve.current),X(En,En.current)}function Si(t){tt(En),Xn===t&&(Xn=null),tt(ve)}var ve=Y(0);function gu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Of(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Bh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:S({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Hh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=on(),c=Ki(l);c.payload=n,r!=null&&(c.callback=r),n=Xi(t,c,l),n!==null&&(un(n,t,l),pl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=on(),c=Ki(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Xi(t,c,l),n!==null&&(un(n,t,l),pl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=on(),l=Ki(r);l.tag=2,n!=null&&(l.callback=n),n=Xi(t,l,r),n!==null&&(un(n,t,r),pl(n,t,r))}};function wg(t,n,r,l,c,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!al(r,l)||!al(c,f):!0}function Ig(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Hh.enqueueReplaceState(n,n.state,null)}function ls(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=S({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var pu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Cg(t){pu(t)}function Dg(t){console.error(t)}function Og(t){pu(t)}function yu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ng(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function jh(t,n,r){return r=Ki(r),r.tag=3,r.payload={element:null},r.callback=function(){yu(t,n)},r}function Mg(t){return t=Ki(t),t.tag=3,t}function Vg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Ng(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Ng(n,r,l),typeof c!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function gE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&hl(n,r,c,!0),r=En.current,r!==null){switch(r.tag){case 13:return Xn===null?df():r.alternate===null&&ne===0&&(ne=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===yh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),gf(t,l,c)),!1;case 22:return r.flags|=65536,l===yh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),gf(t,l,c)),!1}throw Error(a(435,r.tag))}return gf(t,l,c),df(),!1}if(xt)return n=En.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==ch&&(t=Error(a(422),{cause:l}),cl(pn(t,r)))):(l!==ch&&(n=Error(a(423),{cause:l}),cl(pn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=pn(l,r),c=jh(t.stateNode,l,c),Eh(t,c),ne!==4&&(ne=2)),!1;var f=Error(a(520),{cause:l});if(f=pn(f,r),Nl===null?Nl=[f]:Nl.push(f),ne!==4&&(ne=2),n===null)return!0;l=pn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=jh(r.stateNode,l,t),Eh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(rr===null||!rr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Mg(c),Vg(c,t,r,l),Eh(r,c),!1}r=r.return}while(r!==null);return!1}var Ug=Error(a(461)),Se=!1;function Ne(t,n,r,l){n.child=t===null?bg(n,null,r,l):ia(n,t.child,r,l)}function Pg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return rs(n),l=Rh(t,n,r,p,f,c),E=wh(),t!==null&&!Se?(Ih(t,n,c),bi(t,n,c)):(xt&&E&&oh(n),n.flags|=1,Ne(t,n,l,c),n.child)}function xg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!sh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Lg(t,n,f,l,c)):(t=Zo(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Zh(t,c)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:al,r(p,l)&&t.ref===n.ref)return bi(t,n,c)}return n.flags|=1,t=yi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Lg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(al(f,l)&&t.ref===n.ref)if(Se=!1,n.pendingProps=l=f,Zh(t,c))(t.flags&131072)!==0&&(Se=!0);else return n.lanes=t.lanes,bi(t,n,c)}return qh(t,n,r,l,c)}function kg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return zg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&eu(n,f!==null?f.cachePool:null),f!==null?Lm(n,f):Ah(),Rg(n);else return n.lanes=n.childLanes=536870912,zg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(eu(n,f.cachePool),Lm(n,f),Ji(),n.memoizedState=null):(t!==null&&eu(n,null),Ah(),Ji());return Ne(t,n,c,r),n.child}function zg(t,n,r,l){var c=ph();return c=c===null?null:{parent:_e._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&eu(n,null),Ah(),Rg(n),t!==null&&hl(t,n,l,!0),null}function _u(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function qh(t,n,r,l,c){return rs(n),r=Rh(t,n,r,l,void 0,c),l=wh(),t!==null&&!Se?(Ih(t,n,c),bi(t,n,c)):(xt&&l&&oh(n),n.flags|=1,Ne(t,n,r,c),n.child)}function Bg(t,n,r,l,c,f){return rs(n),n.updateQueue=null,r=zm(n,l,r,c),km(t),l=wh(),t!==null&&!Se?(Ih(t,n,f),bi(t,n,f)):(xt&&l&&oh(n),n.flags|=1,Ne(t,n,r,f),n.child)}function Hg(t,n,r,l,c){if(rs(n),n.stateNode===null){var f=Ys,p=r.contextType;typeof p=="object"&&p!==null&&(f=ze(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Hh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},_h(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?ze(p):Ys,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Bh(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Hh.enqueueReplaceState(f,f.state,null),_l(n,l,f,c),yl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=ls(r,E);f.props=b;var k=f.context,q=r.contextType;p=Ys,typeof q=="object"&&q!==null&&(p=ze(q));var F=r.getDerivedStateFromProps;q=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==p)&&Ig(n,f,l,p),Yi=!1;var z=n.memoizedState;f.state=z,_l(n,l,f,c),yl(),k=n.memoizedState,E||z!==k||Yi?(typeof F=="function"&&(Bh(n,r,F,l),k=n.memoizedState),(b=Yi||wg(n,r,b,l,z,k,p))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=p,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,vh(t,n),p=n.memoizedProps,q=ls(r,p),f.props=q,F=n.pendingProps,z=f.context,k=r.contextType,b=Ys,typeof k=="object"&&k!==null&&(b=ze(k)),E=r.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==F||z!==b)&&Ig(n,f,l,b),Yi=!1,z=n.memoizedState,f.state=z,_l(n,l,f,c),yl();var B=n.memoizedState;p!==F||z!==B||Yi||t!==null&&t.dependencies!==null&&Wo(t.dependencies)?(typeof E=="function"&&(Bh(n,r,E,l),B=n.memoizedState),(q=Yi||wg(n,r,q,l,z,B,b)||t!==null&&t.dependencies!==null&&Wo(t.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,B,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,B,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=b,l=q):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,_u(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ia(n,t.child,null,c),n.child=ia(n,null,r,c)):Ne(t,n,r,c),n.memoizedState=f.state,t=n.child):t=bi(t,n,c),t}function jg(t,n,r,l){return ul(),n.flags|=256,Ne(t,n,r,l),n.child}var Gh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fh(t){return{baseLanes:t,cachePool:Dm()}}function Qh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Tn),t}function qg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(ve.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(xt){if(c?$i(n):Ji(),xt){var E=ee,b;if(b=E){t:{for(b=E,E=Kn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Dn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Wr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},b=rn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ke=n,ee=null,b=!0):b=!1}b||ns(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Of(E)?n.lanes=32:n.lanes=536870912,null;Si(n)}return E=l.children,l=l.fallback,c?(Ji(),c=n.mode,E=vu({mode:"hidden",children:E},c),l=Jr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Fh(r),c.childLanes=Qh(t,p,r),n.memoizedState=Gh,l):($i(n),Yh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?($i(n),n.flags&=-257,n=Kh(t,n,r)):n.memoizedState!==null?(Ji(),n.child=t.child,n.flags|=128,n=null):(Ji(),c=l.fallback,E=n.mode,l=vu({mode:"visible",children:l.children},E),c=Jr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ia(n,t.child,null,r),l=n.child,l.memoizedState=Fh(r),l.childLanes=Qh(t,p,r),n.memoizedState=Gh,n=c);else if($i(n),Of(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var k=p.dgst;p=k,l=Error(a(419)),l.stack="",l.digest=p,cl({value:l,source:null,stack:null}),n=Kh(t,n,r)}else if(Se||hl(t,n,r,!1),p=(r&t.childLanes)!==0,Se||p){if(p=Yt,p!==null&&(l=r&-r,l=(l&42)!==0?1:zi(l),l=(l&(p.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Qs(t,l),un(p,t,l),Ug;E.data==="$?"||df(),n=Kh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,ee=Dn(E.nextSibling),Ke=n,xt=!0,es=null,Kn=!1,t!==null&&(_n[vn++]=_i,_n[vn++]=vi,_n[vn++]=Wr,_i=t.id,vi=t.overflow,Wr=n),n=Yh(n,l.children),n.flags|=4096);return n}return c?(Ji(),c=l.fallback,E=n.mode,b=t.child,k=b.sibling,l=yi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,k!==null?c=yi(k,c):(c=Jr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Fh(r):(b=E.cachePool,b!==null?(k=_e._currentValue,b=b.parent!==k?{parent:k,pool:k}:b):b=Dm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=Qh(t,p,r),n.memoizedState=Gh,l):($i(n),r=t.child,t=r.sibling,r=yi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function Yh(t,n){return n=vu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function vu(t,n){return t=rn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Kh(t,n,r){return ia(n,t.child,null,r),t=Yh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Gg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),fh(t.return,n,r)}function Xh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Fg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Ne(t,n,l.children,r),l=ve.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gg(t,r,n);else if(t.tag===19)Gg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(X(ve,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&gu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Xh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&gu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Xh(n,!0,r,null,f);break;case"together":Xh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function bi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),ir|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(hl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=yi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=yi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Zh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Wo(t)))}function pE(t,n,r){switch(n.tag){case 3:Qt(n,n.stateNode.containerInfo),Qi(n,_e,t.memoizedState.cache),ul();break;case 27:case 5:ki(n);break;case 4:Qt(n,n.stateNode.containerInfo);break;case 10:Qi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?($i(n),n.flags|=128,null):(r&n.child.childLanes)!==0?qg(t,n,r):($i(n),t=bi(t,n,r),t!==null?t.sibling:null);$i(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(hl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Fg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),X(ve,ve.current),l)break;return null;case 22:case 23:return n.lanes=0,kg(t,n,r);case 24:Qi(n,_e,t.memoizedState.cache)}return bi(t,n,r)}function Qg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Se=!0;else{if(!Zh(t,r)&&(n.flags&128)===0)return Se=!1,pE(t,n,r);Se=(t.flags&131072)!==0}else Se=!1,xt&&(n.flags&1048576)!==0&&Am(n,Jo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")sh(l)?(t=ls(l,t),n.tag=1,n=Hg(null,n,l,t,r)):(n.tag=0,n=qh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===Nt){n.tag=11,n=Pg(null,n,l,t,r);break t}else if(c===O){n.tag=14,n=xg(null,n,l,t,r);break t}}throw n=Ce(l)||l,Error(a(306,n,""))}}return n;case 0:return qh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ls(l,n.pendingProps),Hg(t,n,l,c,r);case 3:t:{if(Qt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,vh(t,n),_l(n,l,null,r);var p=n.memoizedState;if(l=p.cache,Qi(n,_e,l),l!==f.cache&&dh(n,[_e],r,!0),yl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=jg(t,n,l,r);break t}else if(l!==c){c=pn(Error(a(424)),n),cl(c),n=jg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ee=Dn(t.firstChild),Ke=n,xt=!0,es=null,Kn=!0,r=bg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ul(),l===c){n=bi(t,n,r);break t}Ne(t,n,l,r)}n=n.child}return n;case 26:return _u(t,n),t===null?(r=Zp(n.type,null,n.pendingProps,null))?n.memoizedState=r:xt||(r=n.type,t=n.pendingProps,l=Vu(mt.current).createElement(r),l[ge]=n,l[ce]=t,Ve(l,r,t),se(l),n.stateNode=l):n.memoizedState=Zp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ki(n),t===null&&xt&&(l=n.stateNode=Yp(n.type,n.pendingProps,mt.current),Ke=n,Kn=!0,c=ee,lr(n.type)?(Nf=c,ee=Dn(l.firstChild)):ee=c),Ne(t,n,n.pendingProps.children,r),_u(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&xt&&((c=l=ee)&&(l=GE(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,Ke=n,ee=Dn(l.firstChild),Kn=!1,c=!0):c=!1),c||ns(n)),ki(n),c=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,If(c,f)?l=null:p!==null&&If(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=Rh(t,n,oE,null,null,r),Bl._currentValue=c),_u(t,n),Ne(t,n,l,r),n.child;case 6:return t===null&&xt&&((t=r=ee)&&(r=FE(r,n.pendingProps,Kn),r!==null?(n.stateNode=r,Ke=n,ee=null,t=!0):t=!1),t||ns(n)),null;case 13:return qg(t,n,r);case 4:return Qt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ia(n,null,l,r):Ne(t,n,l,r),n.child;case 11:return Pg(t,n,n.type,n.pendingProps,r);case 7:return Ne(t,n,n.pendingProps,r),n.child;case 8:return Ne(t,n,n.pendingProps.children,r),n.child;case 12:return Ne(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Qi(n,n.type,l.value),Ne(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,rs(n),c=ze(c),l=l(c),n.flags|=1,Ne(t,n,l,r),n.child;case 14:return xg(t,n,n.type,n.pendingProps,r);case 15:return Lg(t,n,n.type,n.pendingProps,r);case 19:return Fg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=vu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=yi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return kg(t,n,r);case 24:return rs(n),l=ze(_e),t===null?(c=ph(),c===null&&(c=Yt,f=mh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},_h(n),Qi(n,_e,c)):((t.lanes&r)!==0&&(vh(t,n),_l(n,null,null,r),yl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Qi(n,_e,l)):(l=f.cache,Qi(n,_e,l),l!==c.cache&&dh(n,[_e],r,!0))),Ne(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ri(t){t.flags|=4}function Yg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ey(n)){if(n=En.current,n!==null&&((Dt&4194048)===Dt?Xn!==null:(Dt&62914560)!==Dt&&(Dt&536870912)===0||n!==Xn))throw gl=yh,Om;t.flags|=8192}}function Eu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ja():536870912,t.lanes|=n,la|=n)}function Rl(t,n){if(!xt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Jt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function yE(t,n,r){var l=n.pendingProps;switch(uh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(n),null;case 1:return Jt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ti(_e),xn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ol(n)?Ri(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Rm())),Jt(n),null;case 26:return r=n.memoizedState,t===null?(Ri(n),r!==null?(Jt(n),Yg(n,r)):(Jt(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ri(n),Jt(n),Yg(n,r)):(Jt(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ri(n),Jt(n),n.flags&=-16777217),null;case 27:ri(n),r=mt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Jt(n),null}t=lt.current,ol(n)?Sm(n):(t=Yp(c,l,r),n.stateNode=t,Ri(n))}return Jt(n),null;case 5:if(ri(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Jt(n),null}if(t=lt.current,ol(n))Sm(n);else{switch(c=Vu(mt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[ge]=n,t[ce]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Ve(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ri(n)}}return Jt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=mt.current,ol(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ke,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ge]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Bp(t.nodeValue,r)),t||ns(n)}else t=Vu(t).createTextNode(l),t[ge]=n,n.stateNode=t}return Jt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=ol(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[ge]=n}else ul(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Jt(n),c=!1}else c=Rm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Si(n),n):(Si(n),null)}if(Si(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),Eu(n,n.updateQueue),Jt(n),null;case 4:return xn(),t===null&&Af(n.stateNode.containerInfo),Jt(n),null;case 10:return Ti(n.type),Jt(n),null;case 19:if(tt(ve),c=n.memoizedState,c===null)return Jt(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Rl(c,!1);else{if(ne!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=gu(t),f!==null){for(n.flags|=128,Rl(c,!1),t=f.updateQueue,n.updateQueue=t,Eu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Tm(r,t),r=r.sibling;return X(ve,ve.current&1|2),n.child}t=t.sibling}c.tail!==null&&cn()>Su&&(n.flags|=128,l=!0,Rl(c,!1),n.lanes=4194304)}else{if(!l)if(t=gu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Eu(n,t),Rl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!xt)return Jt(n),null}else 2*cn()-c.renderingStartTime>Su&&r!==536870912&&(n.flags|=128,l=!0,Rl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=cn(),n.sibling=null,t=ve.current,X(ve,l?t&1|2:t&1),n):(Jt(n),null);case 22:case 23:return Si(n),Sh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(Jt(n),n.subtreeFlags&6&&(n.flags|=8192)):Jt(n),r=n.updateQueue,r!==null&&Eu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&tt(ss),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ti(_e),Jt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function _E(t,n){switch(uh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ti(_e),xn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ri(n),null;case 13:if(Si(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ul()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return tt(ve),null;case 4:return xn(),null;case 10:return Ti(n.type),null;case 22:case 23:return Si(n),Sh(),t!==null&&tt(ss),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ti(_e),null;case 25:return null;default:return null}}function Kg(t,n){switch(uh(n),n.tag){case 3:Ti(_e),xn();break;case 26:case 27:case 5:ri(n);break;case 4:xn();break;case 13:Si(n);break;case 19:tt(ve);break;case 10:Ti(n.type);break;case 22:case 23:Si(n),Sh(),t!==null&&tt(ss);break;case 24:Ti(_e)}}function wl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==c)}}catch(E){Ft(n,n.return,E)}}function Wi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,c=n;var b=r,k=E;try{k()}catch(q){Ft(c,b,q)}}}l=l.next}while(l!==f)}}catch(q){Ft(n,n.return,q)}}function Xg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{xm(n,r)}catch(l){Ft(t,t.return,l)}}}function Zg(t,n,r){r.props=ls(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Ft(t,n,l)}}function Il(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Ft(t,n,c)}}function Zn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Ft(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Ft(t,n,c)}else r.current=null}function $g(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Ft(t,t.return,c)}}function $h(t,n,r){try{var l=t.stateNode;zE(l,t.type,r,n),l[ce]=n}catch(c){Ft(t,t.return,c)}}function Jg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&lr(t.type)||t.tag===4}function Jh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Jg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&lr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Mu));else if(l!==4&&(l===27&&lr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Wh(t,n,r),t=t.sibling;t!==null;)Wh(t,n,r),t=t.sibling}function Tu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&lr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Tu(t,n,r),t=t.sibling;t!==null;)Tu(t,n,r),t=t.sibling}function Wg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Ve(n,l,r),n[ge]=t,n[ce]=r}catch(f){Ft(t,t.return,f)}}var wi=!1,le=!1,tf=!1,tp=typeof WeakSet=="function"?WeakSet:Set,be=null;function vE(t,n){if(t=t.containerInfo,Rf=zu,t=hm(t),Jc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var p=0,E=-1,b=-1,k=0,q=0,F=t,z=null;e:for(;;){for(var B;F!==r||c!==0&&F.nodeType!==3||(E=p+c),F!==f||l!==0&&F.nodeType!==3||(b=p+l),F.nodeType===3&&(p+=F.nodeValue.length),(B=F.firstChild)!==null;)z=F,F=B;for(;;){if(F===t)break e;if(z===r&&++k===c&&(E=p),z===f&&++q===l&&(b=p),(B=F.nextSibling)!==null)break;F=z,z=F.parentNode}F=B}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(wf={focusedElem:t,selectionRange:r},zu=!1,be=n;be!==null;)if(n=be,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,be=t;else for(;be!==null;){switch(n=be,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ht=ls(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(ht,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ot){Ft(r,r.return,ot)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Df(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Df(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,be=t;break}be=n.return}}function ep(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:tr(t,r),l&4&&wl(5,r);break;case 1:if(tr(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){Ft(r,r.return,p)}else{var c=ls(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Ft(r,r.return,p)}}l&64&&Xg(r),l&512&&Il(r,r.return);break;case 3:if(tr(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{xm(t,n)}catch(p){Ft(r,r.return,p)}}break;case 27:n===null&&l&4&&Wg(r);case 26:case 5:tr(t,r),n===null&&l&4&&$g(r),l&512&&Il(r,r.return);break;case 12:tr(t,r);break;case 13:tr(t,r),l&4&&rp(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=CE.bind(null,r),QE(t,r))));break;case 22:if(l=r.memoizedState!==null||wi,!l){n=n!==null&&n.memoizedState!==null||le,c=wi;var f=le;wi=l,(le=n)&&!f?er(t,r,(r.subtreeFlags&8772)!==0):tr(t,r),wi=c,le=f}break;case 30:break;default:tr(t,r)}}function np(t){var n=t.alternate;n!==null&&(t.alternate=null,np(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ji(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Zt=null,Ze=!1;function Ii(t,n,r){for(r=r.child;r!==null;)ip(t,n,r),r=r.sibling}function ip(t,n,r){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(te,r)}catch{}switch(r.tag){case 26:le||Zn(r,n),Ii(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:le||Zn(r,n);var l=Zt,c=Ze;lr(r.type)&&(Zt=r.stateNode,Ze=!1),Ii(t,n,r),xl(r.stateNode),Zt=l,Ze=c;break;case 5:le||Zn(r,n);case 6:if(l=Zt,c=Ze,Zt=null,Ii(t,n,r),Zt=l,Ze=c,Zt!==null)if(Ze)try{(Zt.nodeType===9?Zt.body:Zt.nodeName==="HTML"?Zt.ownerDocument.body:Zt).removeChild(r.stateNode)}catch(f){Ft(r,n,f)}else try{Zt.removeChild(r.stateNode)}catch(f){Ft(r,n,f)}break;case 18:Zt!==null&&(Ze?(t=Zt,Fp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Gl(t)):Fp(Zt,r.stateNode));break;case 4:l=Zt,c=Ze,Zt=r.stateNode.containerInfo,Ze=!0,Ii(t,n,r),Zt=l,Ze=c;break;case 0:case 11:case 14:case 15:le||Wi(2,r,n),le||Wi(4,r,n),Ii(t,n,r);break;case 1:le||(Zn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Zg(r,n,l)),Ii(t,n,r);break;case 21:Ii(t,n,r);break;case 22:le=(l=le)||r.memoizedState!==null,Ii(t,n,r),le=l;break;default:Ii(t,n,r)}}function rp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Gl(t)}catch(r){Ft(n,n.return,r)}}function EE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new tp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new tp),n;default:throw Error(a(435,t.tag))}}function ef(t,n){var r=EE(t);n.forEach(function(l){var c=DE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function sn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(lr(E.type)){Zt=E.stateNode,Ze=!1;break t}break;case 5:Zt=E.stateNode,Ze=!1;break t;case 3:case 4:Zt=E.stateNode.containerInfo,Ze=!0;break t}E=E.return}if(Zt===null)throw Error(a(160));ip(f,p,c),Zt=null,Ze=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)sp(n,t),n=n.sibling}var Cn=null;function sp(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:sn(n,t),an(t),l&4&&(Wi(3,t,t.return),wl(3,t),Wi(5,t,t.return));break;case 1:sn(n,t),an(t),l&512&&(le||r===null||Zn(r,r.return)),l&64&&wi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Cn;if(sn(n,t),an(t),l&512&&(le||r===null||Zn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[xr]||f[ge]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Ve(f,l,r),f[ge]=t,se(f),l=f;break t;case"link":var p=Wp("link","href",c).get(l+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break e}}f=c.createElement(l),Ve(f,l,r),c.head.appendChild(f);break;case"meta":if(p=Wp("meta","content",c).get(l+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break e}}f=c.createElement(l),Ve(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[ge]=t,se(f),l=f}t.stateNode=l}else ty(c,t.type,t.stateNode);else t.stateNode=Jp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?ty(c,t.type,t.stateNode):Jp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&$h(t,t.memoizedProps,r.memoizedProps)}break;case 27:sn(n,t),an(t),l&512&&(le||r===null||Zn(r,r.return)),r!==null&&l&4&&$h(t,t.memoizedProps,r.memoizedProps);break;case 5:if(sn(n,t),an(t),l&512&&(le||r===null||Zn(r,r.return)),t.flags&32){c=t.stateNode;try{fn(c,"")}catch(B){Ft(t,t.return,B)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,$h(t,c,r!==null?r.memoizedProps:c)),l&1024&&(tf=!0);break;case 6:if(sn(n,t),an(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(B){Ft(t,t.return,B)}}break;case 3:if(xu=null,c=Cn,Cn=Uu(n.containerInfo),sn(n,t),Cn=c,an(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Gl(n.containerInfo)}catch(B){Ft(t,t.return,B)}tf&&(tf=!1,ap(t));break;case 4:l=Cn,Cn=Uu(t.stateNode.containerInfo),sn(n,t),an(t),Cn=l;break;case 12:sn(n,t),an(t);break;case 13:sn(n,t),an(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(of=cn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ef(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,k=wi,q=le;if(wi=k||c,le=q||b,sn(n,t),le=q,wi=k,an(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||wi||le||os(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=b.stateNode;var F=b.memoizedProps.style,z=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){Ft(b,b.return,B)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(B){Ft(b,b.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,ef(t,r))));break;case 19:sn(n,t),an(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ef(t,l)));break;case 30:break;case 21:break;default:sn(n,t),an(t)}}function an(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Jg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=Jh(t);Tu(t,f,c);break;case 5:var p=r.stateNode;r.flags&32&&(fn(p,""),r.flags&=-33);var E=Jh(t);Tu(t,E,p);break;case 3:case 4:var b=r.stateNode.containerInfo,k=Jh(t);Wh(t,k,b);break;default:throw Error(a(161))}}catch(q){Ft(t,t.return,q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function ap(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;ap(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function tr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ep(t,n.alternate,n),n=n.sibling}function os(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Wi(4,n,n.return),os(n);break;case 1:Zn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Zg(n,n.return,r),os(n);break;case 27:xl(n.stateNode);case 26:case 5:Zn(n,n.return),os(n);break;case 22:n.memoizedState===null&&os(n);break;case 30:os(n);break;default:os(n)}t=t.sibling}}function er(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:er(c,f,r),wl(4,f);break;case 1:if(er(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(k){Ft(l,l.return,k)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Pm(b[c],E)}catch(k){Ft(l,l.return,k)}}r&&p&64&&Xg(f),Il(f,f.return);break;case 27:Wg(f);case 26:case 5:er(c,f,r),r&&l===null&&p&4&&$g(f),Il(f,f.return);break;case 12:er(c,f,r);break;case 13:er(c,f,r),r&&p&4&&rp(c,f);break;case 22:f.memoizedState===null&&er(c,f,r),Il(f,f.return);break;case 30:break;default:er(c,f,r)}n=n.sibling}}function nf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&fl(r))}function rf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&fl(t))}function $n(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)lp(t,n,r,l),n=n.sibling}function lp(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:$n(t,n,r,l),c&2048&&wl(9,n);break;case 1:$n(t,n,r,l);break;case 3:$n(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&fl(t)));break;case 12:if(c&2048){$n(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Ft(n,n.return,b)}}else $n(t,n,r,l);break;case 13:$n(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?$n(t,n,r,l):Cl(t,n):f._visibility&2?$n(t,n,r,l):(f._visibility|=2,ra(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&nf(p,n);break;case 24:$n(t,n,r,l),c&2048&&rf(n.alternate,n);break;default:$n(t,n,r,l)}}function ra(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,p=n,E=r,b=l,k=p.flags;switch(p.tag){case 0:case 11:case 15:ra(f,p,E,b,c),wl(8,p);break;case 23:break;case 22:var q=p.stateNode;p.memoizedState!==null?q._visibility&2?ra(f,p,E,b,c):Cl(f,p):(q._visibility|=2,ra(f,p,E,b,c)),c&&k&2048&&nf(p.alternate,p);break;case 24:ra(f,p,E,b,c),c&&k&2048&&rf(p.alternate,p);break;default:ra(f,p,E,b,c)}n=n.sibling}}function Cl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:Cl(r,l),c&2048&&nf(l.alternate,l);break;case 24:Cl(r,l),c&2048&&rf(l.alternate,l);break;default:Cl(r,l)}n=n.sibling}}var Dl=8192;function sa(t){if(t.subtreeFlags&Dl)for(t=t.child;t!==null;)op(t),t=t.sibling}function op(t){switch(t.tag){case 26:sa(t),t.flags&Dl&&t.memoizedState!==null&&sT(Cn,t.memoizedState,t.memoizedProps);break;case 5:sa(t);break;case 3:case 4:var n=Cn;Cn=Uu(t.stateNode.containerInfo),sa(t),Cn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Dl,Dl=16777216,sa(t),Dl=n):sa(t));break;default:sa(t)}}function up(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ol(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];be=l,hp(l,t)}up(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)cp(t),t=t.sibling}function cp(t){switch(t.tag){case 0:case 11:case 15:Ol(t),t.flags&2048&&Wi(9,t,t.return);break;case 3:Ol(t);break;case 12:Ol(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Au(t)):Ol(t);break;default:Ol(t)}}function Au(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];be=l,hp(l,t)}up(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Wi(8,n,n.return),Au(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Au(n));break;default:Au(n)}t=t.sibling}}function hp(t,n){for(;be!==null;){var r=be;switch(r.tag){case 0:case 11:case 15:Wi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,be=l;else t:for(r=t;be!==null;){l=be;var c=l.sibling,f=l.return;if(np(l),l===r){be=null;break t}if(c!==null){c.return=f,be=c;break t}be=f}}}var TE={getCacheForType:function(t){var n=ze(_e),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},AE=typeof WeakMap=="function"?WeakMap:Map,zt=0,Yt=null,St=null,Dt=0,Bt=0,ln=null,nr=!1,aa=!1,sf=!1,Ci=0,ne=0,ir=0,us=0,af=0,Tn=0,la=0,Nl=null,$e=null,lf=!1,of=0,Su=1/0,bu=null,rr=null,Me=0,sr=null,oa=null,ua=0,uf=0,cf=null,fp=null,Ml=0,hf=null;function on(){if((zt&2)!==0&&Dt!==0)return Dt&-Dt;if(j.T!==null){var t=Zs;return t!==0?t:_f()}return Bi()}function dp(){Tn===0&&(Tn=(Dt&536870912)===0||xt?Ha():536870912);var t=En.current;return t!==null&&(t.flags|=32),Tn}function un(t,n,r){(t===Yt&&(Bt===2||Bt===9)||t.cancelPendingCommit!==null)&&(ca(t,0),ar(t,Dt,Tn,!1)),ai(t,r),((zt&2)===0||t!==Yt)&&(t===Yt&&((zt&2)===0&&(us|=r),ne===4&&ar(t,Dt,Tn,!1)),Jn(t))}function mp(t,n,r){if((zt&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Pr(t,n),c=l?RE(t,n):mf(t,n,!0),f=l;do{if(c===0){aa&&!l&&ar(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!SE(r)){c=mf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=t;c=Nl;var b=E.current.memoizedState.isDehydrated;if(b&&(ca(E,p).flags|=256),p=mf(E,p,!1),p!==2){if(sf&&!b){E.errorRecoveryDisabledLanes|=f,us|=f,c=4;break t}f=$e,$e=c,f!==null&&($e===null?$e=f:$e.push.apply($e,f))}c=p}if(f=!1,c!==2)continue}}if(c===1){ca(t,0),ar(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:ar(l,n,Tn,!nr);break t;case 2:$e=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=of+300-cn(),10<c)){if(ar(l,n,Tn,!nr),Is(l,0,!0)!==0)break t;l.timeoutHandle=qp(gp.bind(null,l,r,$e,bu,lf,n,Tn,us,la,nr,f,2,-0,0),c);break t}gp(l,r,$e,bu,lf,n,Tn,us,la,nr,f,0,-0,0)}}break}while(!0);Jn(t)}function gp(t,n,r,l,c,f,p,E,b,k,q,F,z,B){if(t.timeoutHandle=-1,F=n.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(zl={stylesheets:null,count:0,unsuspend:rT},op(n),F=aT(),F!==null)){t.cancelPendingCommit=F(Ap.bind(null,t,n,f,r,l,c,p,E,b,q,1,z,B)),ar(t,f,p,!k);return}Ap(t,n,f,r,l,c,p,E,b)}function SE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!nn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ar(t,n,r,l){n&=~af,n&=~us,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ke(c),p=1<<f;l[f]=-1,c&=~p}r!==0&&Ln(t,r,n)}function Ru(){return(zt&6)===0?(Vl(0),!1):!0}function ff(){if(St!==null){if(Bt===0)var t=St.return;else t=St,Ei=is=null,Ch(t),na=null,Sl=0,t=St;for(;t!==null;)Kg(t.alternate,t),t=t.return;St=null}}function ca(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,HE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ff(),Yt=t,St=r=yi(t.current,null),Dt=n,Bt=0,ln=null,nr=!1,aa=Pr(t,n),sf=!1,la=Tn=af=us=ir=ne=0,$e=Nl=null,lf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ke(l),f=1<<c;n|=t[c],l&=~f}return Ci=n,Yo(),r}function pp(t,n){vt=null,j.H=fu,n===ml||n===nu?(n=Vm(),Bt=3):n===Om?(n=Vm(),Bt=4):Bt=n===Ug?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ln=n,St===null&&(ne=1,yu(t,pn(n,t.current)))}function yp(){var t=j.H;return j.H=fu,t===null?fu:t}function _p(){var t=j.A;return j.A=TE,t}function df(){ne=4,nr||(Dt&4194048)!==Dt&&En.current!==null||(aa=!0),(ir&134217727)===0&&(us&134217727)===0||Yt===null||ar(Yt,Dt,Tn,!1)}function mf(t,n,r){var l=zt;zt|=2;var c=yp(),f=_p();(Yt!==t||Dt!==n)&&(bu=null,ca(t,n)),n=!1;var p=ne;t:do try{if(Bt!==0&&St!==null){var E=St,b=ln;switch(Bt){case 8:ff(),p=6;break t;case 3:case 2:case 9:case 6:En.current===null&&(n=!0);var k=Bt;if(Bt=0,ln=null,ha(t,E,b,k),r&&aa){p=0;break t}break;default:k=Bt,Bt=0,ln=null,ha(t,E,b,k)}}bE(),p=ne;break}catch(q){pp(t,q)}while(!0);return n&&t.shellSuspendCounter++,Ei=is=null,zt=l,j.H=c,j.A=f,St===null&&(Yt=null,Dt=0,Yo()),p}function bE(){for(;St!==null;)vp(St)}function RE(t,n){var r=zt;zt|=2;var l=yp(),c=_p();Yt!==t||Dt!==n?(bu=null,Su=cn()+500,ca(t,n)):aa=Pr(t,n);t:do try{if(Bt!==0&&St!==null){n=St;var f=ln;e:switch(Bt){case 1:Bt=0,ln=null,ha(t,n,f,1);break;case 2:case 9:if(Nm(f)){Bt=0,ln=null,Ep(n);break}n=function(){Bt!==2&&Bt!==9||Yt!==t||(Bt=7),Jn(t)},f.then(n,n);break t;case 3:Bt=7;break t;case 4:Bt=5;break t;case 7:Nm(f)?(Bt=0,ln=null,Ep(n)):(Bt=0,ln=null,ha(t,n,f,7));break;case 5:var p=null;switch(St.tag){case 26:p=St.memoizedState;case 5:case 27:var E=St;if(!p||ey(p)){Bt=0,ln=null;var b=E.sibling;if(b!==null)St=b;else{var k=E.return;k!==null?(St=k,wu(k)):St=null}break e}}Bt=0,ln=null,ha(t,n,f,5);break;case 6:Bt=0,ln=null,ha(t,n,f,6);break;case 8:ff(),ne=6;break t;default:throw Error(a(462))}}wE();break}catch(q){pp(t,q)}while(!0);return Ei=is=null,j.H=l,j.A=c,zt=r,St!==null?0:(Yt=null,Dt=0,Yo(),ne)}function wE(){for(;St!==null&&!La();)vp(St)}function vp(t){var n=Qg(t.alternate,t,Ci);t.memoizedProps=t.pendingProps,n===null?wu(t):St=n}function Ep(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Bg(r,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=Bg(r,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:Ch(n);default:Kg(r,n),n=St=Tm(n,Ci),n=Qg(r,n,Ci)}t.memoizedProps=t.pendingProps,n===null?wu(t):St=n}function ha(t,n,r,l){Ei=is=null,Ch(n),na=null,Sl=0;var c=n.return;try{if(gE(t,c,n,r,Dt)){ne=1,yu(t,pn(r,t.current)),St=null;return}}catch(f){if(c!==null)throw St=c,f;ne=1,yu(t,pn(r,t.current)),St=null;return}n.flags&32768?(xt||l===1?t=!0:aa||(Dt&536870912)!==0?t=!1:(nr=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),Tp(n,t)):wu(n)}function wu(t){var n=t;do{if((n.flags&32768)!==0){Tp(n,nr);return}t=n.return;var r=yE(n.alternate,n,Ci);if(r!==null){St=r;return}if(n=n.sibling,n!==null){St=n;return}St=n=t}while(n!==null);ne===0&&(ne=5)}function Tp(t,n){do{var r=_E(t.alternate,t);if(r!==null){r.flags&=32767,St=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){St=t;return}St=t=r}while(t!==null);ne=6,St=null}function Ap(t,n,r,l,c,f,p,E,b){t.cancelPendingCommit=null;do Iu();while(Me!==0);if((zt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=ih,qa(t,r,f,p,E,b),t===Yt&&(St=Yt=null,Dt=0),oa=n,sr=t,ua=r,uf=f,cf=c,fp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,OE(Nr,function(){return Ip(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,c=W.p,W.p=2,p=zt,zt|=4;try{vE(t,n,r)}finally{zt=p,W.p=c,j.T=l}}Me=1,Sp(),bp(),Rp()}}function Sp(){if(Me===1){Me=0;var t=sr,n=oa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=j.T,j.T=null;var l=W.p;W.p=2;var c=zt;zt|=4;try{sp(n,t);var f=wf,p=hm(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&cm(E.ownerDocument.documentElement,E)){if(b!==null&&Jc(E)){var k=b.start,q=b.end;if(q===void 0&&(q=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(q,E.value.length);else{var F=E.ownerDocument||document,z=F&&F.defaultView||window;if(z.getSelection){var B=z.getSelection(),ht=E.textContent.length,ot=Math.min(b.start,ht),Gt=b.end===void 0?ot:Math.min(b.end,ht);!B.extend&&ot>Gt&&(p=Gt,Gt=ot,ot=p);var V=um(E,ot),C=um(E,Gt);if(V&&C&&(B.rangeCount!==1||B.anchorNode!==V.node||B.anchorOffset!==V.offset||B.focusNode!==C.node||B.focusOffset!==C.offset)){var x=F.createRange();x.setStart(V.node,V.offset),B.removeAllRanges(),ot>Gt?(B.addRange(x),B.extend(C.node,C.offset)):(x.setEnd(C.node,C.offset),B.addRange(x))}}}}for(F=[],B=E;B=B.parentNode;)B.nodeType===1&&F.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var G=F[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}zu=!!Rf,wf=Rf=null}finally{zt=c,W.p=l,j.T=r}}t.current=n,Me=2}}function bp(){if(Me===2){Me=0;var t=sr,n=oa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=j.T,j.T=null;var l=W.p;W.p=2;var c=zt;zt|=4;try{ep(t,n.alternate,n)}finally{zt=c,W.p=l,j.T=r}}Me=3}}function Rp(){if(Me===4||Me===3){Me=0,Ao();var t=sr,n=oa,r=ua,l=fp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Me=5:(Me=0,oa=sr=null,wp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(rr=null),Cs(r),n=n.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(te,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=j.T,c=W.p,W.p=2,j.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{j.T=n,W.p=c}}(ua&3)!==0&&Iu(),Jn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===hf?Ml++:(Ml=0,hf=t):Ml=0,Vl(0)}}function wp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,fl(n)))}function Iu(t){return Sp(),bp(),Rp(),Ip()}function Ip(){if(Me!==5)return!1;var t=sr,n=uf;uf=0;var r=Cs(ua),l=j.T,c=W.p;try{W.p=32>r?32:r,j.T=null,r=cf,cf=null;var f=sr,p=ua;if(Me=0,oa=sr=null,ua=0,(zt&6)!==0)throw Error(a(331));var E=zt;if(zt|=4,cp(f.current),lp(f,f.current,p,r),zt=E,Vl(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(te,f)}catch{}return!0}finally{W.p=c,j.T=l,wp(t,n)}}function Cp(t,n,r){n=pn(r,n),n=jh(t.stateNode,n,2),t=Xi(t,n,2),t!==null&&(ai(t,2),Jn(t))}function Ft(t,n,r){if(t.tag===3)Cp(t,t,r);else for(;n!==null;){if(n.tag===3){Cp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rr===null||!rr.has(l))){t=pn(r,t),r=Mg(2),l=Xi(n,r,2),l!==null&&(Vg(r,l,n,t),ai(l,2),Jn(l));break}}n=n.return}}function gf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new AE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(sf=!0,c.add(r),t=IE.bind(null,t,n,r),n.then(t,t))}function IE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Yt===t&&(Dt&r)===r&&(ne===4||ne===3&&(Dt&62914560)===Dt&&300>cn()-of?(zt&2)===0&&ca(t,0):af|=r,la===Dt&&(la=0)),Jn(t)}function Dp(t,n){n===0&&(n=ja()),t=Qs(t,n),t!==null&&(ai(t,n),Jn(t))}function CE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Dp(t,r)}function DE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Dp(t,r)}function OE(t,n){return Dr(t,n)}var Cu=null,fa=null,pf=!1,Du=!1,yf=!1,cs=0;function Jn(t){t!==fa&&t.next===null&&(fa===null?Cu=fa=t:fa=fa.next=t),Du=!0,pf||(pf=!0,ME())}function Vl(t,n){if(!yf&&Du){yf=!0;do for(var r=!1,l=Cu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ke(42|t)+1)-1,f&=c&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Vp(l,f))}else f=Dt,f=Is(l,l===Yt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Pr(l,f)||(r=!0,Vp(l,f));l=l.next}while(r);yf=!1}}function NE(){Op()}function Op(){Du=pf=!1;var t=0;cs!==0&&(BE()&&(t=cs),cs=0);for(var n=cn(),r=null,l=Cu;l!==null;){var c=l.next,f=Np(l,n);f===0?(l.next=null,r===null?Cu=c:r.next=c,c===null&&(fa=r)):(r=l,(t!==0||(f&3)!==0)&&(Du=!0)),l=c}Vl(t)}function Np(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-ke(f),E=1<<p,b=c[p];b===-1?((E&r)===0||(E&l)!==0)&&(c[p]=Ba(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=Yt,r=Dt,r=Is(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Bt===2||Bt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Or(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Pr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Or(l),Cs(r)){case 2:case 8:r=Rs;break;case 32:r=Nr;break;case 268435456:r=ws;break;default:r=Nr}return l=Mp.bind(null,t),r=Dr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Or(l),t.callbackPriority=2,t.callbackNode=null,2}function Mp(t,n){if(Me!==0&&Me!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Iu()&&t.callbackNode!==r)return null;var l=Dt;return l=Is(t,t===Yt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(mp(t,l,n),Np(t,cn()),t.callbackNode!=null&&t.callbackNode===r?Mp.bind(null,t):null)}function Vp(t,n){if(Iu())return null;mp(t,n,!0)}function ME(){jE(function(){(zt&6)!==0?Dr(ka,NE):Op()})}function _f(){return cs===0&&(cs=Ha()),cs}function Up(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Us(""+t)}function Pp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function VE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Up((c[ce]||null).action),p=l.submitter;p&&(n=(n=p[ce]||null)?Up(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Ps("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(cs!==0){var b=p?Pp(c,p):new FormData(c);Lh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=p?Pp(c,p):new FormData(c),Lh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var vf=0;vf<nh.length;vf++){var Ef=nh[vf],UE=Ef.toLowerCase(),PE=Ef[0].toUpperCase()+Ef.slice(1);In(UE,"on"+PE)}In(mm,"onAnimationEnd"),In(gm,"onAnimationIteration"),In(pm,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(J0,"onTransitionRun"),In(W0,"onTransitionStart"),In(tE,"onTransitionCancel"),In(ym,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),Rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function xp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],b=E.instance,k=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=k;try{f(c)}catch(q){pu(q)}c.currentTarget=null,f=b}else for(p=0;p<l.length;p++){if(E=l[p],b=E.instance,k=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=k;try{f(c)}catch(q){pu(q)}c.currentTarget=null,f=b}}}}function bt(t,n){var r=n[Fa];r===void 0&&(r=n[Fa]=new Set);var l=t+"__bubble";r.has(l)||(Lp(n,t,2,!1),r.add(l))}function Tf(t,n,r){var l=0;n&&(l|=4),Lp(r,t,l,n)}var Ou="_reactListening"+Math.random().toString(36).slice(2);function Af(t){if(!t[Ou]){t[Ou]=!0,Qa.forEach(function(r){r!=="selectionchange"&&(xE.has(r)||Tf(r,!1,t),Tf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ou]||(n[Ou]=!0,Tf("selectionchange",!1,n))}}function Lp(t,n,r,l){switch(ly(n)){case 2:var c=uT;break;case 8:c=cT;break;default:c=xf}r=c.bind(null,n,r,t),c=void 0,!mn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Sf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===c)break;if(p===4)for(p=l.return;p!==null;){var b=p.tag;if((b===3||b===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;E!==null;){if(p=li(E),p===null)return;if(b=p.tag,b===5||b===6||b===26||b===27){l=f=p;continue t}E=E.parentNode}}l=l.return}Mo(function(){var k=f,q=dn(r),F=[];t:{var z=_m.get(t);if(z!==void 0){var B=Ps,ht=t;switch(t){case"keypress":if(qn(r)===0)break t;case"keydown":case"keyup":B=Hs;break;case"focusin":ht="focus",B=ks;break;case"focusout":ht="blur",B=ks;break;case"beforeblur":case"afterblur":B=ks;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Kc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Bo;break;case mm:case gm:case pm:B=zs;break;case ym:B=jo;break;case"scroll":case"scrollend":B=Vo;break;case"wheel":B=js;break;case"copy":case"cut":case"paste":B=Bs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=rl;break;case"toggle":case"beforetoggle":B=Go}var ot=(n&4)!==0,Gt=!ot&&(t==="scroll"||t==="scrollend"),V=ot?z!==null?z+"Capture":null:z;ot=[];for(var C=k,x;C!==null;){var G=C;if(x=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||x===null||V===null||(G=qr(C,V),G!=null&&ot.push(Pl(C,G,x))),Gt)break;C=C.return}0<ot.length&&(z=new B(z,ht,null,r,q),F.push({event:z,listeners:ot}))}}if((n&7)===0){t:{if(z=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",z&&r!==hi&&(ht=r.relatedTarget||r.fromElement)&&(li(ht)||ht[hn]))break t;if((B||z)&&(z=q.window===q?q:(z=q.ownerDocument)?z.defaultView||z.parentWindow:window,B?(ht=r.relatedTarget||r.toElement,B=k,ht=ht?li(ht):null,ht!==null&&(Gt=h(ht),ot=ht.tag,ht!==Gt||ot!==5&&ot!==27&&ot!==6)&&(ht=null)):(B=null,ht=k),B!==ht)){if(ot=gn,G="onMouseLeave",V="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(ot=rl,G="onPointerLeave",V="onPointerEnter",C="pointer"),Gt=B==null?z:zn(B),x=ht==null?z:zn(ht),z=new ot(G,C+"leave",B,r,q),z.target=Gt,z.relatedTarget=x,G=null,li(q)===k&&(ot=new ot(V,C+"enter",ht,r,q),ot.target=x,ot.relatedTarget=Gt,G=ot),Gt=G,B&&ht)e:{for(ot=B,V=ht,C=0,x=ot;x;x=da(x))C++;for(x=0,G=V;G;G=da(G))x++;for(;0<C-x;)ot=da(ot),C--;for(;0<x-C;)V=da(V),x--;for(;C--;){if(ot===V||V!==null&&ot===V.alternate)break e;ot=da(ot),V=da(V)}ot=null}else ot=null;B!==null&&kp(F,z,B,ot,!1),ht!==null&&Gt!==null&&kp(F,Gt,ht,ot,!0)}}t:{if(z=k?zn(k):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var nt=im;else if(ye(z))if(rm)nt=X0;else{nt=Y0;var Tt=Q0}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?k&&$a(k.elementType)&&(nt=im):nt=K0;if(nt&&(nt=nt(t,k))){pi(F,nt,r,q);break t}Tt&&Tt(t,z,k),t==="focusout"&&k&&z.type==="number"&&k.memoizedProps.value!=null&&Gi(z,"number",z.value)}switch(Tt=k?zn(k):window,t){case"focusin":(ye(Tt)||Tt.contentEditable==="true")&&(qs=Tt,Wc=k,ll=null);break;case"focusout":ll=Wc=qs=null;break;case"mousedown":th=!0;break;case"contextmenu":case"mouseup":case"dragend":th=!1,fm(F,r,q);break;case"selectionchange":if($0)break;case"keydown":case"keyup":fm(F,r,q)}var st;if(Qn)t:{switch(t){case"compositionstart":var ut="onCompositionStart";break t;case"compositionend":ut="onCompositionEnd";break t;case"compositionupdate":ut="onCompositionUpdate";break t}ut=void 0}else It?H(t,r)&&(ut="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ut="onCompositionStart");ut&&(g&&r.locale!=="ko"&&(It||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&It&&(st=Wa()):(jn=q,Fi="value"in jn?jn.value:jn.textContent,It=!0)),Tt=Nu(k,ut),0<Tt.length&&(ut=new nl(ut,t,null,r,q),F.push({event:ut,listeners:Tt}),st?ut.data=st:(st=J(r),st!==null&&(ut.data=st)))),(st=m?pe(t,r):Ct(t,r))&&(ut=Nu(k,"onBeforeInput"),0<ut.length&&(Tt=new nl("onBeforeInput","beforeinput",null,r,q),F.push({event:Tt,listeners:ut}),Tt.data=st)),VE(F,t,k,r,q)}xp(F,n)})}function Pl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Nu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=qr(t,r),c!=null&&l.unshift(Pl(t,c,f)),c=qr(t,n),c!=null&&l.push(Pl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function da(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function kp(t,n,r,l,c){for(var f=n._reactName,p=[];r!==null&&r!==l;){var E=r,b=E.alternate,k=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||k===null||(b=k,c?(k=qr(r,f),k!=null&&p.unshift(Pl(r,k,b))):c||(k=qr(r,f),k!=null&&p.push(Pl(r,k,b)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var LE=/\r\n?/g,kE=/\u0000|\uFFFD/g;function zp(t){return(typeof t=="string"?t:""+t).replace(LE,`
`).replace(kE,"")}function Bp(t,n){return n=zp(n),zp(t)===n}function Mu(){}function qt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||fn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&fn(t,""+l);break;case"className":Bn(t,"class",l);break;case"tabIndex":Bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(t,r,l);break;case"style":Za(t,l,f);break;case"data":if(n!=="object"){Bn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Us(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&qt(t,n,"name",c.name,c,null),qt(t,n,"formEncType",c.formEncType,c,null),qt(t,n,"formMethod",c.formMethod,c,null),qt(t,n,"formTarget",c.formTarget,c,null)):(qt(t,n,"encType",c.encType,c,null),qt(t,n,"method",c.method,c,null),qt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Us(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Mu);break;case"onScroll":l!=null&&bt("scroll",t);break;case"onScrollEnd":l!=null&&bt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Us(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":bt("beforetoggle",t),bt("toggle",t),qi(t,"popover",l);break;case"xlinkActuate":De(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":De(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":De(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":De(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":De(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":De(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":De(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":De(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":De(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":qi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Qc.get(r)||r,qi(t,r,l))}}function bf(t,n,r,l,c,f){switch(r){case"style":Za(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?fn(t,l):(typeof l=="number"||typeof l=="bigint")&&fn(t,""+l);break;case"onScroll":l!=null&&bt("scroll",t);break;case"onScrollEnd":l!=null&&bt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Mu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ds.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[ce]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):qi(t,r,l)}}}function Ve(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",t),bt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:qt(t,n,f,p,r,null)}}c&&qt(t,n,"srcSet",r.srcSet,r,null),l&&qt(t,n,"src",r.src,r,null);return;case"input":bt("invalid",t);var E=f=p=c=null,b=null,k=null;for(l in r)if(r.hasOwnProperty(l)){var q=r[l];if(q!=null)switch(l){case"name":c=q;break;case"type":p=q;break;case"checked":b=q;break;case"defaultChecked":k=q;break;case"value":f=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:qt(t,n,l,q,r,null)}}Br(t,f,E,b,k,p,c,!1),Vs(t);return;case"select":bt("invalid",t),l=p=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:qt(t,n,c,E,r,null)}n=f,r=p,t.multiple=!!l,n!=null?ci(t,!!l,n,!1):r!=null&&ci(t,!!l,r,!0);return;case"textarea":bt("invalid",t),f=c=l=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:qt(t,n,p,E,r,null)}Hr(t,l,c,f),Vs(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:qt(t,n,b,l,r,null)}return;case"dialog":bt("beforetoggle",t),bt("toggle",t),bt("cancel",t),bt("close",t);break;case"iframe":case"object":bt("load",t);break;case"video":case"audio":for(l=0;l<Ul.length;l++)bt(Ul[l],t);break;case"image":bt("error",t),bt("load",t);break;case"details":bt("toggle",t);break;case"embed":case"source":case"link":bt("error",t),bt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in r)if(r.hasOwnProperty(k)&&(l=r[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:qt(t,n,k,l,r,null)}return;default:if($a(n)){for(q in r)r.hasOwnProperty(q)&&(l=r[q],l!==void 0&&bf(t,n,q,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&qt(t,n,E,l,r,null))}function zE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,E=null,b=null,k=null,q=null;for(B in r){var F=r[B];if(r.hasOwnProperty(B)&&F!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=F;default:l.hasOwnProperty(B)||qt(t,n,B,null,l,F)}}for(var z in l){var B=l[z];if(F=r[z],l.hasOwnProperty(z)&&(B!=null||F!=null))switch(z){case"type":f=B;break;case"name":c=B;break;case"checked":k=B;break;case"defaultChecked":q=B;break;case"value":p=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==F&&qt(t,n,z,B,l,F)}}en(t,p,E,b,k,q,f,c);return;case"select":B=p=E=z=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":B=b;default:l.hasOwnProperty(f)||qt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==b&&qt(t,n,c,f,l,b)}n=E,r=p,l=B,z!=null?ci(t,!!r,z,!1):!!l!=!!r&&(n!=null?ci(t,!!r,n,!0):ci(t,!!r,r?[]:"",!1));return;case"textarea":B=z=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:qt(t,n,E,null,l,c)}for(p in l)if(c=l[p],f=r[p],l.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":z=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&qt(t,n,p,c,l,f)}Ht(t,z,B);return;case"option":for(var ht in r)if(z=r[ht],r.hasOwnProperty(ht)&&z!=null&&!l.hasOwnProperty(ht))switch(ht){case"selected":t.selected=!1;break;default:qt(t,n,ht,null,l,z)}for(b in l)if(z=l[b],B=r[b],l.hasOwnProperty(b)&&z!==B&&(z!=null||B!=null))switch(b){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:qt(t,n,b,z,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in r)z=r[ot],r.hasOwnProperty(ot)&&z!=null&&!l.hasOwnProperty(ot)&&qt(t,n,ot,null,l,z);for(k in l)if(z=l[k],B=r[k],l.hasOwnProperty(k)&&z!==B&&(z!=null||B!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:qt(t,n,k,z,l,B)}return;default:if($a(n)){for(var Gt in r)z=r[Gt],r.hasOwnProperty(Gt)&&z!==void 0&&!l.hasOwnProperty(Gt)&&bf(t,n,Gt,void 0,l,z);for(q in l)z=l[q],B=r[q],!l.hasOwnProperty(q)||z===B||z===void 0&&B===void 0||bf(t,n,q,z,l,B);return}}for(var V in r)z=r[V],r.hasOwnProperty(V)&&z!=null&&!l.hasOwnProperty(V)&&qt(t,n,V,null,l,z);for(F in l)z=l[F],B=r[F],!l.hasOwnProperty(F)||z===B||z==null&&B==null||qt(t,n,F,z,l,B)}var Rf=null,wf=null;function Vu(t){return t.nodeType===9?t:t.ownerDocument}function Hp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function If(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Cf=null;function BE(){var t=window.event;return t&&t.type==="popstate"?t===Cf?!1:(Cf=t,!0):(Cf=null,!1)}var qp=typeof setTimeout=="function"?setTimeout:void 0,HE=typeof clearTimeout=="function"?clearTimeout:void 0,Gp=typeof Promise=="function"?Promise:void 0,jE=typeof queueMicrotask=="function"?queueMicrotask:typeof Gp<"u"?function(t){return Gp.resolve(null).then(t).catch(qE)}:qp;function qE(t){setTimeout(function(){throw t})}function lr(t){return t==="head"}function Fp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var p=t.ownerDocument;if(r&1&&xl(p.documentElement),r&2&&xl(p.body),r&4)for(r=p.head,xl(r),p=r.firstChild;p;){var E=p.nextSibling,b=p.nodeName;p[xr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&p.rel.toLowerCase()==="stylesheet"||r.removeChild(p),p=E}}if(c===0){t.removeChild(f),Gl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Gl(n)}function Df(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Df(r),ji(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function GE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[xr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Dn(t.nextSibling),t===null)break}return null}function FE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Dn(t.nextSibling),t===null))return null;return t}function Of(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function QE(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Dn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Nf=null;function Qp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Yp(t,n,r){switch(n=Vu(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function xl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ji(t)}var An=new Map,Kp=new Set;function Uu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Di=W.d;W.d={f:YE,r:KE,D:XE,C:ZE,L:$E,m:JE,X:tT,S:WE,M:eT};function YE(){var t=Di.f(),n=Ru();return t||n}function KE(t){var n=kn(t);n!==null&&n.tag===5&&n.type==="form"?mg(n):Di.r(t)}var ma=typeof document>"u"?null:document;function Xp(t,n,r){var l=ma;if(l&&typeof n=="string"&&n){var c=he(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Kp.has(c)||(Kp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Ve(n,"link",t),se(n),l.head.appendChild(n)))}}function XE(t){Di.D(t),Xp("dns-prefetch",t,null)}function ZE(t,n){Di.C(t,n),Xp("preconnect",t,n)}function $E(t,n,r){Di.L(t,n,r);var l=ma;if(l&&t&&n){var c='link[rel="preload"][as="'+he(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+he(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+he(r.imageSizes)+'"]')):c+='[href="'+he(t)+'"]';var f=c;switch(n){case"style":f=ga(t);break;case"script":f=pa(t)}An.has(f)||(t=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),An.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ll(f))||n==="script"&&l.querySelector(kl(f))||(n=l.createElement("link"),Ve(n,"link",t),se(n),l.head.appendChild(n)))}}function JE(t,n){Di.m(t,n);var r=ma;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+he(l)+'"][href="'+he(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=pa(t)}if(!An.has(f)&&(t=S({rel:"modulepreload",href:t},n),An.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(kl(f)))return}l=r.createElement("link"),Ve(l,"link",t),se(l),r.head.appendChild(l)}}}function WE(t,n,r){Di.S(t,n,r);var l=ma;if(l&&t){var c=Fe(l).hoistableStyles,f=ga(t);n=n||"default";var p=c.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(Ll(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},r),(r=An.get(f))&&Mf(t,r);var b=p=l.createElement("link");se(b),Ve(b,"link",t),b._p=new Promise(function(k,q){b.onload=k,b.onerror=q}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Pu(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},c.set(f,p)}}}function tT(t,n){Di.X(t,n);var r=ma;if(r&&t){var l=Fe(r).hoistableScripts,c=pa(t),f=l.get(c);f||(f=r.querySelector(kl(c)),f||(t=S({src:t,async:!0},n),(n=An.get(c))&&Vf(t,n),f=r.createElement("script"),se(f),Ve(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function eT(t,n){Di.M(t,n);var r=ma;if(r&&t){var l=Fe(r).hoistableScripts,c=pa(t),f=l.get(c);f||(f=r.querySelector(kl(c)),f||(t=S({src:t,async:!0,type:"module"},n),(n=An.get(c))&&Vf(t,n),f=r.createElement("script"),se(f),Ve(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Zp(t,n,r,l){var c=(c=mt.current)?Uu(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ga(r.href),r=Fe(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ga(r.href);var f=Fe(c).hoistableStyles,p=f.get(t);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=c.querySelector(Ll(t)))&&!f._p&&(p.instance=f,p.state.loading=5),An.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},An.set(t,r),f||nT(c,t,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=pa(r),r=Fe(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ga(t){return'href="'+he(t)+'"'}function Ll(t){return'link[rel="stylesheet"]['+t+"]"}function $p(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function nT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ve(n,"link",r),se(n),t.head.appendChild(n))}function pa(t){return'[src="'+he(t)+'"]'}function kl(t){return"script[async]"+t}function Jp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+he(r.href)+'"]');if(l)return n.instance=l,se(l),l;var c=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),se(l),Ve(l,"style",c),Pu(l,r.precedence,t),n.instance=l;case"stylesheet":c=ga(r.href);var f=t.querySelector(Ll(c));if(f)return n.state.loading|=4,n.instance=f,se(f),f;l=$p(r),(c=An.get(c))&&Mf(l,c),f=(t.ownerDocument||t).createElement("link"),se(f);var p=f;return p._p=new Promise(function(E,b){p.onload=E,p.onerror=b}),Ve(f,"link",l),n.state.loading|=4,Pu(f,r.precedence,t),n.instance=f;case"script":return f=pa(r.src),(c=t.querySelector(kl(f)))?(n.instance=c,se(c),c):(l=r,(c=An.get(f))&&(l=S({},r),Vf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),se(c),Ve(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Pu(l,r.precedence,t));return n.instance}function Pu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Mf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Vf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var xu=null;function Wp(t,n,r){if(xu===null){var l=new Map,c=xu=new Map;c.set(r,l)}else c=xu,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[xr]||f[ge]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function ty(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function iT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ey(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var zl=null;function rT(){}function sT(t,n,r){if(zl===null)throw Error(a(475));var l=zl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ga(r.href),f=t.querySelector(Ll(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Lu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,se(f);return}f=t.ownerDocument||t,r=$p(r),(c=An.get(c))&&Mf(r,c),f=f.createElement("link"),se(f);var p=f;p._p=new Promise(function(E,b){p.onload=E,p.onerror=b}),Ve(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Lu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function aT(){if(zl===null)throw Error(a(475));var t=zl;return t.stylesheets&&t.count===0&&Uf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Uf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Lu(){if(this.count--,this.count===0){if(this.stylesheets)Uf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ku=null;function Uf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ku=new Map,n.forEach(lT,t),ku=null,Lu.call(t))}function lT(t,n){if(!(n.state.loading&4)){var r=ku.get(t);if(r)var l=r.get(null);else{r=new Map,ku.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}c=n.instance,p=c.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,c),r.set(p,c),this.count++,l=Lu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Bl={$$typeof:dt,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function oT(t,n,r,l,c,f,p,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ny(t,n,r,l,c,f,p,E,b,k,q,F){return t=new oT(t,n,r,p,E,b,k,F),n=1,f===!0&&(n|=24),f=rn(3,null,null,n),t.current=f,f.stateNode=t,n=mh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},_h(f),t}function iy(t){return t?(t=Ys,t):Ys}function ry(t,n,r,l,c,f){c=iy(c),l.context===null?l.context=c:l.pendingContext=c,l=Ki(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Xi(t,l,n),r!==null&&(un(r,t,n),pl(r,t,n))}function sy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Pf(t,n){sy(t,n),(t=t.alternate)&&sy(t,n)}function ay(t){if(t.tag===13){var n=Qs(t,67108864);n!==null&&un(n,t,67108864),Pf(t,67108864)}}var zu=!0;function uT(t,n,r,l){var c=j.T;j.T=null;var f=W.p;try{W.p=2,xf(t,n,r,l)}finally{W.p=f,j.T=c}}function cT(t,n,r,l){var c=j.T;j.T=null;var f=W.p;try{W.p=8,xf(t,n,r,l)}finally{W.p=f,j.T=c}}function xf(t,n,r,l){if(zu){var c=Lf(l);if(c===null)Sf(t,n,l,Bu,r),oy(t,l);else if(fT(c,t,n,r,l))l.stopPropagation();else if(oy(t,l),n&4&&-1<hT.indexOf(t)){for(;c!==null;){var f=kn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=bn(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var b=1<<31-ke(p);E.entanglements[1]|=b,p&=~b}Jn(f),(zt&6)===0&&(Su=cn()+500,Vl(0))}}break;case 13:E=Qs(f,2),E!==null&&un(E,f,2),Ru(),Pf(f,2)}if(f=Lf(l),f===null&&Sf(t,n,l,Bu,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Sf(t,n,l,null,r)}}function Lf(t){return t=dn(t),kf(t)}var Bu=null;function kf(t){if(Bu=null,t=li(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Bu=t,null}function ly(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bc()){case ka:return 2;case Rs:return 8;case Nr:case Hc:return 32;case ws:return 268435456;default:return 32}default:return 32}}var zf=!1,or=null,ur=null,cr=null,Hl=new Map,jl=new Map,hr=[],hT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oy(t,n){switch(t){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":Hl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(n.pointerId)}}function ql(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=kn(n),n!==null&&ay(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function fT(t,n,r,l,c){switch(n){case"focusin":return or=ql(or,t,n,r,l,c),!0;case"dragenter":return ur=ql(ur,t,n,r,l,c),!0;case"mouseover":return cr=ql(cr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Hl.set(f,ql(Hl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,jl.set(f,ql(jl.get(f)||null,t,n,r,l,c)),!0}return!1}function uy(t){var n=li(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Ro(t.priority,function(){if(r.tag===13){var l=on();l=zi(l);var c=Qs(r,l);c!==null&&un(c,r,l),Pf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Lf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);hi=l,r.target.dispatchEvent(l),hi=null}else return n=kn(r),n!==null&&ay(n),t.blockedOn=r,!1;n.shift()}return!0}function cy(t,n,r){Hu(t)&&r.delete(n)}function dT(){zf=!1,or!==null&&Hu(or)&&(or=null),ur!==null&&Hu(ur)&&(ur=null),cr!==null&&Hu(cr)&&(cr=null),Hl.forEach(cy),jl.forEach(cy)}function ju(t,n){t.blockedOn===n&&(t.blockedOn=null,zf||(zf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,dT)))}var qu=null;function hy(t){qu!==t&&(qu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){qu===t&&(qu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(kf(l||r)===null)continue;break}var f=kn(r);f!==null&&(t.splice(n,3),n-=3,Lh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Gl(t){function n(b){return ju(b,t)}or!==null&&ju(or,t),ur!==null&&ju(ur,t),cr!==null&&ju(cr,t),Hl.forEach(n),jl.forEach(n);for(var r=0;r<hr.length;r++){var l=hr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<hr.length&&(r=hr[0],r.blockedOn===null);)uy(r),r.blockedOn===null&&hr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],p=c[ce]||null;if(typeof f=="function")p||hy(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[ce]||null)E=p.formAction;else if(kf(c)!==null)continue}else E=p.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),hy(r)}}}function Bf(t){this._internalRoot=t}Gu.prototype.render=Bf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=on();ry(r,l,t,n,null,null)},Gu.prototype.unmount=Bf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ry(t.current,2,null,t,null,null),Ru(),n[hn]=null}};function Gu(t){this._internalRoot=t}Gu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Bi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<hr.length&&n!==0&&n<hr[r].priority;r++);hr.splice(r,0,t),r===0&&uy(t)}};var fy=e.version;if(fy!=="19.1.0")throw Error(a(527,fy,"19.1.0"));W.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var mT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fu.isDisabled&&Fu.supportsFiber)try{te=Fu.inject(mT),kt=Fu}catch{}}return Ql.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",c=Cg,f=Dg,p=Og,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=ny(t,1,!1,null,null,r,l,c,f,p,E,null),t[hn]=n.current,Af(t),new Bf(n)},Ql.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,c="",f=Cg,p=Dg,E=Og,b=null,k=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(k=r.formState)),n=ny(t,1,!0,n,r??null,l,c,f,p,E,b,k),n.context=iy(null),r=n.current,l=on(),l=zi(l),c=Ki(l),c.callback=null,Xi(r,c,l),r=l,n.current.lanes=r,ai(n,r),Jn(n),t[hn]=n.current,Af(t),new Gu(n)},Ql.version="19.1.0",Ql}var Ay;function bT(){if(Ay)return qf.exports;Ay=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),qf.exports=ST(),qf.exports}var RT=bT();const wT=()=>{};var Sy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},IT=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],y=s[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},G_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,y=d?s[o+1]:0,_=o+2<s.length,v=_?s[o+2]:0,S=h>>2,N=(h&3)<<4|y>>4;let L=(y&15)<<2|v>>6,Z=v&63;_||(Z=64,d||(L=64)),a.push(i[S],i[N],i[L],i[Z])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(q_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):IT(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],y=o<s.length?i[s.charAt(o)]:0;++o;const v=o<s.length?i[s.charAt(o)]:64;++o;const N=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||y==null||v==null||N==null)throw new CT;const L=h<<2|y>>4;if(a.push(L),v!==64){const Z=y<<4&240|v>>2;if(a.push(Z),N!==64){const $=v<<6&192|N;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class CT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DT=function(s){const e=q_(s);return G_.encodeByteArray(e,!0)},ac=function(s){return DT(s).replace(/\./g,"")},F_=function(s){try{return G_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=()=>OT().__FIREBASE_DEFAULTS__,MT=()=>{if(typeof process>"u"||typeof Sy>"u")return;const s=Sy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},VT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&F_(s[1]);return e&&JSON.parse(e)},wc=()=>{try{return wT()||NT()||MT()||VT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Q_=s=>{var e,i;return(i=(e=wc())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},UT=s=>{const e=Q_(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Y_=()=>{var s;return(s=wc())===null||s===void 0?void 0:s.config},K_=s=>{var e;return(e=wc())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(s){return s.endsWith(".cloudworkstations.dev")}async function X_(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[ac(JSON.stringify(i)),ac(JSON.stringify(d)),""].join(".")}const $l={};function LT(){const s={prod:[],emulator:[]};for(const e of Object.keys($l))$l[e]?s.emulator.push(e):s.prod.push(e);return s}function kT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let by=!1;function Z_(s,e){if(typeof window>"u"||typeof document>"u"||!Na(window.location.host)||$l[s]===e||$l[s]||by)return;$l[s]=e;function i(L){return`__firebase__banner__${L}`}const a="__firebase__banner",h=LT().prod.length>0;function d(){const L=document.getElementById(a);L&&L.remove()}function y(L){L.style.display="flex",L.style.background="#7faaf0",L.style.position="fixed",L.style.bottom="5px",L.style.left="5px",L.style.padding=".5em",L.style.borderRadius="5px",L.style.alignItems="center"}function _(L,Z){L.setAttribute("width","24"),L.setAttribute("id",Z),L.setAttribute("height","24"),L.setAttribute("viewBox","0 0 24 24"),L.setAttribute("fill","none"),L.style.marginLeft="-6px"}function v(){const L=document.createElement("span");return L.style.cursor="pointer",L.style.marginLeft="16px",L.style.fontSize="24px",L.innerHTML=" &times;",L.onclick=()=>{by=!0,d()},L}function S(L,Z){L.setAttribute("id",Z),L.innerText="Learn more",L.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",L.setAttribute("target","__blank"),L.style.paddingLeft="5px",L.style.textDecoration="underline"}function N(){const L=kT(a),Z=i("text"),$=document.getElementById(Z)||document.createElement("span"),rt=i("learnmore"),et=document.getElementById(rt)||document.createElement("a"),wt=i("preprendIcon"),gt=document.getElementById(wt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(L.created){const dt=L.element;y(dt),S(et,rt);const Nt=v();_(gt,wt),dt.append(gt,$,et,Nt),document.body.appendChild(dt)}h?($.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",Z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",N):N()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function BT(){var s;const e=(s=wc())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jT(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function qT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GT(){const s=Ge();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function FT(){return!BT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QT(){try{return typeof indexedDB=="object"}catch{return!1}}function YT(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="FirebaseError";class Li extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=KT,Object.setPrototypeOf(this,Li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ho.prototype.create)}}class ho{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?XT(h,a):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Li(o,y,a)}}function XT(s,e){return s.replace(ZT,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const ZT=/\{\$([^}]+)}/g;function $T(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function gs(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const h=s[o],d=e[o];if(Ry(h)&&Ry(d)){if(!gs(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Ry(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Kl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,h]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(h)}}),e}function Xl(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function JT(s,e){const i=new WT(s,e);return i.subscribe.bind(i)}class WT{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");tA(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Yf),o.error===void 0&&(o.error=Yf),o.complete===void 0&&(o.complete=Yf);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),h}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Yf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(s){return s&&s._delegate?s._delegate:s}class ps{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new PT;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iA(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);a===y&&d.resolve(o)}return o}onInit(e,i){var a;const o=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:nA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nA(s){return s===hs?void 0:s}function iA(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new eA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Rt||(Rt={}));const sA={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},aA=Rt.INFO,lA={[Rt.DEBUG]:"log",[Rt.VERBOSE]:"log",[Rt.INFO]:"info",[Rt.WARN]:"warn",[Rt.ERROR]:"error"},oA=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=lA[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bd{constructor(e){this.name=e,this._logLevel=aA,this._logHandler=oA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rt.DEBUG,...e),this._logHandler(this,Rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rt.VERBOSE,...e),this._logHandler(this,Rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rt.INFO,...e),this._logHandler(this,Rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rt.WARN,...e),this._logHandler(this,Rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rt.ERROR,...e),this._logHandler(this,Rt.ERROR,...e)}}const uA=(s,e)=>e.some(i=>s instanceof i);let wy,Iy;function cA(){return wy||(wy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hA(){return Iy||(Iy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $_=new WeakMap,id=new WeakMap,J_=new WeakMap,Kf=new WeakMap,Rd=new WeakMap;function fA(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(_r(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&$_.set(i,s)}).catch(()=>{}),Rd.set(e,s),e}function dA(s){if(id.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});id.set(s,e)}let rd={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return id.get(s);if(e==="objectStoreNames")return s.objectStoreNames||J_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return _r(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function mA(s){rd=s(rd)}function gA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Xf(this),e,...i);return J_.set(a,e.sort?e.sort():[e]),_r(a)}:hA().includes(s)?function(...e){return s.apply(Xf(this),e),_r($_.get(this))}:function(...e){return _r(s.apply(Xf(this),e))}}function pA(s){return typeof s=="function"?gA(s):(s instanceof IDBTransaction&&dA(s),uA(s,cA())?new Proxy(s,rd):s)}function _r(s){if(s instanceof IDBRequest)return fA(s);if(Kf.has(s))return Kf.get(s);const e=pA(s);return e!==s&&(Kf.set(s,e),Rd.set(e,s)),e}const Xf=s=>Rd.get(s);function yA(s,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),y=_r(d);return a&&d.addEventListener("upgradeneeded",_=>{a(_r(d.result),_.oldVersion,_.newVersion,_r(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),y.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),y}const _A=["get","getKey","getAll","getAllKeys","count"],vA=["put","add","delete","clear"],Zf=new Map;function Cy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Zf.get(e))return Zf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=vA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||_A.includes(i)))return;const h=async function(d,...y){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(y.shift())),(await Promise.all([v[i](...y),o&&_.done]))[0]};return Zf.set(e,h),h}mA(s=>({...s,get:(e,i,a)=>Cy(e,i)||s.get(e,i,a),has:(e,i)=>!!Cy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(TA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function TA(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sd="@firebase/app",Dy="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new bd("@firebase/app"),AA="@firebase/app-compat",SA="@firebase/analytics-compat",bA="@firebase/analytics",RA="@firebase/app-check-compat",wA="@firebase/app-check",IA="@firebase/auth",CA="@firebase/auth-compat",DA="@firebase/database",OA="@firebase/data-connect",NA="@firebase/database-compat",MA="@firebase/functions",VA="@firebase/functions-compat",UA="@firebase/installations",PA="@firebase/installations-compat",xA="@firebase/messaging",LA="@firebase/messaging-compat",kA="@firebase/performance",zA="@firebase/performance-compat",BA="@firebase/remote-config",HA="@firebase/remote-config-compat",jA="@firebase/storage",qA="@firebase/storage-compat",GA="@firebase/firestore",FA="@firebase/ai",QA="@firebase/firestore-compat",YA="firebase",KA="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad="[DEFAULT]",XA={[sd]:"fire-core",[AA]:"fire-core-compat",[bA]:"fire-analytics",[SA]:"fire-analytics-compat",[wA]:"fire-app-check",[RA]:"fire-app-check-compat",[IA]:"fire-auth",[CA]:"fire-auth-compat",[DA]:"fire-rtdb",[OA]:"fire-data-connect",[NA]:"fire-rtdb-compat",[MA]:"fire-fn",[VA]:"fire-fn-compat",[UA]:"fire-iid",[PA]:"fire-iid-compat",[xA]:"fire-fcm",[LA]:"fire-fcm-compat",[kA]:"fire-perf",[zA]:"fire-perf-compat",[BA]:"fire-rc",[HA]:"fire-rc-compat",[jA]:"fire-gcs",[qA]:"fire-gcs-compat",[GA]:"fire-fst",[QA]:"fire-fst-compat",[FA]:"fire-vertex","fire-js":"fire-js",[YA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=new Map,ZA=new Map,ld=new Map;function Oy(s,e){try{s.container.addComponent(e)}catch(i){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ba(s){const e=s.name;if(ld.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;ld.set(e,s);for(const i of lc.values())Oy(i,s);for(const i of ZA.values())Oy(i,s);return!0}function wd(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Nn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vr=new ho("app","Firebase",$A);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=KA;function W_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:ad,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw vr.create("bad-app-name",{appName:String(o)});if(i||(i=Y_()),!i)throw vr.create("no-options");const h=lc.get(o);if(h){if(gs(i,h.options)&&gs(a,h.config))return h;throw vr.create("duplicate-app",{appName:o})}const d=new rA(o);for(const _ of ld.values())d.addComponent(_);const y=new JA(i,a,d);return lc.set(o,y),y}function tv(s=ad){const e=lc.get(s);if(!e&&s===ad&&Y_())return W_();if(!e)throw vr.create("no-app",{appName:s});return e}function Er(s,e,i){var a;let o=(a=XA[s])!==null&&a!==void 0?a:s;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const y=[`Unable to register library "${o}" with version "${e}":`];h&&y.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&y.push("and"),d&&y.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(y.join(" "));return}ba(new ps(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="firebase-heartbeat-database",t1=1,io="firebase-heartbeat-store";let $f=null;function ev(){return $f||($f=yA(WA,t1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(io)}catch(i){console.warn(i)}}}}).catch(s=>{throw vr.create("idb-open",{originalErrorMessage:s.message})})),$f}async function e1(s){try{const i=(await ev()).transaction(io),a=await i.objectStore(io).get(nv(s));return await i.done,a}catch(e){if(e instanceof Li)Pi.warn(e.message);else{const i=vr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pi.warn(i.message)}}}async function Ny(s,e){try{const a=(await ev()).transaction(io,"readwrite");await a.objectStore(io).put(e,nv(s)),await a.done}catch(i){if(i instanceof Li)Pi.warn(i.message);else{const a=vr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Pi.warn(a.message)}}}function nv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=1024,i1=30;class r1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new a1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=My();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>i1){const d=l1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Pi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=My(),{heartbeatsToSend:a,unsentEntries:o}=s1(this._heartbeatsCache.heartbeats),h=ac(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Pi.warn(i),""}}}function My(){return new Date().toISOString().substring(0,10)}function s1(s,e=n1){const i=[];let a=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Vy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Vy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class a1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QT()?YT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await e1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ny(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ny(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Vy(s){return ac(JSON.stringify({version:2,heartbeats:s})).length}function l1(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(s){ba(new ps("platform-logger",e=>new EA(e),"PRIVATE")),ba(new ps("heartbeat",e=>new r1(e),"PRIVATE")),Er(sd,Dy,s),Er(sd,Dy,"esm2017"),Er("fire-js","")}o1("");var u1="firebase",c1="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er(u1,c1,"app");function Id(s,e){var i={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&e.indexOf(a)<0&&(i[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(s);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(s,a[o])&&(i[a[o]]=s[a[o]]);return i}function iv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const h1=iv,rv=new ho("auth","Firebase",iv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new bd("@firebase/auth");function f1(s,...e){oc.logLevel<=Rt.WARN&&oc.warn(`Auth (${Ma}): ${s}`,...e)}function Ju(s,...e){oc.logLevel<=Rt.ERROR&&oc.error(`Auth (${Ma}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(s,...e){throw Cd(s,...e)}function ti(s,...e){return Cd(s,...e)}function sv(s,e,i){const a=Object.assign(Object.assign({},h1()),{[e]:i});return new ho("auth","Firebase",a).create(e,{appName:s.name})}function Tr(s){return sv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cd(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return rv.create(s,...e)}function ct(s,e,...i){if(!s)throw Cd(e,...i)}function Ni(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Ju(e),new Error(e)}function xi(s,e){s||Ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function d1(){return Uy()==="http:"||Uy()==="https:"}function Uy(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(d1()||jT()||"connection"in navigator)?navigator.onLine:!0}function g1(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,i){this.shortDelay=e,this.longDelay=i,xi(i>e,"Short delay should be less than long delay!"),this.isMobile=zT()||qT()}get(){return m1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(s,e){xi(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_1=new mo(3e4,6e4);function As(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function Ir(s,e,i,a,o={}){return lv(s,o,async()=>{let h={},d={};a&&(e==="GET"?d=a:h={body:JSON.stringify(a)});const y=fo(Object.assign({key:s.config.apiKey},d)).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const v=Object.assign({method:e,headers:_},h);return HT()||(v.referrerPolicy="no-referrer"),s.emulatorConfig&&Na(s.emulatorConfig.host)&&(v.credentials="include"),av.fetch()(await ov(s,s.config.apiHost,i,y),v)})}async function lv(s,e,i){s._canInitEmulator=!1;const a=Object.assign(Object.assign({},p1),e);try{const o=new E1(s),h=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw Qu(s,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const y=h.ok?d.errorMessage:d.error.message,[_,v]=y.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qu(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Qu(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Qu(s,"user-disabled",d);const S=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw sv(s,S,v);Pn(s,S)}}catch(o){if(o instanceof Li)throw o;Pn(s,"network-request-failed",{message:String(o)})}}async function Ic(s,e,i,a,o={}){const h=await Ir(s,e,i,a,o);return"mfaPendingCredential"in h&&Pn(s,"multi-factor-auth-required",{_serverResponse:h}),h}async function ov(s,e,i,a){const o=`${e}${i}?${a}`,h=s,d=h.config.emulator?Dd(s.config,o):`${s.config.apiScheme}://${o}`;return y1.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}function v1(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class E1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ti(this.auth,"network-request-failed")),_1.get())})}}function Qu(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=ti(s,e,a);return o.customData._tokenResponse=i,o}function Py(s){return s!==void 0&&s.enterprise!==void 0}class T1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return v1(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function A1(s,e){return Ir(s,"GET","/v2/recaptchaConfig",As(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S1(s,e){return Ir(s,"POST","/v1/accounts:delete",e)}async function uc(s,e){return Ir(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function b1(s,e=!1){const i=Sn(s),a=await i.getIdToken(e),o=Od(a);ct(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const h=typeof o.firebase=="object"?o.firebase:void 0,d=h==null?void 0:h.sign_in_provider;return{claims:o,token:a,authTime:Jl(Jf(o.auth_time)),issuedAtTime:Jl(Jf(o.iat)),expirationTime:Jl(Jf(o.exp)),signInProvider:d||null,signInSecondFactor:(h==null?void 0:h.sign_in_second_factor)||null}}function Jf(s){return Number(s)*1e3}function Od(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Ju("JWT malformed, contained fewer than 3 sections"),null;try{const o=F_(i);return o?JSON.parse(o):(Ju("Failed to decode base64 JWT payload"),null)}catch(o){return Ju("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function xy(s){const e=Od(s);return ct(e,"internal-error"),ct(typeof e.exp<"u","internal-error"),ct(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Li&&R1(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function R1({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(s){var e;const i=s.auth,a=await s.getIdToken(),o=await ro(s,uc(i,{idToken:a}));ct(o==null?void 0:o.users.length,i,"internal-error");const h=o.users[0];s._notifyReloadListener(h);const d=!((e=h.providerUserInfo)===null||e===void 0)&&e.length?uv(h.providerUserInfo):[],y=C1(s.providerData,d),_=s.isAnonymous,v=!(s.email&&h.passwordHash)&&!(y!=null&&y.length),S=_?v:!1,N={uid:h.localId,displayName:h.displayName||null,photoURL:h.photoUrl||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,tenantId:h.tenantId||null,providerData:y,metadata:new ud(h.createdAt,h.lastLoginAt),isAnonymous:S};Object.assign(s,N)}async function I1(s){const e=Sn(s);await cc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function C1(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function uv(s){return s.map(e=>{var{providerId:i}=e,a=Id(e,["providerId"]);return{providerId:i,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D1(s,e){const i=await lv(s,{},async()=>{const a=fo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:h}=s.config,d=await ov(s,o,"/v1/token",`key=${h}`),y=await s._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:y,body:a};return s.emulatorConfig&&Na(s.emulatorConfig.host)&&(_.credentials="include"),av.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function O1(s,e){return Ir(s,"POST","/v2/accounts:revokeToken",As(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ct(e.idToken,"internal-error"),ct(typeof e.idToken<"u","internal-error"),ct(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ct(e.length!==0,"internal-error");const i=xy(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ct(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:h}=await D1(e,i);this.updateTokensAndExpiration(a,o,Number(h))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:h}=i,d=new Ea;return a&&(ct(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(ct(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),h&&(ct(typeof h=="number","internal-error",{appName:e}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ea,this.toJSON())}_performRefresh(){return Ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(s,e){ct(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Vn{constructor(e){var{uid:i,auth:a,stsTokenManager:o}=e,h=Id(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new w1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=h.displayName||null,this.email=h.email||null,this.emailVerified=h.emailVerified||!1,this.phoneNumber=h.phoneNumber||null,this.photoURL=h.photoURL||null,this.isAnonymous=h.isAnonymous||!1,this.tenantId=h.tenantId||null,this.providerData=h.providerData?[...h.providerData]:[],this.metadata=new ud(h.createdAt||void 0,h.lastLoginAt||void 0)}async getIdToken(e){const i=await ro(this,this.stsTokenManager.getToken(this.auth,e));return ct(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return b1(this,e)}reload(){return I1(this)}_assign(e){this!==e&&(ct(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Vn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await cc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(Tr(this.auth));const e=await this.getIdToken();return await ro(this,S1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var a,o,h,d,y,_,v,S;const N=(a=i.displayName)!==null&&a!==void 0?a:void 0,L=(o=i.email)!==null&&o!==void 0?o:void 0,Z=(h=i.phoneNumber)!==null&&h!==void 0?h:void 0,$=(d=i.photoURL)!==null&&d!==void 0?d:void 0,rt=(y=i.tenantId)!==null&&y!==void 0?y:void 0,et=(_=i._redirectEventId)!==null&&_!==void 0?_:void 0,wt=(v=i.createdAt)!==null&&v!==void 0?v:void 0,gt=(S=i.lastLoginAt)!==null&&S!==void 0?S:void 0,{uid:dt,emailVerified:Nt,isAnonymous:pt,providerData:Vt,stsTokenManager:O}=i;ct(dt&&O,e,"internal-error");const A=Ea.fromJSON(this.name,O);ct(typeof dt=="string",e,"internal-error"),dr(N,e.name),dr(L,e.name),ct(typeof Nt=="boolean",e,"internal-error"),ct(typeof pt=="boolean",e,"internal-error"),dr(Z,e.name),dr($,e.name),dr(rt,e.name),dr(et,e.name),dr(wt,e.name),dr(gt,e.name);const R=new Vn({uid:dt,auth:e,email:L,emailVerified:Nt,displayName:N,isAnonymous:pt,photoURL:$,phoneNumber:Z,tenantId:rt,stsTokenManager:A,createdAt:wt,lastLoginAt:gt});return Vt&&Array.isArray(Vt)&&(R.providerData=Vt.map(D=>Object.assign({},D))),et&&(R._redirectEventId=et),R}static async _fromIdTokenResponse(e,i,a=!1){const o=new Ea;o.updateFromServerResponse(i);const h=new Vn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await cc(h),h}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];ct(o.localId!==void 0,"internal-error");const h=o.providerUserInfo!==void 0?uv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(h!=null&&h.length),y=new Ea;y.updateFromIdToken(a);const _=new Vn({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new ud(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(h!=null&&h.length)};return Object.assign(_,v),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=new Map;function Mi(s){xi(s instanceof Function,"Expected a class definition");let e=Ly.get(s);return e?(xi(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Ly.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}cv.type="NONE";const ky=cv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(s,e,i){return`firebase:${s}:${e}:${i}`}class Ta{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:h}=this.auth;this.fullUserKey=Wu(this.userKey,o.apiKey,h),this.fullPersistenceKey=Wu("persistence",o.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await uc(this.auth,{idToken:e}).catch(()=>{});return i?Vn._fromGetAccountInfoResponse(this.auth,i,e):null}return Vn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Ta(Mi(ky),e,a);const o=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let h=o[0]||Mi(ky);const d=Wu(a,e.config.apiKey,e.name);let y=null;for(const v of i)try{const S=await v._get(d);if(S){let N;if(typeof S=="string"){const L=await uc(e,{idToken:S}).catch(()=>{});if(!L)break;N=await Vn._fromGetAccountInfoResponse(e,L,S)}else N=Vn._fromJSON(e,S);v!==h&&(y=N),h=v;break}}catch{}const _=o.filter(v=>v._shouldAllowMigration);return!h._shouldAllowMigration||!_.length?new Ta(h,e,a):(h=_[0],y&&await h._set(d,y.toJSON()),await Promise.all(i.map(async v=>{if(v!==h)try{await v._remove(d)}catch{}})),new Ta(h,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pv(e))return"Blackberry";if(yv(e))return"Webos";if(fv(e))return"Safari";if((e.includes("chrome/")||dv(e))&&!e.includes("edge/"))return"Chrome";if(gv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function hv(s=Ge()){return/firefox\//i.test(s)}function fv(s=Ge()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dv(s=Ge()){return/crios\//i.test(s)}function mv(s=Ge()){return/iemobile/i.test(s)}function gv(s=Ge()){return/android/i.test(s)}function pv(s=Ge()){return/blackberry/i.test(s)}function yv(s=Ge()){return/webos/i.test(s)}function Nd(s=Ge()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function N1(s=Ge()){var e;return Nd(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function M1(){return GT()&&document.documentMode===10}function _v(s=Ge()){return Nd(s)||gv(s)||yv(s)||pv(s)||/windows phone/i.test(s)||mv(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(s,e=[]){let i;switch(s){case"Browser":i=zy(Ge());break;case"Worker":i=`${zy(Ge())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ma}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=h=>new Promise((d,y)=>{try{const _=e(h);d(_)}catch(_){y(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U1(s,e={}){return Ir(s,"GET","/v2/passwordPolicy",As(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=6;class x1{constructor(e){var i,a,o,h;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:P1,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(h=e.forceUpgradeOnSignin)!==null&&h!==void 0?h:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,a,o,h,d,y;const _={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,_),this.validatePasswordCharacterOptions(e,_),_.isValid&&(_.isValid=(i=_.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),_.isValid&&(_.isValid=(a=_.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),_.isValid&&(_.isValid=(o=_.containsLowercaseLetter)!==null&&o!==void 0?o:!0),_.isValid&&(_.isValid=(h=_.containsUppercaseLetter)!==null&&h!==void 0?h:!0),_.isValid&&(_.isValid=(d=_.containsNumericCharacter)!==null&&d!==void 0?d:!0),_.isValid&&(_.isValid=(y=_.containsNonAlphanumericCharacter)!==null&&y!==void 0?y:!0),_}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,h){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new By(this),this.idTokenSubscription=new By(this),this.beforeStateQueue=new V1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Mi(i)),this._initializationPromise=this.queue(async()=>{var a,o,h;if(!this._deleted&&(this.persistenceManager=await Ta.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((h=this.currentUser)===null||h===void 0?void 0:h.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await uc(this,{idToken:e}),a=await Vn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Nn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(y=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(y,y))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,h=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,y=o==null?void 0:o._redirectEventId,_=await this.tryRedirectSignIn(e);(!d||d===y)&&(_!=null&&_.user)&&(o=_.user,h=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(h)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await cc(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=g1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nn(this.app))return Promise.reject(Tr(this));const i=e?Sn(e):null;return i&&ct(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ct(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(Tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nn(this.app)?Promise.reject(Tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await U1(this),i=new x1(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ho("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await O1(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Mi(e)||this._popupRedirectResolver;ct(i,this,"argument-error"),this.redirectPersistenceManager=await Ta.create(this,[Mi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(ct(y,this,"internal-error"),y.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,o);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(i["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i}async _getAppCheckToken(){var e;if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i!=null&&i.error&&f1(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function Va(s){return Sn(s)}class By{constructor(e){this.auth=e,this.observer=null,this.addObserver=JT(i=>this.observer=i)}get next(){return ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function k1(s){Cc=s}function Ev(s){return Cc.loadJS(s)}function z1(){return Cc.recaptchaEnterpriseScript}function B1(){return Cc.gapiScript}function H1(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class j1{constructor(){this.enterprise=new q1}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class q1{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const G1="recaptcha-enterprise",Tv="NO_RECAPTCHA";class F1{constructor(e){this.type=G1,this.auth=Va(e)}async verify(e="verify",i=!1){async function a(h){if(!i){if(h.tenantId==null&&h._agentRecaptchaConfig!=null)return h._agentRecaptchaConfig.siteKey;if(h.tenantId!=null&&h._tenantRecaptchaConfigs[h.tenantId]!==void 0)return h._tenantRecaptchaConfigs[h.tenantId].siteKey}return new Promise(async(d,y)=>{A1(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)y(new Error("recaptcha Enterprise site key undefined"));else{const v=new T1(_);return h.tenantId==null?h._agentRecaptchaConfig=v:h._tenantRecaptchaConfigs[h.tenantId]=v,d(v.siteKey)}}).catch(_=>{y(_)})})}function o(h,d,y){const _=window.grecaptcha;Py(_)?_.enterprise.ready(()=>{_.enterprise.execute(h,{action:e}).then(v=>{d(v)}).catch(()=>{d(Tv)})}):y(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new j1().execute("siteKey",{action:"verify"}):new Promise((h,d)=>{a(this.auth).then(y=>{if(!i&&Py(window.grecaptcha))o(y,h,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=z1();_.length!==0&&(_+=y),Ev(_).then(()=>{o(y,h,d)}).catch(v=>{d(v)})}}).catch(y=>{d(y)})})}}async function Hy(s,e,i,a=!1,o=!1){const h=new F1(s);let d;if(o)d=Tv;else try{d=await h.verify(i)}catch{d=await h.verify(i,!0)}const y=Object.assign({},e);if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in y){const _=y.phoneEnrollmentInfo.phoneNumber,v=y.phoneEnrollmentInfo.recaptchaToken;Object.assign(y,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in y){const _=y.phoneSignInInfo.recaptchaToken;Object.assign(y,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return y}return a?Object.assign(y,{captchaResp:d}):Object.assign(y,{captchaResponse:d}),Object.assign(y,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(y,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),y}async function jy(s,e,i,a,o){var h;if(!((h=s._getRecaptchaConfig())===null||h===void 0)&&h.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await Hy(s,e,i,i==="getOobCode");return a(s,d)}else return a(s,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const y=await Hy(s,e,i,i==="getOobCode");return a(s,y)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(s,e){const i=wd(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),h=i.getOptions();if(gs(h,e??{}))return o;Pn(o,"already-initialized")}return i.initialize({options:e})}function Y1(s,e){const i=(e==null?void 0:e.persistence)||[],a=(Array.isArray(i)?i:[i]).map(Mi);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function K1(s,e,i){const a=Va(s);ct(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,h=Av(e),{host:d,port:y}=X1(e),_=y===null?"":`:${y}`,v={url:`${h}//${d}${_}/`},S=Object.freeze({host:d,port:y,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){ct(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ct(gs(v,a.config.emulator)&&gs(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,Na(d)?(X_(`${h}//${d}${_}`),Z_("Auth",!0)):Z1()}function Av(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function X1(s){const e=Av(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const h=o[1];return{host:h,port:qy(a.substr(h.length+1))}}else{const[h,d]=a.split(":");return{host:h,port:qy(d)}}}function qy(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Z1(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,i){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}async function $1(s,e){return Ir(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J1(s,e){return Ic(s,"POST","/v1/accounts:signInWithPassword",As(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W1(s,e){return Ic(s,"POST","/v1/accounts:signInWithEmailLink",As(s,e))}async function tS(s,e){return Ic(s,"POST","/v1/accounts:signInWithEmailLink",As(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends Md{constructor(e,i,a,o=null){super("password",a),this._email=e,this._password=i,this._tenantId=o}static _fromEmailAndPassword(e,i){return new so(e,i,"password")}static _fromEmailAndCode(e,i,a=null){return new so(e,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jy(e,i,"signInWithPassword",J1);case"emailLink":return W1(e,{email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jy(e,a,"signUpPassword",$1);case"emailLink":return tS(e,{idToken:i,email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aa(s,e){return Ic(s,"POST","/v1/accounts:signInWithIdp",As(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="http://localhost";class ys extends Md{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Pn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=i,h=Id(i,["providerId","signInMethod"]);if(!a||!o)return null;const d=new ys(a,o);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Aa(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Aa(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Aa(e,i)}buildRequest(){const e={requestUri:eS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=fo(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iS(s){const e=Kl(Xl(s)).link,i=e?Kl(Xl(e)).deep_link_id:null,a=Kl(Xl(s)).deep_link_id;return(a?Kl(Xl(a)).link:null)||a||i||e||s}class Vd{constructor(e){var i,a,o,h,d,y;const _=Kl(Xl(e)),v=(i=_.apiKey)!==null&&i!==void 0?i:null,S=(a=_.oobCode)!==null&&a!==void 0?a:null,N=nS((o=_.mode)!==null&&o!==void 0?o:null);ct(v&&S&&N,"argument-error"),this.apiKey=v,this.operation=N,this.code=S,this.continueUrl=(h=_.continueUrl)!==null&&h!==void 0?h:null,this.languageCode=(d=_.lang)!==null&&d!==void 0?d:null,this.tenantId=(y=_.tenantId)!==null&&y!==void 0?y:null}static parseLink(e){const i=iS(e);try{return new Vd(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.providerId=Ua.PROVIDER_ID}static credential(e,i){return so._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const a=Vd.parseLink(i);return ct(a,"argument-error"),so._fromEmailAndCode(e,a.code,a.tenantId)}}Ua.PROVIDER_ID="password";Ua.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ua.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends Sv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends go{constructor(){super("facebook.com")}static credential(e){return ys._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mr.credential(e.oauthAccessToken)}catch{return null}}}mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";mr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends go{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ys._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return gr.credential(i,a)}catch{return null}}}gr.GOOGLE_SIGN_IN_METHOD="google.com";gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends go{constructor(){super("github.com")}static credential(e){return ys._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.GITHUB_SIGN_IN_METHOD="github.com";pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends go{constructor(){super("twitter.com")}static credential(e,i){return ys._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return yr.credential(i,a)}catch{return null}}}yr.TWITTER_SIGN_IN_METHOD="twitter.com";yr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const h=await Vn._fromIdTokenResponse(e,a,o),d=Gy(a);return new Ra({user:h,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=Gy(a);return new Ra({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function Gy(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends Li{constructor(e,i,a,o){var h;super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,hc.prototype),this.customData={appName:e.name,tenantId:(h=e.tenantId)!==null&&h!==void 0?h:void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new hc(e,i,a,o)}}function bv(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?hc._fromErrorAndOperation(s,h,e,a):h})}async function rS(s,e,i=!1){const a=await ro(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Ra._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sS(s,e,i=!1){const{auth:a}=s;if(Nn(a.app))return Promise.reject(Tr(a));const o="reauthenticate";try{const h=await ro(s,bv(a,o,e,s),i);ct(h.idToken,a,"internal-error");const d=Od(h.idToken);ct(d,a,"internal-error");const{sub:y}=d;return ct(s.uid===y,a,"user-mismatch"),Ra._forOperation(s,o,h)}catch(h){throw(h==null?void 0:h.code)==="auth/user-not-found"&&Pn(a,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rv(s,e,i=!1){if(Nn(s.app))return Promise.reject(Tr(s));const a="signIn",o=await bv(s,a,e),h=await Ra._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(h.user),h}async function aS(s,e){return Rv(Va(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lS(s){const e=Va(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function oS(s,e,i){return Nn(s.app)?Promise.reject(Tr(s)):aS(Sn(s),Ua.credential(e,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&lS(s),a})}function uS(s,e,i,a){return Sn(s).onIdTokenChanged(e,i,a)}function cS(s,e,i){return Sn(s).beforeAuthStateChanged(e,i)}const fc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(fc,"1"),this.storage.removeItem(fc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=1e3,fS=10;class Iv extends wv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_v(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,y,_)=>{this.notifyListeners(d,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},h=this.storage.getItem(a);M1()&&h!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,fS):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},hS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Iv.type="LOCAL";const dS=Iv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv extends wv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Cv.type="SESSION";const Dv=Cv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new Dc(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:h}=i.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const y=Array.from(d).map(async v=>v(i.origin,h)),_=await mS(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let h,d;return new Promise((y,_)=>{const v=Ud("",20);o.port1.start();const S=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(N){const L=N;if(L.data.eventId===v)switch(L.data.status){case"ack":clearTimeout(S),h=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),y(L.data.response);break;default:clearTimeout(S),clearTimeout(h),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return window}function pS(s){ei().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function yS(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _S(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function vS(){return Ov()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="firebaseLocalStorageDb",ES=1,dc="firebaseLocalStorage",Mv="fbase_key";class po{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Oc(s,e){return s.transaction([dc],e?"readwrite":"readonly").objectStore(dc)}function TS(){const s=indexedDB.deleteDatabase(Nv);return new po(s).toPromise()}function cd(){const s=indexedDB.open(Nv,ES);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(dc,{keyPath:Mv})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(dc)?e(a):(a.close(),await TS(),e(await cd()))})})}async function Fy(s,e,i){const a=Oc(s,!0).put({[Mv]:e,value:i});return new po(a).toPromise()}async function AS(s,e){const i=Oc(s,!1).get(e),a=await new po(i).toPromise();return a===void 0?null:a.value}function Qy(s,e){const i=Oc(s,!0).delete(e);return new po(i).toPromise()}const SS=800,bS=3;class Vv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cd(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>bS)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ov()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dc._getInstance(vS()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await yS(),!this.activeServiceWorker)return;this.sender=new gS(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((i=a[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_S()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cd();return await Fy(e,fc,"1"),await Qy(e,fc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>Fy(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>AS(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Qy(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const h=Oc(o,!1).getAll();return new po(h).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:h}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(h)&&(this.notifyListeners(o,h),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Vv.type="LOCAL";const RS=Vv;new mo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(s,e){return e?Mi(e):(ct(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd extends Md{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Aa(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Aa(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Aa(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function IS(s){return Rv(s.auth,new Pd(s),s.bypassAuthState)}function CS(s){const{auth:e,user:i}=s;return ct(i,e,"internal-error"),sS(i,new Pd(s),s.bypassAuthState)}async function DS(s){const{auth:e,user:i}=s;return ct(i,e,"internal-error"),rS(i,new Pd(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,i,a,o,h=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:h,error:d,type:y}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:h||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(_))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IS;case"linkViaPopup":case"linkViaRedirect":return DS;case"reauthViaPopup":case"reauthViaRedirect":return CS;default:Pn(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=new mo(2e3,1e4);class va extends Uv{constructor(e,i,a,o,h){super(e,i,o,h),this.provider=a,this.authWindow=null,this.pollId=null,va.currentPopupAction&&va.currentPopupAction.cancel(),va.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ct(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=Ud();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,va.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,a;if(!((a=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OS.get())};e()}}va.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="pendingRedirect",tc=new Map;class MS extends Uv{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=tc.get(this.auth._key());if(!e){try{const a=await VS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}tc.set(this.auth._key(),e)}return this.bypassAuthState||tc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VS(s,e){const i=xS(e),a=PS(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function US(s,e){tc.set(s._key(),e)}function PS(s){return Mi(s._redirectPersistence)}function xS(s){return Wu(NS,s.config.apiKey,s.name)}async function LS(s,e,i=!1){if(Nn(s.app))return Promise.reject(Tr(s));const a=Va(s),o=wS(a,e),d=await new MS(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=10*60*1e3;class zS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BS(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var a;if(e.error&&!Pv(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";i.onError(ti(this.auth,o))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kS&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yy(e))}saveEventToCache(e){this.cachedEventUids.add(Yy(e)),this.lastProcessedEventTime=Date.now()}}function Yy(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Pv({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function BS(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pv(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HS(s,e={}){return Ir(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qS=/^https?/;async function GS(s){if(s.config.emulator)return;const{authorizedDomains:e}=await HS(s);for(const i of e)try{if(FS(i))return}catch{}Pn(s,"unauthorized-domain")}function FS(s){const e=od(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!qS.test(i))return!1;if(jS.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=new mo(3e4,6e4);function Ky(){const s=ei().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function YS(s){return new Promise((e,i)=>{var a,o,h;function d(){Ky(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ky(),i(ti(s,"network-request-failed"))},timeout:QS.get()})}if(!((o=(a=ei().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((h=ei().gapi)===null||h===void 0)&&h.load)d();else{const y=H1("iframefcb");return ei()[y]=()=>{gapi.load?d():i(ti(s,"network-request-failed"))},Ev(`${B1()}?onload=${y}`).catch(_=>i(_))}}).catch(e=>{throw ec=null,e})}let ec=null;function KS(s){return ec=ec||YS(s),ec}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=new mo(5e3,15e3),ZS="__/auth/iframe",$S="emulator/auth/iframe",JS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tb(s){const e=s.config;ct(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Dd(e,$S):`https://${s.config.authDomain}/${ZS}`,a={apiKey:e.apiKey,appName:s.name,v:Ma},o=WS.get(s.config.apiHost);o&&(a.eid=o);const h=s._getFrameworks();return h.length&&(a.fw=h.join(",")),`${i}?${fo(a).slice(1)}`}async function eb(s){const e=await KS(s),i=ei().gapi;return ct(i,s,"internal-error"),e.open({where:document.body,url:tb(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JS,dontclear:!0},a=>new Promise(async(o,h)=>{await a.restyle({setHideOnLeave:!1});const d=ti(s,"network-request-failed"),y=ei().setTimeout(()=>{h(d)},XS.get());function _(){ei().clearTimeout(y),o(a)}a.ping(_).then(_,()=>{h(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ib=500,rb=600,sb="_blank",ab="http://localhost";class Xy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lb(s,e,i,a=ib,o=rb){const h=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const _=Object.assign(Object.assign({},nb),{width:a.toString(),height:o.toString(),top:h,left:d}),v=Ge().toLowerCase();i&&(y=dv(v)?sb:i),hv(v)&&(e=e||ab,_.scrollbars="yes");const S=Object.entries(_).reduce((L,[Z,$])=>`${L}${Z}=${$},`,"");if(N1(v)&&y!=="_self")return ob(e||"",y),new Xy(null);const N=window.open(e||"",y,S);ct(N,s,"popup-blocked");try{N.focus()}catch{}return new Xy(N)}function ob(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="__/auth/handler",cb="emulator/auth/handler",hb=encodeURIComponent("fac");async function Zy(s,e,i,a,o,h){ct(s.config.authDomain,s,"auth-domain-config-required"),ct(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Ma,eventId:o};if(e instanceof Sv){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",$T(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,N]of Object.entries({}))d[S]=N}if(e instanceof go){const S=e.getScopes().filter(N=>N!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const y=d;for(const S of Object.keys(y))y[S]===void 0&&delete y[S];const _=await s._getAppCheckToken(),v=_?`#${hb}=${encodeURIComponent(_)}`:"";return`${fb(s)}?${fo(y).slice(1)}${v}`}function fb({config:s}){return s.emulator?Dd(s,cb):`https://${s.authDomain}/${ub}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="webStorageSupport";class db{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dv,this._completeRedirectFn=LS,this._overrideRedirectResult=US}async _openPopup(e,i,a,o){var h;xi((h=this.eventManagers[e._key()])===null||h===void 0?void 0:h.manager,"_initialize() not called before _openPopup()");const d=await Zy(e,i,a,od(),o);return lb(e,d,Ud())}async _openRedirect(e,i,a,o){await this._originValidation(e);const h=await Zy(e,i,a,od(),o);return pS(h),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:h}=this.eventManagers[i];return o?Promise.resolve(o):(xi(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await eb(e),a=new zS(e);return i.register("authEvent",o=>(ct(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Wf,{type:Wf},o=>{var h;const d=(h=o==null?void 0:o[0])===null||h===void 0?void 0:h[Wf];d!==void 0&&i(!!d),Pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=GS(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return _v()||fv()||Nd()}}const mb=db;var $y="@firebase/auth",Jy="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yb(s){ba(new ps("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),h=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;ct(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:y,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vv(s)},v=new L1(a,o,h,_);return Y1(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),ba(new ps("auth-internal",e=>{const i=Va(e.getProvider("auth").getImmediate());return(a=>new gb(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Er($y,Jy,pb(s)),Er($y,Jy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=5*60,vb=K_("authIdTokenMaxAge")||_b;let Wy=null;const Eb=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>vb)return;const o=i==null?void 0:i.token;Wy!==o&&(Wy=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Tb(s=tv()){const e=wd(s,"auth");if(e.isInitialized())return e.getImmediate();const i=Q1(s,{popupRedirectResolver:mb,persistence:[RS,dS,Dv]}),a=K_("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const d=Eb(h.toString());cS(i,d,()=>d(i.currentUser)),uS(i,y=>d(y))}}const o=Q_("auth");return o&&K1(i,`http://${o}`),i}function Ab(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}k1({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const h=ti("internal-error");h.customData=o,i(h)},a.type="text/javascript",a.charset="UTF-8",Ab().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yb("Browser");var t_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xd;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,A){function R(){}R.prototype=A.prototype,O.D=A.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(D,M,U){for(var w=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)w[Ce-2]=arguments[Ce];return A.prototype[M].apply(D,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,A,R){R||(R=0);var D=Array(16);if(typeof A=="string")for(var M=0;16>M;++M)D[M]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(M=0;16>M;++M)D[M]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=O.g[0],R=O.g[1],M=O.g[2];var U=O.g[3],w=A+(U^R&(M^U))+D[0]+3614090360&4294967295;A=R+(w<<7&4294967295|w>>>25),w=U+(M^A&(R^M))+D[1]+3905402710&4294967295,U=A+(w<<12&4294967295|w>>>20),w=M+(R^U&(A^R))+D[2]+606105819&4294967295,M=U+(w<<17&4294967295|w>>>15),w=R+(A^M&(U^A))+D[3]+3250441966&4294967295,R=M+(w<<22&4294967295|w>>>10),w=A+(U^R&(M^U))+D[4]+4118548399&4294967295,A=R+(w<<7&4294967295|w>>>25),w=U+(M^A&(R^M))+D[5]+1200080426&4294967295,U=A+(w<<12&4294967295|w>>>20),w=M+(R^U&(A^R))+D[6]+2821735955&4294967295,M=U+(w<<17&4294967295|w>>>15),w=R+(A^M&(U^A))+D[7]+4249261313&4294967295,R=M+(w<<22&4294967295|w>>>10),w=A+(U^R&(M^U))+D[8]+1770035416&4294967295,A=R+(w<<7&4294967295|w>>>25),w=U+(M^A&(R^M))+D[9]+2336552879&4294967295,U=A+(w<<12&4294967295|w>>>20),w=M+(R^U&(A^R))+D[10]+4294925233&4294967295,M=U+(w<<17&4294967295|w>>>15),w=R+(A^M&(U^A))+D[11]+2304563134&4294967295,R=M+(w<<22&4294967295|w>>>10),w=A+(U^R&(M^U))+D[12]+1804603682&4294967295,A=R+(w<<7&4294967295|w>>>25),w=U+(M^A&(R^M))+D[13]+4254626195&4294967295,U=A+(w<<12&4294967295|w>>>20),w=M+(R^U&(A^R))+D[14]+2792965006&4294967295,M=U+(w<<17&4294967295|w>>>15),w=R+(A^M&(U^A))+D[15]+1236535329&4294967295,R=M+(w<<22&4294967295|w>>>10),w=A+(M^U&(R^M))+D[1]+4129170786&4294967295,A=R+(w<<5&4294967295|w>>>27),w=U+(R^M&(A^R))+D[6]+3225465664&4294967295,U=A+(w<<9&4294967295|w>>>23),w=M+(A^R&(U^A))+D[11]+643717713&4294967295,M=U+(w<<14&4294967295|w>>>18),w=R+(U^A&(M^U))+D[0]+3921069994&4294967295,R=M+(w<<20&4294967295|w>>>12),w=A+(M^U&(R^M))+D[5]+3593408605&4294967295,A=R+(w<<5&4294967295|w>>>27),w=U+(R^M&(A^R))+D[10]+38016083&4294967295,U=A+(w<<9&4294967295|w>>>23),w=M+(A^R&(U^A))+D[15]+3634488961&4294967295,M=U+(w<<14&4294967295|w>>>18),w=R+(U^A&(M^U))+D[4]+3889429448&4294967295,R=M+(w<<20&4294967295|w>>>12),w=A+(M^U&(R^M))+D[9]+568446438&4294967295,A=R+(w<<5&4294967295|w>>>27),w=U+(R^M&(A^R))+D[14]+3275163606&4294967295,U=A+(w<<9&4294967295|w>>>23),w=M+(A^R&(U^A))+D[3]+4107603335&4294967295,M=U+(w<<14&4294967295|w>>>18),w=R+(U^A&(M^U))+D[8]+1163531501&4294967295,R=M+(w<<20&4294967295|w>>>12),w=A+(M^U&(R^M))+D[13]+2850285829&4294967295,A=R+(w<<5&4294967295|w>>>27),w=U+(R^M&(A^R))+D[2]+4243563512&4294967295,U=A+(w<<9&4294967295|w>>>23),w=M+(A^R&(U^A))+D[7]+1735328473&4294967295,M=U+(w<<14&4294967295|w>>>18),w=R+(U^A&(M^U))+D[12]+2368359562&4294967295,R=M+(w<<20&4294967295|w>>>12),w=A+(R^M^U)+D[5]+4294588738&4294967295,A=R+(w<<4&4294967295|w>>>28),w=U+(A^R^M)+D[8]+2272392833&4294967295,U=A+(w<<11&4294967295|w>>>21),w=M+(U^A^R)+D[11]+1839030562&4294967295,M=U+(w<<16&4294967295|w>>>16),w=R+(M^U^A)+D[14]+4259657740&4294967295,R=M+(w<<23&4294967295|w>>>9),w=A+(R^M^U)+D[1]+2763975236&4294967295,A=R+(w<<4&4294967295|w>>>28),w=U+(A^R^M)+D[4]+1272893353&4294967295,U=A+(w<<11&4294967295|w>>>21),w=M+(U^A^R)+D[7]+4139469664&4294967295,M=U+(w<<16&4294967295|w>>>16),w=R+(M^U^A)+D[10]+3200236656&4294967295,R=M+(w<<23&4294967295|w>>>9),w=A+(R^M^U)+D[13]+681279174&4294967295,A=R+(w<<4&4294967295|w>>>28),w=U+(A^R^M)+D[0]+3936430074&4294967295,U=A+(w<<11&4294967295|w>>>21),w=M+(U^A^R)+D[3]+3572445317&4294967295,M=U+(w<<16&4294967295|w>>>16),w=R+(M^U^A)+D[6]+76029189&4294967295,R=M+(w<<23&4294967295|w>>>9),w=A+(R^M^U)+D[9]+3654602809&4294967295,A=R+(w<<4&4294967295|w>>>28),w=U+(A^R^M)+D[12]+3873151461&4294967295,U=A+(w<<11&4294967295|w>>>21),w=M+(U^A^R)+D[15]+530742520&4294967295,M=U+(w<<16&4294967295|w>>>16),w=R+(M^U^A)+D[2]+3299628645&4294967295,R=M+(w<<23&4294967295|w>>>9),w=A+(M^(R|~U))+D[0]+4096336452&4294967295,A=R+(w<<6&4294967295|w>>>26),w=U+(R^(A|~M))+D[7]+1126891415&4294967295,U=A+(w<<10&4294967295|w>>>22),w=M+(A^(U|~R))+D[14]+2878612391&4294967295,M=U+(w<<15&4294967295|w>>>17),w=R+(U^(M|~A))+D[5]+4237533241&4294967295,R=M+(w<<21&4294967295|w>>>11),w=A+(M^(R|~U))+D[12]+1700485571&4294967295,A=R+(w<<6&4294967295|w>>>26),w=U+(R^(A|~M))+D[3]+2399980690&4294967295,U=A+(w<<10&4294967295|w>>>22),w=M+(A^(U|~R))+D[10]+4293915773&4294967295,M=U+(w<<15&4294967295|w>>>17),w=R+(U^(M|~A))+D[1]+2240044497&4294967295,R=M+(w<<21&4294967295|w>>>11),w=A+(M^(R|~U))+D[8]+1873313359&4294967295,A=R+(w<<6&4294967295|w>>>26),w=U+(R^(A|~M))+D[15]+4264355552&4294967295,U=A+(w<<10&4294967295|w>>>22),w=M+(A^(U|~R))+D[6]+2734768916&4294967295,M=U+(w<<15&4294967295|w>>>17),w=R+(U^(M|~A))+D[13]+1309151649&4294967295,R=M+(w<<21&4294967295|w>>>11),w=A+(M^(R|~U))+D[4]+4149444226&4294967295,A=R+(w<<6&4294967295|w>>>26),w=U+(R^(A|~M))+D[11]+3174756917&4294967295,U=A+(w<<10&4294967295|w>>>22),w=M+(A^(U|~R))+D[2]+718787259&4294967295,M=U+(w<<15&4294967295|w>>>17),w=R+(U^(M|~A))+D[9]+3951481745&4294967295,O.g[0]=O.g[0]+A&4294967295,O.g[1]=O.g[1]+(M+(w<<21&4294967295|w>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+U&4294967295}a.prototype.u=function(O,A){A===void 0&&(A=O.length);for(var R=A-this.blockSize,D=this.B,M=this.h,U=0;U<A;){if(M==0)for(;U<=R;)o(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<A;)if(D[M++]=O.charCodeAt(U++),M==this.blockSize){o(this,D),M=0;break}}else for(;U<A;)if(D[M++]=O[U++],M==this.blockSize){o(this,D),M=0;break}}this.h=M,this.o+=A},a.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var A=1;A<O.length-8;++A)O[A]=0;var R=8*this.o;for(A=O.length-8;A<O.length;++A)O[A]=R&255,R/=256;for(this.u(O),O=Array(16),A=R=0;4>A;++A)for(var D=0;32>D;D+=8)O[R++]=this.g[A]>>>D&255;return O};function h(O,A){var R=y;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=A(O)}function d(O,A){this.h=A;for(var R=[],D=!0,M=O.length-1;0<=M;M--){var U=O[M]|0;D&&U==A||(R[M]=U,D=!1)}this.g=R}var y={};function _(O){return-128<=O&&128>O?h(O,function(A){return new d([A|0],0>A?-1:0)}):new d([O|0],0>O?-1:0)}function v(O){if(isNaN(O)||!isFinite(O))return N;if(0>O)return et(v(-O));for(var A=[],R=1,D=0;O>=R;D++)A[D]=O/R|0,R*=4294967296;return new d(A,0)}function S(O,A){if(O.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(O.charAt(0)=="-")return et(S(O.substring(1),A));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(A,8)),D=N,M=0;M<O.length;M+=8){var U=Math.min(8,O.length-M),w=parseInt(O.substring(M,M+U),A);8>U?(U=v(Math.pow(A,U)),D=D.j(U).add(v(w))):(D=D.j(R),D=D.add(v(w)))}return D}var N=_(0),L=_(1),Z=_(16777216);s=d.prototype,s.m=function(){if(rt(this))return-et(this).m();for(var O=0,A=1,R=0;R<this.g.length;R++){var D=this.i(R);O+=(0<=D?D:4294967296+D)*A,A*=4294967296}return O},s.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if($(this))return"0";if(rt(this))return"-"+et(this).toString(O);for(var A=v(Math.pow(O,6)),R=this,D="";;){var M=Nt(R,A).g;R=wt(R,M.j(A));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=M,$(R))return U+D;for(;6>U.length;)U="0"+U;D=U+D}},s.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function $(O){if(O.h!=0)return!1;for(var A=0;A<O.g.length;A++)if(O.g[A]!=0)return!1;return!0}function rt(O){return O.h==-1}s.l=function(O){return O=wt(this,O),rt(O)?-1:$(O)?0:1};function et(O){for(var A=O.g.length,R=[],D=0;D<A;D++)R[D]=~O.g[D];return new d(R,~O.h).add(L)}s.abs=function(){return rt(this)?et(this):this},s.add=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],D=0,M=0;M<=A;M++){var U=D+(this.i(M)&65535)+(O.i(M)&65535),w=(U>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);D=w>>>16,U&=65535,w&=65535,R[M]=w<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function wt(O,A){return O.add(et(A))}s.j=function(O){if($(this)||$(O))return N;if(rt(this))return rt(O)?et(this).j(et(O)):et(et(this).j(O));if(rt(O))return et(this.j(et(O)));if(0>this.l(Z)&&0>O.l(Z))return v(this.m()*O.m());for(var A=this.g.length+O.g.length,R=[],D=0;D<2*A;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<O.g.length;M++){var U=this.i(D)>>>16,w=this.i(D)&65535,Ce=O.i(M)>>>16,Wt=O.i(M)&65535;R[2*D+2*M]+=w*Wt,gt(R,2*D+2*M),R[2*D+2*M+1]+=U*Wt,gt(R,2*D+2*M+1),R[2*D+2*M+1]+=w*Ce,gt(R,2*D+2*M+1),R[2*D+2*M+2]+=U*Ce,gt(R,2*D+2*M+2)}for(D=0;D<A;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=A;D<2*A;D++)R[D]=0;return new d(R,0)};function gt(O,A){for(;(O[A]&65535)!=O[A];)O[A+1]+=O[A]>>>16,O[A]&=65535,A++}function dt(O,A){this.g=O,this.h=A}function Nt(O,A){if($(A))throw Error("division by zero");if($(O))return new dt(N,N);if(rt(O))return A=Nt(et(O),A),new dt(et(A.g),et(A.h));if(rt(A))return A=Nt(O,et(A)),new dt(et(A.g),A.h);if(30<O.g.length){if(rt(O)||rt(A))throw Error("slowDivide_ only works with positive integers.");for(var R=L,D=A;0>=D.l(O);)R=pt(R),D=pt(D);var M=Vt(R,1),U=Vt(D,1);for(D=Vt(D,2),R=Vt(R,2);!$(D);){var w=U.add(D);0>=w.l(O)&&(M=M.add(R),U=w),D=Vt(D,1),R=Vt(R,1)}return A=wt(O,M.j(A)),new dt(M,A)}for(M=N;0<=O.l(A);){for(R=Math.max(1,Math.floor(O.m()/A.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),U=v(R),w=U.j(A);rt(w)||0<w.l(O);)R-=D,U=v(R),w=U.j(A);$(U)&&(U=L),M=M.add(U),O=wt(O,w)}return new dt(M,O)}s.A=function(O){return Nt(this,O).h},s.and=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],D=0;D<A;D++)R[D]=this.i(D)&O.i(D);return new d(R,this.h&O.h)},s.or=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],D=0;D<A;D++)R[D]=this.i(D)|O.i(D);return new d(R,this.h|O.h)},s.xor=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],D=0;D<A;D++)R[D]=this.i(D)^O.i(D);return new d(R,this.h^O.h)};function pt(O){for(var A=O.g.length+1,R=[],D=0;D<A;D++)R[D]=O.i(D)<<1|O.i(D-1)>>>31;return new d(R,O.h)}function Vt(O,A){var R=A>>5;A%=32;for(var D=O.g.length-R,M=[],U=0;U<D;U++)M[U]=0<A?O.i(U+R)>>>A|O.i(U+R+1)<<32-A:O.i(U+R);return new d(M,O.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=S,xd=d}).apply(typeof t_<"u"?t_:typeof self<"u"?self:typeof window<"u"?window:{});var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xv,Zl,Lv,nc,hd,kv,zv,Bv;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,g){return u==Array.prototype||u==Object.prototype||(u[m]=g.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yu=="object"&&Yu];for(var m=0;m<u.length;++m){var g=u[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var g=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in g))break t;g=g[P]}u=u[u.length-1],T=g[u],m=m(T),m!=T&&m!=null&&e(g,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var g=0,T=!1,P={next:function(){if(!T&&g<u.length){var H=g++;return{value:m(H,u[H]),done:!1}}return T=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},y=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function S(u,m,g){return u.call.apply(u.bind,arguments)}function N(u,m,g){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,T),u.apply(m,P)}}return function(){return u.apply(m,arguments)}}function L(u,m,g){return L=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:N,L.apply(null,arguments)}function Z(u,m){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function $(u,m){function g(){}g.prototype=m.prototype,u.aa=m.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(T,P,H){for(var J=Array(arguments.length-2),It=2;It<arguments.length;It++)J[It-2]=arguments[It];return m.prototype[P].apply(T,J)}}function rt(u){const m=u.length;if(0<m){const g=Array(m);for(let T=0;T<m;T++)g[T]=u[T];return g}return[]}function et(u,m){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(_(T)){const P=u.length||0,H=T.length||0;u.length=P+H;for(let J=0;J<H;J++)u[P+J]=T[J]}else u.push(T)}}class wt{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function gt(u){return/^[\s\xa0]*$/.test(u)}function dt(){var u=y.navigator;return u&&(u=u.userAgent)?u:""}function Nt(u){return Nt[" "](u),u}Nt[" "]=function(){};var pt=dt().indexOf("Gecko")!=-1&&!(dt().toLowerCase().indexOf("webkit")!=-1&&dt().indexOf("Edge")==-1)&&!(dt().indexOf("Trident")!=-1||dt().indexOf("MSIE")!=-1)&&dt().indexOf("Edge")==-1;function Vt(u,m,g){for(const T in u)m.call(g,u[T],T,u)}function O(u,m){for(const g in u)m.call(void 0,u[g],g,u)}function A(u){const m={};for(const g in u)m[g]=u[g];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let g,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(g in T)u[g]=T[g];for(let H=0;H<R.length;H++)g=R[H],Object.prototype.hasOwnProperty.call(T,g)&&(u[g]=T[g])}}function M(u){var m=1;u=u.split(":");const g=[];for(;0<m&&u.length;)g.push(u.shift()),m--;return u.length&&g.push(u.join(":")),g}function U(u){y.setTimeout(()=>{throw u},0)}function w(){var u=Pt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ce{constructor(){this.h=this.g=null}add(m,g){const T=Wt.get();T.set(m,g),this.h?this.h.next=T:this.g=T,this.h=T}}var Wt=new wt(()=>new j,u=>u.reset());class j{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let W,at=!1,Pt=new Ce,I=()=>{const u=y.Promise.resolve(void 0);W=()=>{u.then(Y)}};var Y=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(g){U(g)}var m=Wt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}at=!1};function tt(){this.s=this.s,this.C=this.C}tt.prototype.s=!1,tt.prototype.ma=function(){this.s||(this.s=!0,this.N())},tt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var lt=function(){if(!y.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};y.addEventListener("test",g,m),y.removeEventListener("test",g,m)}catch{}return u}();function Et(u,m){if(X.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(pt){t:{try{Nt(m.nodeName);var P=!0;break t}catch{}P=!1}P||(m=null)}}else g=="mouseover"?m=u.fromElement:g=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:mt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Et.aa.h.call(this)}}$(Et,X);var mt={2:"touch",3:"pen",4:"mouse"};Et.prototype.h=function(){Et.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),Qt=0;function xn(u,m,g,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=g,this.capture=!!T,this.ha=P,this.key=++Qt,this.da=this.fa=!1}function ki(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ri(u){this.src=u,this.g={},this.h=0}ri.prototype.add=function(u,m,g,T,P){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var J=Dr(u,m,T,P);return-1<J?(m=u[J],g||(m.fa=!1)):(m=new xn(m,this.src,H,!!T,P),m.fa=g,u.push(m)),m};function Cr(u,m){var g=m.type;if(g in u.g){var T=u.g[g],P=Array.prototype.indexOf.call(T,m,void 0),H;(H=0<=P)&&Array.prototype.splice.call(T,P,1),H&&(ki(m),u.g[g].length==0&&(delete u.g[g],u.h--))}}function Dr(u,m,g,T){for(var P=0;P<u.length;++P){var H=u[P];if(!H.da&&H.listener==m&&H.capture==!!g&&H.ha==T)return P}return-1}var Or="closure_lm_"+(1e6*Math.random()|0),La={};function Ao(u,m,g,T,P){if(Array.isArray(m)){for(var H=0;H<m.length;H++)Ao(u,m[H],g,T,P);return null}return g=So(g),u&&u[Ee]?u.K(m,g,v(T)?!!T.capture:!1,P):cn(u,m,g,!1,T,P)}function cn(u,m,g,T,P,H){if(!m)throw Error("Invalid event type");var J=v(P)?!!P.capture:!!P,It=ws(u);if(It||(u[Or]=It=new ri(u)),g=It.add(m,g,T,J,H),g.proxy)return g;if(T=Bc(),g.proxy=T,T.src=u,T.listener=g,u.addEventListener)lt||(P=J),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Nr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Bc(){function u(g){return m.call(u.src,u.listener,g)}const m=Hc;return u}function ka(u,m,g,T,P){if(Array.isArray(m))for(var H=0;H<m.length;H++)ka(u,m[H],g,T,P);else T=v(T)?!!T.capture:!!T,g=So(g),u&&u[Ee]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],g=Dr(H,g,T,P),-1<g&&(ki(H[g]),Array.prototype.splice.call(H,g,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=ws(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Dr(m,g,T,P)),(g=-1<u?m[u]:null)&&Rs(g))}function Rs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ee])Cr(m.i,u);else{var g=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(g,T,u.capture):m.detachEvent?m.detachEvent(Nr(g),T):m.addListener&&m.removeListener&&m.removeListener(T),(g=ws(m))?(Cr(g,u),g.h==0&&(g.src=null,m[Or]=null)):ki(u)}}}function Nr(u){return u in La?La[u]:La[u]="on"+u}function Hc(u,m){if(u.da)u=!0;else{m=new Et(m,this);var g=u.listener,T=u.ha||u.src;u.fa&&Rs(u),u=g.call(T,m)}return u}function ws(u){return u=u[Or],u instanceof ri?u:null}var za="__closure_events_fn_"+(1e9*Math.random()>>>0);function So(u){return typeof u=="function"?u:(u[za]||(u[za]=function(m){return u.handleEvent(m)}),u[za])}function te(){tt.call(this),this.i=new ri(this),this.M=this,this.F=null}$(te,tt),te.prototype[Ee]=!0,te.prototype.removeEventListener=function(u,m,g,T){ka(this,u,m,g,T)};function kt(u,m){var g,T=u.F;if(T)for(g=[];T;T=T.F)g.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new X(m,u);else if(m instanceof X)m.target=m.target||u;else{var P=m;m=new X(T,u),D(m,P)}if(P=!0,g)for(var H=g.length-1;0<=H;H--){var J=m.g=g[H];P=tn(J,T,!0,m)&&P}if(J=m.g=u,P=tn(J,T,!0,m)&&P,P=tn(J,T,!1,m)&&P,g)for(H=0;H<g.length;H++)J=m.g=g[H],P=tn(J,T,!1,m)&&P}te.prototype.N=function(){if(te.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var g=u.g[m],T=0;T<g.length;T++)ki(g[T]);delete u.g[m],u.h--}}this.F=null},te.prototype.K=function(u,m,g,T){return this.i.add(String(u),m,!1,g,T)},te.prototype.L=function(u,m,g,T){return this.i.add(String(u),m,!0,g,T)};function tn(u,m,g,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var P=!0,H=0;H<m.length;++H){var J=m[H];if(J&&!J.da&&J.capture==g){var It=J.listener,pe=J.ha||J.src;J.fa&&Cr(u.i,J),P=It.call(pe,T)!==!1&&P}}return P&&!T.defaultPrevented}function ke(u,m,g){if(typeof u=="function")g&&(u=L(u,g));else if(u&&typeof u.handleEvent=="function")u=L(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:y.setTimeout(u,m||0)}function bo(u){u.g=ke(()=>{u.g=null,u.i&&(u.i=!1,bo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class jc extends tt{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:bo(this)}N(){super.N(),this.g&&(y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(u){tt.call(this),this.h=u,this.g={}}$(Mr,tt);var Vr=[];function Ur(u){Vt(u.g,function(m,g){this.g.hasOwnProperty(g)&&Rs(m)},u),u.g={}}Mr.prototype.N=function(){Mr.aa.N.call(this),Ur(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bn=y.JSON.stringify,Is=y.JSON.parse,Pr=class{stringify(u){return y.JSON.stringify(u,void 0)}parse(u){return y.JSON.parse(u,void 0)}};function Ba(){}Ba.prototype.h=null;function Ha(u){return u.h||(u.h=u.i())}function ja(){}var si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ai(){X.call(this,"d")}$(ai,X);function qa(){X.call(this,"c")}$(qa,X);var Ln={},Ga=null;function zi(){return Ga=Ga||new te}Ln.La="serverreachability";function Cs(u){X.call(this,Ln.La,u)}$(Cs,X);function Bi(u){const m=zi();kt(m,new Cs(m))}Ln.STAT_EVENT="statevent";function Ro(u,m){X.call(this,Ln.STAT_EVENT,u),this.stat=m}$(Ro,X);function Xt(u){const m=zi();kt(m,new Ro(m,u))}Ln.Ma="timingevent";function ge(u,m){X.call(this,Ln.Ma,u),this.size=m}$(ge,X);function ce(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return y.setTimeout(function(){u()},m)}function hn(){this.g=!0}hn.prototype.xa=function(){this.g=!1};function Fa(u,m,g,T,P,H){u.info(function(){if(u.g)if(H)for(var J="",It=H.split("&"),pe=0;pe<It.length;pe++){var Ct=It[pe].split("=");if(1<Ct.length){var Ae=Ct[0];Ct=Ct[1];var ye=Ae.split("_");J=2<=ye.length&&ye[1]=="type"?J+(Ae+"="+Ct+"&"):J+(Ae+"=redacted&")}}else J=null;else J=H;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+g+`
`+J})}function qc(u,m,g,T,P,H,J){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+g+`
`+H+" "+J})}function Hi(u,m,g,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+xr(u,g)+(T?" "+T:"")})}function wo(u,m){u.info(function(){return"TIMEOUT: "+m})}hn.prototype.info=function(){};function xr(u,m){if(!u.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var T=g[u];if(!(2>T.length)){var P=T[1];if(Array.isArray(P)&&!(1>P.length)){var H=P[0];if(H!="noop"&&H!="stop"&&H!="close")for(var J=1;J<P.length;J++)P[J]=""}}}}return bn(g)}catch{return m}}var ji={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kn;function zn(){}$(zn,Ba),zn.prototype.g=function(){return new XMLHttpRequest},zn.prototype.i=function(){return{}},kn=new zn;function Fe(u,m,g,T){this.j=u,this.i=m,this.l=g,this.R=T||1,this.U=new Mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new se}function se(){this.i=null,this.g="",this.h=!1}var Qa={},Ds={};function Rn(u,m,g){u.L=1,u.v=Hr(en(m)),u.m=g,u.P=!0,oi(u,null)}function oi(u,m){u.F=Date.now(),Lr(u),u.A=en(u.v);var g=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ja(g.i,"t",T),u.C=0,g=u.j.J,u.h=new se,u.g=jo(u.j,g?m:null,!u.m),0<u.O&&(u.M=new jc(L(u.Y,u,u.g),u.O)),m=u.U,g=u.g,T=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(Vr[0]=P.toString()),P=Vr);for(var H=0;H<P.length;H++){var J=Ao(g,P[H],T||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Bi(),Fa(u.i,u.u,u.A,u.l,u.R,u.m)}Fe.prototype.ca=function(u){u=u.target;const m=this.M;m&&gn(u)==3?m.j():this.Y(u)},Fe.prototype.Y=function(u){try{if(u==this.g)t:{const ye=gn(this.g);var m=this.g.Ba();const pi=this.g.Z();if(!(3>ye)&&(ye!=3||this.g&&(this.h.h||this.g.oa()||Uo(this.g)))){this.J||ye!=4||m==7||(m==8||0>=pi?Bi(3):Bi(2)),qi(this);var g=this.g.Z();this.X=g;e:if(Io(this)){var T=Uo(this.g);u="";var P=T.length,H=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){De(this),Bn(this);var J="";break e}this.h.i=new y.TextDecoder}for(m=0;m<P;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(H&&m==P-1)});T.length=0,this.h.g+=u,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=g==200,qc(this.i,this.u,this.A,this.l,this.R,ye,g),this.o){if(this.T&&!this.K){e:{if(this.g){var It,pe=this.g;if((It=pe.g?pe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gt(It)){var Ct=It;break e}}Ct=null}if(g=Ct)Hi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kr(this,g);else{this.o=!1,this.s=3,Xt(12),De(this),Bn(this);break t}}if(this.P){g=!0;let Oe;for(;!this.J&&this.C<J.length;)if(Oe=Co(this,J),Oe==Ds){ye==4&&(this.s=4,Xt(14),g=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(Oe==Qa){this.s=4,Xt(15),Hi(this.i,this.l,J,"[Invalid Chunk]"),g=!1;break}else Hi(this.i,this.l,Oe,null),kr(this,Oe);if(Io(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ye!=4||J.length!=0||this.h.h||(this.s=1,Xt(16),g=!1),this.o=this.o&&g,!g)Hi(this.i,this.l,J,"[Invalid Chunked Response]"),De(this),Bn(this);else if(0<J.length&&!this.W){this.W=!0;var Ae=this.j;Ae.g==this&&Ae.ba&&!Ae.M&&(Ae.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),Xr(Ae),Ae.M=!0,Xt(11))}}else Hi(this.i,this.l,J,null),kr(this,J);ye==4&&De(this),this.o&&!this.J&&(ye==4?zo(this.j,this):(this.o=!1,Lr(this)))}else Kc(this.g),g==400&&0<J.indexOf("Unknown SID")?(this.s=3,Xt(12)):(this.s=0,Xt(13)),De(this),Bn(this)}}}catch{}finally{}};function Io(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Co(u,m){var g=u.C,T=m.indexOf(`
`,g);return T==-1?Ds:(g=Number(m.substring(g,T)),isNaN(g)?Qa:(T+=1,T+g>m.length?Ds:(m=m.slice(T,T+g),u.C=T+g,m)))}Fe.prototype.cancel=function(){this.J=!0,De(this)};function Lr(u){u.S=Date.now()+u.I,Do(u,u.I)}function Do(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ce(L(u.ba,u),m)}function qi(u){u.B&&(y.clearTimeout(u.B),u.B=null)}Fe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(wo(this.i,this.A),this.L!=2&&(Bi(),Xt(17)),De(this),this.s=2,Bn(this)):Do(this,this.S-u)};function Bn(u){u.j.G==0||u.J||zo(u.j,u)}function De(u){qi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ur(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function kr(u,m){try{var g=u.j;if(g.G!=0&&(g.g==u||Ya(g.h,u))){if(!u.K&&Ya(g.h,u)&&g.G==3){try{var T=g.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)Hs(g),zs(g);else break t;il(g),Xt(18)}}else g.za=P[1],0<g.za-g.T&&37500>P[2]&&g.F&&g.v==0&&!g.C&&(g.C=ce(L(g.Za,g),6e3));if(1>=Ns(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else gi(g,11)}else if((u.K||g.g==u)&&Hs(g),!gt(m))for(P=g.Da.g.parse(m),m=0;m<P.length;m++){let Ct=P[m];if(g.T=Ct[0],Ct=Ct[1],g.G==2)if(Ct[0]=="c"){g.K=Ct[1],g.ia=Ct[2];const Ae=Ct[3];Ae!=null&&(g.la=Ae,g.j.info("VER="+g.la));const ye=Ct[4];ye!=null&&(g.Aa=ye,g.j.info("SVER="+g.Aa));const pi=Ct[5];pi!=null&&typeof pi=="number"&&0<pi&&(T=1.5*pi,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Oe=u.g;if(Oe){const Yn=Oe.g?Oe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yn){var H=T.h;H.g||Yn.indexOf("spdy")==-1&&Yn.indexOf("quic")==-1&&Yn.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Ms(H,H.h),H.h=null))}if(T.D){const sl=Oe.g?Oe.g.getResponseHeader("X-HTTP-Session-Id"):null;sl&&(T.ya=sl,Ht(T.I,T.D,sl))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var J=u;if(T.qa=Ho(T,T.J?T.ia:null,T.W),J.K){Qe(T.h,J);var It=J,pe=T.L;pe&&(It.I=pe),It.B&&(qi(It),Lr(It)),T.g=J}else Lo(T);0<g.i.length&&Bs(g)}else Ct[0]!="stop"&&Ct[0]!="close"||gi(g,7);else g.G==3&&(Ct[0]=="stop"||Ct[0]=="close"?Ct[0]=="stop"?gi(g,7):el(g):Ct[0]!="noop"&&g.l&&g.l.ta(Ct),g.v=0)}}Bi(4)}catch{}}var Oo=class{constructor(u,m){this.g=u,this.map=m}};function ui(u){this.l=u||10,y.PerformanceNavigationTiming?(u=y.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(y.chrome&&y.chrome.loadTimes&&y.chrome.loadTimes()&&y.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Os(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ns(u){return u.h?1:u.g?u.g.size:0}function Ya(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ms(u,m){u.g?u.g.add(m):u.h=m}function Qe(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ui.prototype.cancel=function(){if(this.i=Ka(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ka(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const g of u.g.values())m=m.concat(g.D);return m}return rt(u.i)}function Gc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],g=u.length,T=0;T<g;T++)m.push(u[T]);return m}m=[],g=0;for(T in u)m[g++]=u[T];return m}function Vs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var g=0;g<u;g++)m.push(g);return m}m=[],g=0;for(const T in u)m[g++]=T;return m}}}function Xa(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var g=Vs(u),T=Gc(u),P=T.length,H=0;H<P;H++)m.call(void 0,T[H],g&&g[H],u)}var zr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fc(u,m){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var T=u[g].indexOf("="),P=null;if(0<=T){var H=u[g].substring(0,T);P=u[g].substring(T+1)}else H=u[g];m(H,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function he(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof he){this.h=u.h,Br(this,u.j),this.o=u.o,this.g=u.g,Gi(this,u.s),this.l=u.l;var m=u.i,g=new hi;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),ci(this,g),this.m=u.m}else u&&(m=String(u).match(zr))?(this.h=!1,Br(this,m[1]||"",!0),this.o=fn(m[2]||""),this.g=fn(m[3]||"",!0),Gi(this,m[4]),this.l=fn(m[5]||"",!0),ci(this,m[6]||"",!0),this.m=fn(m[7]||"")):(this.h=!1,this.i=new hi(null,this.h))}he.prototype.toString=function(){var u=[],m=this.j;m&&u.push(jr(m,Za,!0),":");var g=this.g;return(g||m=="file")&&(u.push("//"),(m=this.o)&&u.push(jr(m,Za,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(jr(g,g.charAt(0)=="/"?Qc:$a,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",jr(g,Us)),u.join("")};function en(u){return new he(u)}function Br(u,m,g){u.j=g?fn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Gi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function ci(u,m,g){m instanceof hi?(u.i=m,Mo(u.i,u.h)):(g||(m=jr(m,Yc)),u.i=new hi(m,u.h))}function Ht(u,m,g){u.i.set(m,g)}function Hr(u){return Ht(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function fn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function jr(u,m,g){return typeof u=="string"?(u=encodeURI(u).replace(m,No),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function No(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Za=/[#\/\?@]/g,$a=/[#\?:]/g,Qc=/[#\?]/g,Yc=/[#\?@]/g,Us=/#/g;function hi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&Fc(u.i,function(m,g){u.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}s=hi.prototype,s.add=function(u,m){dn(this),this.i=null,u=Hn(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(m),this.h+=1,this};function fi(u,m){dn(u),m=Hn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function di(u,m){return dn(u),m=Hn(u,m),u.g.has(m)}s.forEach=function(u,m){dn(this),this.g.forEach(function(g,T){g.forEach(function(P){u.call(m,P,T,this)},this)},this)},s.na=function(){dn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let T=0;T<m.length;T++){const P=u[T];for(let H=0;H<P.length;H++)g.push(m[T])}return g},s.V=function(u){dn(this);let m=[];if(typeof u=="string")di(this,u)&&(m=m.concat(this.g.get(Hn(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)m=m.concat(u[g])}return m},s.set=function(u,m){return dn(this),this.i=null,u=Hn(this,u),di(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ja(u,m,g){fi(u,m),0<g.length&&(u.i=null,u.g.set(Hn(u,m),rt(g)),u.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var T=m[g];const H=encodeURIComponent(String(T)),J=this.V(T);for(T=0;T<J.length;T++){var P=H;J[T]!==""&&(P+="="+encodeURIComponent(String(J[T]))),u.push(P)}}return this.i=u.join("&")};function Hn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Mo(u,m){m&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(g,T){var P=T.toLowerCase();T!=P&&(fi(this,T),Ja(this,P,g))},u)),u.j=m}function qr(u,m){const g=new hn;if(y.Image){const T=new Image;T.onload=Z(mn,g,"TestLoadImage: loaded",!0,m,T),T.onerror=Z(mn,g,"TestLoadImage: error",!1,m,T),T.onabort=Z(mn,g,"TestLoadImage: abort",!1,m,T),T.ontimeout=Z(mn,g,"TestLoadImage: timeout",!1,m,T),y.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function wn(u,m){const g=new hn,T=new AbortController,P=setTimeout(()=>{T.abort(),mn(g,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(P),H.ok?mn(g,"TestPingServer: ok",!0,m):mn(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),mn(g,"TestPingServer: error",!1,m)})}function mn(u,m,g,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(g)}catch{}}function Gr(){this.g=new Pr}function jn(u,m,g){const T=g||"";try{Xa(u,function(P,H){let J=P;v(P)&&(J=bn(P)),m.push(T+H+"="+encodeURIComponent(J))})}catch(P){throw m.push(T+"type="+encodeURIComponent("_badmap")),P}}function Fi(u){this.l=u.Ub||null,this.j=u.eb||!1}$(Fi,Ba),Fi.prototype.g=function(){return new mi(this.l,this.j)},Fi.prototype.i=function(u){return function(){return u}}({});function mi(u,m){te.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(mi,te),s=mi.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Gn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||y).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof y.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wa(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wa(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?qn(this):Gn(this),this.readyState==3&&Wa(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,qn(this))},s.Qa=function(u){this.g&&(this.response=u,qn(this))},s.ga=function(){this.g&&qn(this)};function qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Gn(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function tl(u){let m="";return Vt(u,function(g,T){m+=T,m+=":",m+=g,m+=`\r
`}),m}function Te(u,m,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=tl(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):Ht(u,m,g))}function Lt(u){te.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(Lt,te);var Ps=/^https?$/i,Fr=["POST","PUT"];s=Lt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kn.g(),this.v=this.o?Ha(this.o):Ha(kn),this.g.onreadystatechange=L(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Vo(this,H);return}if(u=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)g.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())g.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(H=>H.toLowerCase()=="content-type"),P=y.FormData&&u instanceof y.FormData,!(0<=Array.prototype.indexOf.call(Fr,m,void 0))||T||P||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,J]of g)this.g.setRequestHeader(H,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qr(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){Vo(this,H)}};function Vo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,xs(u),Fn(u)}function xs(u){u.A||(u.A=!0,kt(u,"complete"),kt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,kt(this,"complete"),kt(this,"abort"),Fn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),Lt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Ls(this):this.bb())},s.bb=function(){Ls(this)};function Ls(u){if(u.h&&typeof d<"u"&&(!u.v[1]||gn(u)!=4||u.Z()!=2)){if(u.u&&gn(u)==4)ke(u.Ea,0,u);else if(kt(u,"readystatechange"),gn(u)==4){u.h=!1;try{const J=u.Z();t:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var T;if(T=J===0){var P=String(u.D).match(zr)[1]||null;!P&&y.self&&y.self.location&&(P=y.self.location.protocol.slice(0,-1)),T=!Ps.test(P?P.toLowerCase():"")}g=T}if(g)kt(u,"complete"),kt(u,"success");else{u.m=6;try{var H=2<gn(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",xs(u)}}finally{Fn(u)}}}}function Fn(u,m){if(u.g){Qr(u);const g=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||kt(u,"ready");try{g.onreadystatechange=T}catch{}}}function Qr(u){u.I&&(y.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function gn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Is(m)}};function Uo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Kc(u){const m={};u=(u.g&&2<=gn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(gt(u[T]))continue;var g=M(u[T]);const P=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const H=m[P]||[];m[P]=H,H.push(g)}O(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yr(u,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||m}function ks(u){this.Aa=0,this.i=[],this.j=new hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yr("baseRetryDelayMs",5e3,u),this.cb=Yr("retryDelaySeedMs",1e4,u),this.Wa=Yr("forwardChannelMaxRetries",2,u),this.wa=Yr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ui(u&&u.concurrentRequestLimit),this.Da=new Gr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=ks.prototype,s.la=8,s.G=1,s.connect=function(u,m,g,T){Xt(0),this.W=u,this.H=m||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=Ho(this,null,this.W),Bs(this)};function el(u){if(Po(u),u.G==3){var m=u.U++,g=en(u.I);if(Ht(g,"SID",u.K),Ht(g,"RID",m),Ht(g,"TYPE","terminate"),Kr(u,g),m=new Fe(u,u.j,m),m.L=2,m.v=Hr(en(g)),g=!1,y.navigator&&y.navigator.sendBeacon)try{g=y.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&y.Image&&(new Image().src=m.v,g=!0),g||(m.g=jo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Lr(m)}Bo(u)}function zs(u){u.g&&(Xr(u),u.g.cancel(),u.g=null)}function Po(u){zs(u),u.u&&(y.clearTimeout(u.u),u.u=null),Hs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&y.clearTimeout(u.s),u.s=null)}function Bs(u){if(!Os(u.h)&&!u.s){u.s=!0;var m=u.Ga;W||I(),at||(W(),at=!0),Pt.add(m,u),u.B=0}}function Xc(u,m){return Ns(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ce(L(u.Ga,u,m),rl(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new Fe(this,this.j,u);let H=this.o;if(this.S&&(H?(H=A(H),D(H,this.S)):H=this.S),this.m!==null||this.O||(P.H=H,H=null),this.P)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=xo(this,P,m),g=en(this.I),Ht(g,"RID",u),Ht(g,"CVER",22),this.D&&Ht(g,"X-HTTP-Session-Id",this.D),Kr(this,g),H&&(this.O?m="headers="+encodeURIComponent(String(tl(H)))+"&"+m:this.m&&Te(g,this.m,H)),Ms(this.h,P),this.Ua&&Ht(g,"TYPE","init"),this.P?(Ht(g,"$req",m),Ht(g,"SID","null"),P.T=!0,Rn(P,g,null)):Rn(P,g,m),this.G=2}}else this.G==3&&(u?nl(this,u):this.i.length==0||Os(this.h)||nl(this))};function nl(u,m){var g;m?g=m.l:g=u.U++;const T=en(u.I);Ht(T,"SID",u.K),Ht(T,"RID",g),Ht(T,"AID",u.T),Kr(u,T),u.m&&u.o&&Te(T,u.m,u.o),g=new Fe(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),m&&(u.i=m.D.concat(u.i)),m=xo(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ms(u.h,g),Rn(g,T,m)}function Kr(u,m){u.H&&Vt(u.H,function(g,T){Ht(m,T,g)}),u.l&&Xa({},function(g,T){Ht(m,T,g)})}function xo(u,m,g){g=Math.min(u.i.length,g);var T=u.l?L(u.l.Na,u.l,u):null;t:{var P=u.i;let H=-1;for(;;){const J=["count="+g];H==-1?0<g?(H=P[0].g,J.push("ofs="+H)):H=0:J.push("ofs="+H);let It=!0;for(let pe=0;pe<g;pe++){let Ct=P[pe].g;const Ae=P[pe].map;if(Ct-=H,0>Ct)H=Math.max(0,P[pe].g-100),It=!1;else try{jn(Ae,J,"req"+Ct+"_")}catch{T&&T(Ae)}}if(It){T=J.join("&");break t}}}return u=u.i.splice(0,g),m.D=u,T}function Lo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;W||I(),at||(W(),at=!0),Pt.add(m,u),u.v=0}}function il(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ce(L(u.Fa,u),rl(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,ko(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ce(L(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Xt(10),zs(this),ko(this))};function Xr(u){u.A!=null&&(y.clearTimeout(u.A),u.A=null)}function ko(u){u.g=new Fe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=en(u.qa);Ht(m,"RID","rpc"),Ht(m,"SID",u.K),Ht(m,"AID",u.T),Ht(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ht(m,"TO",u.ja),Ht(m,"TYPE","xmlhttp"),Kr(u,m),u.m&&u.o&&Te(m,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=Hr(en(m)),g.m=null,g.P=!0,oi(g,u)}s.Za=function(){this.C!=null&&(this.C=null,zs(this),il(this),Xt(19))};function Hs(u){u.C!=null&&(y.clearTimeout(u.C),u.C=null)}function zo(u,m){var g=null;if(u.g==m){Hs(u),Xr(u),u.g=null;var T=2}else if(Ya(u.h,m))g=m.D,Qe(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var P=u.B;T=zi(),kt(T,new ge(T,g)),Bs(u)}else Lo(u);else if(P=m.s,P==3||P==0&&0<m.X||!(T==1&&Xc(u,m)||T==2&&il(u)))switch(g&&0<g.length&&(m=u.h,m.i=m.i.concat(g)),P){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function rl(u,m){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var g=L(u.fb,u),T=u.Xa;const P=!T;T=new he(T||"//www.google.com/images/cleardot.gif"),y.location&&y.location.protocol=="http"||Br(T,"https"),Hr(T),P?qr(T.toString(),g):wn(T.toString(),g)}else Xt(2);u.G=0,u.l&&u.l.sa(m),Bo(u),Po(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function Bo(u){if(u.G=0,u.ka=[],u.l){const m=Ka(u.h);(m.length!=0||u.i.length!=0)&&(et(u.ka,m),et(u.ka,u.i),u.h.i.length=0,rt(u.i),u.i.length=0),u.l.ra()}}function Ho(u,m,g){var T=g instanceof he?en(g):new he(g);if(T.g!="")m&&(T.g=m+"."+T.g),Gi(T,T.s);else{var P=y.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;var H=new he(null);T&&Br(H,T),m&&(H.g=m),P&&Gi(H,P),g&&(H.l=g),T=H}return g=u.D,m=u.ya,g&&m&&Ht(T,g,m),Ht(T,"VER",u.la),Kr(u,T),T}function jo(u,m,g){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Lt(new Fi({eb:g})):new Lt(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function qo(){}s=qo.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function js(){}js.prototype.g=function(u,m){return new Ye(u,m)};function Ye(u,m){te.call(this),this.g=new ks(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!gt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!gt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Qn(this)}$(Ye,te),Ye.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ye.prototype.close=function(){el(this.g)},Ye.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=bn(u),u=g);m.i.push(new Oo(m.Ya++,u)),m.G==3&&Bs(m)},Ye.prototype.N=function(){this.g.l=null,delete this.j,el(this.g),delete this.g,Ye.aa.N.call(this)};function Go(u){ai.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const g in m){u=g;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}$(Go,ai);function Fo(){qa.call(this),this.status=1}$(Fo,qa);function Qn(u){this.g=u}$(Qn,qo),Qn.prototype.ua=function(){kt(this.g,"a")},Qn.prototype.ta=function(u){kt(this.g,new Go(u))},Qn.prototype.sa=function(u){kt(this.g,new Fo)},Qn.prototype.ra=function(){kt(this.g,"b")},js.prototype.createWebChannel=js.prototype.g,Ye.prototype.send=Ye.prototype.o,Ye.prototype.open=Ye.prototype.m,Ye.prototype.close=Ye.prototype.close,Bv=function(){return new js},zv=function(){return zi()},kv=Ln,hd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ji.NO_ERROR=0,ji.TIMEOUT=8,ji.HTTP_ERROR=6,nc=ji,li.COMPLETE="complete",Lv=li,ja.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",te.prototype.listen=te.prototype.K,Zl=ja,Lt.prototype.listenOnce=Lt.prototype.L,Lt.prototype.getLastError=Lt.prototype.Ka,Lt.prototype.getLastErrorCode=Lt.prototype.Ba,Lt.prototype.getStatus=Lt.prototype.Z,Lt.prototype.getResponseJson=Lt.prototype.Oa,Lt.prototype.getResponseText=Lt.prototype.oa,Lt.prototype.send=Lt.prototype.ea,Lt.prototype.setWithCredentials=Lt.prototype.Ha,xv=Lt}).apply(typeof Yu<"u"?Yu:typeof self<"u"?self:typeof window<"u"?window:{});const e_="@firebase/firestore",n_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}je.UNAUTHENTICATED=new je(null),je.GOOGLE_CREDENTIALS=new je("google-credentials-uid"),je.FIRST_PARTY=new je("first-party-uid"),je.MOCK_USER=new je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pa="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new bd("@firebase/firestore");function ya(){return _s.logLevel}function it(s,...e){if(_s.logLevel<=Rt.DEBUG){const i=e.map(Ld);_s.debug(`Firestore (${Pa}): ${s}`,...i)}}function vs(s,...e){if(_s.logLevel<=Rt.ERROR){const i=e.map(Ld);_s.error(`Firestore (${Pa}): ${s}`,...i)}}function Nc(s,...e){if(_s.logLevel<=Rt.WARN){const i=e.map(Ld);_s.warn(`Firestore (${Pa}): ${s}`,...i)}}function Ld(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,Hv(s,a,i)}function Hv(s,e,i){let a=`FIRESTORE (${Pa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw vs(a),new Error(a)}function re(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||Hv(e,o,a)}function Kt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends Li{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Sb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(je.UNAUTHENTICATED))}shutdown(){}}class bb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Rb{constructor(e){this.t=e,this.currentUser=je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){re(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new ds;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ds,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await o(this.currentUser)})},y=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>y(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?y(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ds)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(re(typeof a.accessToken=="string",31837,{l:a}),new jv(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return re(e===null||typeof e=="string",2055,{h:e}),new je(e)}}class wb{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ib{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new wb(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class i_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cb{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){re(this.o===void 0,3512);const a=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const o=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new i_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(re(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new i_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Db(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function Mt(s,e){return s<e?-1:s>e?1:0}function fd(s,e){let i=0;for(;i<s.length&&i<e.length;){const a=s.codePointAt(i),o=e.codePointAt(i);if(a!==o){if(a<128&&o<128)return Mt(a,o);{const h=Ob(),d=Nb(h.encode(r_(s,i)),h.encode(r_(e,i)));return d!==0?d:Mt(a,o)}}i+=a>65535?2:1}return Mt(s.length,e.length)}function r_(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function Nb(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return Mt(s[i],e[i]);return Mt(s.length,e.length)}function wa(s,e,i){return s.length===e.length&&s.every((a,o)=>i(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=-62135596800,a_=1e6;class ue{static now(){return ue.fromMillis(Date.now())}static fromDate(e){return ue.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*a_);return new ue(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ft(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ft(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<s_)throw new ft(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ft(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/a_}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-s_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{static fromTimestamp(e){return new $t(e)}static min(){return new $t(new ue(0,0))}static max(){return new $t(new ue(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="__name__";class Wn{constructor(e,i,a){i===void 0?i=0:i>e.length&&At(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&At(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Wn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Wn?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=Wn.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Mt(e.length,i.length)}static compareSegments(e,i){const a=Wn.isNumericId(e),o=Wn.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Wn.extractNumericId(e).compare(Wn.extractNumericId(i)):fd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xd.fromString(e.substring(4,e.length-2))}}class ie extends Wn{construct(e,i,a){return new ie(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ft(K.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(o=>o.length>0))}return new ie(i)}static emptyPath(){return new ie([])}}const Mb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xe extends Wn{construct(e,i,a){return new xe(e,i,a)}static isValidIdentifier(e){return Mb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===l_}static keyField(){return new xe([l_])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new ft(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new ft(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ft(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(a+=y,o++):(h(),o++)}if(h(),d)throw new ft(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xe(i)}static emptyPath(){return new xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.path=e}static fromPath(e){return new _t(ie.fromString(e))}static fromName(e){return new _t(ie.fromString(e).popFirst(5))}static empty(){return new _t(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ie.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _t(new ie(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=-1;function Vb(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=$t.fromTimestamp(a===1e9?new ue(i+1,0):new ue(i,a));return new Sr(o,_t.empty(),e)}function Ub(s){return new Sr(s.readTime,s.key,ao)}class Sr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Sr($t.min(),_t.empty(),ao)}static max(){return new Sr($t.max(),_t.empty(),ao)}}function Pb(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=_t.comparator(s.documentKey,e.documentKey),i!==0?i:Mt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Lb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kd(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==xb)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Q((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Q?i:Q.resolve(i)}catch(i){return Q.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.reject(i)}static resolve(e){return new Q((i,a)=>{i(e)})}static reject(e){return new Q((i,a)=>{a(e)})}static waitFor(e){return new Q((i,a)=>{let o=0,h=0,d=!1;e.forEach(y=>{++o,y.next(()=>{++h,d&&h===o&&i()},_=>a(_))}),d=!0,h===o&&i()})}static or(e){let i=Q.resolve(!1);for(const a of e)i=i.next(o=>o?Q.resolve(o):a());return i}static forEach(e,i){const a=[];return e.forEach((o,h)=>{a.push(i.call(this,o,h))}),this.waitFor(a)}static mapArray(e,i){return new Q((a,o)=>{const h=e.length,d=new Array(h);let y=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(S=>{d[v]=S,++y,y===h&&a(d)},S=>o(S))}})}static doWhile(e,i){return new Q((a,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):a()};h()})}}function kb(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function yo(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>i.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}zd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd=-1;function Hd(s){return s==null}function mc(s){return s===0&&1/s==-1/0}function zb(s){return typeof s=="number"&&Number.isInteger(s)&&!mc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="";function Bb(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=o_(e)),e=Hb(s.get(i),e);return o_(e)}function Hb(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case Gv:i+="";break;default:i+=h}}return i}function o_(s){return s+Gv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function xa(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Fv(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,i){this.comparator=e,this.root=i||Ue.EMPTY}insert(e,i){return new We(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ue.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ue.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ku(this.root,e,this.comparator,!0)}}class Ku{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ue{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??Ue.RED,this.left=o??Ue.EMPTY,this.right=h??Ue.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new Ue(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ue.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ue.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ue.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ue.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw At(27949);return e+(this.isRed()?0:1)}}Ue.EMPTY=null,Ue.RED=!0,Ue.BLACK=!1;Ue.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(e,i,a,o,h){return this}insert(e,i,a){return new Ue(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new c_(this.data.getIterator())}getIteratorFrom(e){return new c_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof Le)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Le(this.comparator);return i.data=e,i}}class c_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(xe.comparator)}static empty(){return new Un([])}unionWith(e){let i=new Le(xe.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Un(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return wa(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new jb("Invalid base64 string: "+h):h}}(e);return new ni(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new ni(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ni.EMPTY_BYTE_STRING=new ni("");const qb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Es(s){if(re(!!s,39018),typeof s=="string"){let e=0;const i=qb.exec(s);if(re(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Pe(s.seconds),nanos:Pe(s.nanos)}}function Pe(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ia(s){return typeof s=="string"?ni.fromBase64String(s):ni.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="server_timestamp",Yv="__type__",Kv="__previous_value__",Xv="__local_write_time__";function jd(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[Yv])===null||i===void 0?void 0:i.stringValue)===Qv}function qd(s){const e=s.mapValue.fields[Kv];return jd(e)?qd(e):e}function gc(s){const e=Es(s.mapValue.fields[Xv].timestampValue);return new ue(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,i,a,o,h,d,y,_,v,S){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=S}}const pc="(default)";class yc{constructor(e,i){this.projectId=e,this.database=i||pc}static empty(){return new yc("","")}get isDefaultDatabase(){return this.database===pc}isEqual(e){return e instanceof yc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="__type__",Fb="__max__",Xu={mapValue:{}},$v="__vector__",dd="value";function Ts(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?jd(s)?4:Yb(s)?9007199254740991:Qb(s)?10:11:At(28295,{value:s})}function ii(s,e){if(s===e)return!0;const i=Ts(s);if(i!==Ts(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return gc(s).isEqual(gc(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Es(o.timestampValue),y=Es(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(o,h){return Ia(o.bytesValue).isEqual(Ia(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,h){return Pe(o.geoPointValue.latitude)===Pe(h.geoPointValue.latitude)&&Pe(o.geoPointValue.longitude)===Pe(h.geoPointValue.longitude)}(s,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return Pe(o.integerValue)===Pe(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=Pe(o.doubleValue),y=Pe(h.doubleValue);return d===y?mc(d)===mc(y):isNaN(d)&&isNaN(y)}return!1}(s,e);case 9:return wa(s.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},y=h.mapValue.fields||{};if(u_(d)!==u_(y))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(y[_]===void 0||!ii(d[_],y[_])))return!1;return!0}(s,e);default:return At(52216,{left:s})}}function lo(s,e){return(s.values||[]).find(i=>ii(i,e))!==void 0}function Ca(s,e){if(s===e)return 0;const i=Ts(s),a=Ts(e);if(i!==a)return Mt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const y=Pe(h.integerValue||h.doubleValue),_=Pe(d.integerValue||d.doubleValue);return y<_?-1:y>_?1:y===_?0:isNaN(y)?isNaN(_)?0:-1:1}(s,e);case 3:return h_(s.timestampValue,e.timestampValue);case 4:return h_(gc(s),gc(e));case 5:return fd(s.stringValue,e.stringValue);case 6:return function(h,d){const y=Ia(h),_=Ia(d);return y.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const y=h.split("/"),_=d.split("/");for(let v=0;v<y.length&&v<_.length;v++){const S=Mt(y[v],_[v]);if(S!==0)return S}return Mt(y.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const y=Mt(Pe(h.latitude),Pe(d.latitude));return y!==0?y:Mt(Pe(h.longitude),Pe(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return f_(s.arrayValue,e.arrayValue);case 10:return function(h,d){var y,_,v,S;const N=h.fields||{},L=d.fields||{},Z=(y=N[dd])===null||y===void 0?void 0:y.arrayValue,$=(_=L[dd])===null||_===void 0?void 0:_.arrayValue,rt=Mt(((v=Z==null?void 0:Z.values)===null||v===void 0?void 0:v.length)||0,((S=$==null?void 0:$.values)===null||S===void 0?void 0:S.length)||0);return rt!==0?rt:f_(Z,$)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===Xu.mapValue&&d===Xu.mapValue)return 0;if(h===Xu.mapValue)return 1;if(d===Xu.mapValue)return-1;const y=h.fields||{},_=Object.keys(y),v=d.fields||{},S=Object.keys(v);_.sort(),S.sort();for(let N=0;N<_.length&&N<S.length;++N){const L=fd(_[N],S[N]);if(L!==0)return L;const Z=Ca(y[_[N]],v[S[N]]);if(Z!==0)return Z}return Mt(_.length,S.length)}(s.mapValue,e.mapValue);default:throw At(23264,{Pe:i})}}function h_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Mt(s,e);const i=Es(s),a=Es(e),o=Mt(i.seconds,a.seconds);return o!==0?o:Mt(i.nanos,a.nanos)}function f_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=Ca(i[o],a[o]);if(h)return h}return Mt(i.length,a.length)}function Da(s){return md(s)}function md(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=Es(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return Ia(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return _t.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=md(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${md(i.fields[d])}`;return o+"}"}(s.mapValue):At(61005,{value:s})}function ic(s){switch(Ts(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qd(s);return e?16+ic(e):16;case 5:return 2*s.stringValue.length;case 6:return Ia(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,h)=>o+ic(h),0)}(s.arrayValue);case 10:case 11:return function(a){let o=0;return xa(a.fields,(h,d)=>{o+=h.length+ic(d)}),o}(s.mapValue);default:throw At(13486,{value:s})}}function gd(s){return!!s&&"integerValue"in s}function Gd(s){return!!s&&"arrayValue"in s}function rc(s){return!!s&&"mapValue"in s}function Qb(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[Zv])===null||i===void 0?void 0:i.stringValue)===$v}function Wl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return xa(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Wl(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Wl(s.arrayValue.values[i]);return e}return Object.assign({},s)}function Yb(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Fb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!rc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(i)}setAll(e){let i=xe.emptyPath(),a={},o=[];e.forEach((d,y)=>{if(!i.isImmediateParentOf(y)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=y.popLast()}d?a[y.lastSegment()]=Wl(d):o.push(y.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());rc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];rc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){xa(i,(o,h)=>e[o]=h);for(const o of a)delete e[o]}clone(){return new Mn(Wl(this.value))}}function Jv(s){const e=[];return xa(s.fields,(i,a)=>{const o=new xe([i]);if(rc(a)){const h=Jv(a.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,i,a,o,h,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new On(e,0,$t.min(),$t.min(),$t.min(),Mn.empty(),0)}static newFoundDocument(e,i,a,o){return new On(e,1,i,$t.min(),a,o,0)}static newNoDocument(e,i){return new On(e,2,i,$t.min(),$t.min(),Mn.empty(),0)}static newUnknownDocument(e,i){return new On(e,3,i,$t.min(),$t.min(),Mn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual($t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof On&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,i){this.position=e,this.inclusive=i}}function d_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const h=e[o],d=s.position[o];if(h.field.isKeyField()?a=_t.comparator(_t.fromName(d.referenceValue),i.key):a=Ca(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function m_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ii(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,i="asc"){this.field=e,this.dir=i}}function Kb(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{}class Ie extends Wv{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new Zb(e,i,a):i==="array-contains"?new Wb(e,a):i==="in"?new tR(e,a):i==="not-in"?new eR(e,a):i==="array-contains-any"?new nR(e,a):new Ie(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new $b(e,a):new Jb(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ca(i,this.value)):i!==null&&Ts(this.value)===Ts(i)&&this.matchesComparison(Ca(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class br extends Wv{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new br(e,i)}matches(e){return t0(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function t0(s){return s.op==="and"}function e0(s){return Xb(s)&&t0(s)}function Xb(s){for(const e of s.filters)if(e instanceof br)return!1;return!0}function pd(s){if(s instanceof Ie)return s.field.canonicalString()+s.op.toString()+Da(s.value);if(e0(s))return s.filters.map(e=>pd(e)).join(",");{const e=s.filters.map(i=>pd(i)).join(",");return`${s.op}(${e})`}}function n0(s,e){return s instanceof Ie?function(a,o){return o instanceof Ie&&a.op===o.op&&a.field.isEqual(o.field)&&ii(a.value,o.value)}(s,e):s instanceof br?function(a,o){return o instanceof br&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((h,d,y)=>h&&n0(d,o.filters[y]),!0):!1}(s,e):void At(19439)}function i0(s){return s instanceof Ie?function(i){return`${i.field.canonicalString()} ${i.op} ${Da(i.value)}`}(s):s instanceof br?function(i){return i.op.toString()+" {"+i.getFilters().map(i0).join(" ,")+"}"}(s):"Filter"}class Zb extends Ie{constructor(e,i,a){super(e,i,a),this.key=_t.fromName(a.referenceValue)}matches(e){const i=_t.comparator(e.key,this.key);return this.matchesComparison(i)}}class $b extends Ie{constructor(e,i){super(e,"in",i),this.keys=r0("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class Jb extends Ie{constructor(e,i){super(e,"not-in",i),this.keys=r0("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function r0(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>_t.fromName(a.referenceValue))}class Wb extends Ie{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Gd(i)&&lo(i.arrayValue,this.value)}}class tR extends Ie{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&lo(this.value.arrayValue,i)}}class eR extends Ie{constructor(e,i){super(e,"not-in",i)}matches(e){if(lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!lo(this.value.arrayValue,i)}}class nR extends Ie{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Gd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>lo(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,i=null,a=[],o=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=y,this.Ie=null}}function g_(s,e=null,i=[],a=[],o=null,h=null,d=null){return new iR(s,e,i,a,o,h,d)}function Fd(s){const e=Kt(s);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>pd(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),Hd(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>Da(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>Da(a)).join(",")),e.Ie=i}return e.Ie}function Qd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Kb(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!n0(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!m_(s.startAt,e.startAt)&&m_(s.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,i=null,a=[],o=[],h=null,d="F",y=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=_,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function rR(s,e,i,a,o,h,d,y){return new Mc(s,e,i,a,o,h,d,y)}function sR(s){return new Mc(s)}function p_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function aR(s){return s.collectionGroup!==null}function to(s){const e=Kt(s);if(e.Ee===null){e.Ee=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Le(xe.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(y=y.add(v.field))})}),y})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new vc(h,a))}),i.has(xe.keyField().canonicalString())||e.Ee.push(new vc(xe.keyField(),a))}return e.Ee}function ms(s){const e=Kt(s);return e.de||(e.de=lR(e,to(s))),e.de}function lR(s,e){if(s.limitType==="F")return g_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new vc(o.field,h)});const i=s.endAt?new _c(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new _c(s.startAt.position,s.startAt.inclusive):null;return g_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function yd(s,e,i){return new Mc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function s0(s,e){return Qd(ms(s),ms(e))&&s.limitType===e.limitType}function a0(s){return`${Fd(ms(s))}|lt:${s.limitType}`}function Yl(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(o=>i0(o)).join(", ")}]`),Hd(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(o=>Da(o)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(o=>Da(o)).join(",")),`Target(${a})`}(ms(s))}; limitType=${s.limitType})`}function Yd(s,e){return e.isFoundDocument()&&function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):_t.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,o){for(const h of to(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0}(s,e)&&function(a,o){return!(a.startAt&&!function(d,y,_){const v=d_(d,y,_);return d.inclusive?v<=0:v<0}(a.startAt,to(a),o)||a.endAt&&!function(d,y,_){const v=d_(d,y,_);return d.inclusive?v>=0:v>0}(a.endAt,to(a),o))}(s,e)}function oR(s){return(e,i)=>{let a=!1;for(const o of to(s)){const h=uR(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function uR(s,e,i){const a=s.field.isKeyField()?_t.comparator(e.key,i.key):function(h,d,y){const _=d.data.field(h),v=y.data.field(h);return _!==null&&v!==null?Ca(_,v):At(42886)}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return At(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){xa(this.inner,(i,a)=>{for(const[o,h]of a)e(o,h)})}isEmpty(){return Fv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=new We(_t.comparator);function Ec(){return cR}const l0=new We(_t.comparator);function Zu(...s){let e=l0;for(const i of s)e=e.insert(i.key,i);return e}function o0(s){let e=l0;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function fs(){return eo()}function u0(){return eo()}function eo(){return new Ss(s=>s.toString(),(s,e)=>s.isEqual(e))}const hR=new We(_t.comparator),fR=new Le(_t.comparator);function qe(...s){let e=fR;for(const i of s)e=e.add(i);return e}const dR=new Le(Mt);function mR(){return dR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mc(e)?"-0":e}}function c0(s){return{integerValue:""+s}}function gR(s,e){return zb(e)?c0(e):Kd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(){this._=void 0}}function pR(s,e,i){return s instanceof Tc?function(o,h){const d={fields:{[Yv]:{stringValue:Qv},[Xv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&jd(h)&&(h=qd(h)),h&&(d.fields[Kv]=h),{mapValue:d}}(i,e):s instanceof oo?f0(s,e):s instanceof uo?d0(s,e):function(o,h){const d=h0(o,h),y=y_(d)+y_(o.Re);return gd(d)&&gd(o.Re)?c0(y):Kd(o.serializer,y)}(s,e)}function yR(s,e,i){return s instanceof oo?f0(s,e):s instanceof uo?d0(s,e):i}function h0(s,e){return s instanceof Ac?function(a){return gd(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class Tc extends Vc{}class oo extends Vc{constructor(e){super(),this.elements=e}}function f0(s,e){const i=m0(e);for(const a of s.elements)i.some(o=>ii(o,a))||i.push(a);return{arrayValue:{values:i}}}class uo extends Vc{constructor(e){super(),this.elements=e}}function d0(s,e){let i=m0(e);for(const a of s.elements)i=i.filter(o=>!ii(o,a));return{arrayValue:{values:i}}}class Ac extends Vc{constructor(e,i){super(),this.serializer=e,this.Re=i}}function y_(s){return Pe(s.integerValue||s.doubleValue)}function m0(s){return Gd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function _R(s,e){return s.field.isEqual(e.field)&&function(a,o){return a instanceof oo&&o instanceof oo||a instanceof uo&&o instanceof uo?wa(a.elements,o.elements,ii):a instanceof Ac&&o instanceof Ac?ii(a.Re,o.Re):a instanceof Tc&&o instanceof Tc}(s.transform,e.transform)}class vR{constructor(e,i){this.version=e,this.transformResults=i}}class Vi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Vi}static exists(e){return new Vi(void 0,e)}static updateTime(e){return new Vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Uc{}function g0(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new y0(s.key,Vi.none()):new _o(s.key,s.data,Vi.none());{const i=s.data,a=Mn.empty();let o=new Le(xe.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new bs(s.key,a,new Un(o.toArray()),Vi.none())}}function ER(s,e,i){s instanceof _o?function(o,h,d){const y=o.value.clone(),_=v_(o.fieldTransforms,h,d.transformResults);y.setAll(_),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(s,e,i):s instanceof bs?function(o,h,d){if(!sc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const y=v_(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(p0(o)),_.setAll(y),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function no(s,e,i,a){return s instanceof _o?function(h,d,y,_){if(!sc(h.precondition,d))return y;const v=h.value.clone(),S=E_(h.fieldTransforms,_,d);return v.setAll(S),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof bs?function(h,d,y,_){if(!sc(h.precondition,d))return y;const v=E_(h.fieldTransforms,_,d),S=d.data;return S.setAll(p0(h)),S.setAll(v),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(N=>N.field))}(s,e,i,a):function(h,d,y){return sc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y}(s,e,i)}function TR(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),h=h0(a.transform,o||null);h!=null&&(i===null&&(i=Mn.empty()),i.set(a.field,h))}return i||null}function __(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&wa(a,o,(h,d)=>_R(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class _o extends Uc{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class bs extends Uc{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function p0(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function v_(s,e,i){const a=new Map;re(s.length===i.length,32656,{Ve:i.length,me:s.length});for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,y=e.data.field(h.field);a.set(h.field,yR(d,y,i[o]))}return a}function E_(s,e,i){const a=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);a.set(o.field,pR(h,d,e))}return a}class y0 extends Uc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AR extends Uc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&ER(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=no(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=no(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=u0();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(o.key)?null:y;const _=g0(d,y);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument($t.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),qe())}isEqual(e){return this.batchId===e.batchId&&wa(this.mutations,e.mutations,(i,a)=>__(i,a))&&wa(this.baseMutations,e.baseMutations,(i,a)=>__(i,a))}}class Xd{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){re(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let o=function(){return hR}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new Xd(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me,Ot;function RR(s){switch(s){case K.OK:return At(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return At(15467,{code:s})}}function wR(s){if(s===void 0)return vs("GRPC error has no .code"),K.UNKNOWN;switch(s){case me.OK:return K.OK;case me.CANCELLED:return K.CANCELLED;case me.UNKNOWN:return K.UNKNOWN;case me.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case me.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case me.INTERNAL:return K.INTERNAL;case me.UNAVAILABLE:return K.UNAVAILABLE;case me.UNAUTHENTICATED:return K.UNAUTHENTICATED;case me.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case me.NOT_FOUND:return K.NOT_FOUND;case me.ALREADY_EXISTS:return K.ALREADY_EXISTS;case me.PERMISSION_DENIED:return K.PERMISSION_DENIED;case me.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case me.ABORTED:return K.ABORTED;case me.OUT_OF_RANGE:return K.OUT_OF_RANGE;case me.UNIMPLEMENTED:return K.UNIMPLEMENTED;case me.DATA_LOSS:return K.DATA_LOSS;default:return At(39323,{code:s})}}(Ot=me||(me={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new xd([4294967295,4294967295],0);class IR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function _d(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CR(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function DR(s,e){return _d(s,e.toTimestamp())}function Sa(s){return re(!!s,49232),$t.fromTimestamp(function(i){const a=Es(i);return new ue(a.seconds,a.nanos)}(s))}function _0(s,e){return vd(s,e).canonicalString()}function vd(s,e){const i=function(o){return new ie(["projects",o.projectId,"databases",o.database])}(s).child("documents");return e===void 0?i:i.child(e)}function OR(s){const e=ie.fromString(s);return re(kR(e),10190,{key:e.toString()}),e}function Ed(s,e){return _0(s.databaseId,e.path)}function NR(s){const e=OR(s);return e.length===4?ie.emptyPath():VR(e)}function MR(s){return new ie(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function VR(s){return re(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function T_(s,e,i){return{name:Ed(s,e),fields:i.value.mapValue.fields}}function UR(s,e){let i;if(e instanceof _o)i={update:T_(s,e.key,e.value)};else if(e instanceof y0)i={delete:Ed(s,e.key)};else if(e instanceof bs)i={update:T_(s,e.key,e.data),updateMask:LR(e.fieldMask)};else{if(!(e instanceof AR))return At(16599,{ft:e.type});i={verify:Ed(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const y=d.transform;if(y instanceof Tc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof oo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof uo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Ac)return{fieldPath:d.field.canonicalString(),increment:y.Re};throw At(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:DR(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:At(27497)}(s,e.precondition)),i}function PR(s,e){return s&&s.length>0?(re(e!==void 0,14353),s.map(i=>function(o,h){let d=o.updateTime?Sa(o.updateTime):Sa(h);return d.isEqual($t.min())&&(d=Sa(h)),new vR(d,o.transformResults||[])}(i,e))):[]}function xR(s){let e=NR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){re(a===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let h=[];i.where&&(h=function(N){const L=v0(N);return L instanceof br&&e0(L)?L.getFilters():[L]}(i.where));let d=[];i.orderBy&&(d=function(N){return N.map(L=>function($){return new vc(_a($.field),function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(L))}(i.orderBy));let y=null;i.limit&&(y=function(N){let L;return L=typeof N=="object"?N.value:N,Hd(L)?null:L}(i.limit));let _=null;i.startAt&&(_=function(N){const L=!!N.before,Z=N.values||[];return new _c(Z,L)}(i.startAt));let v=null;return i.endAt&&(v=function(N){const L=!N.before,Z=N.values||[];return new _c(Z,L)}(i.endAt)),rR(e,o,d,h,y,"F",_,v)}function v0(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=_a(i.unaryFilter.field);return Ie.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=_a(i.unaryFilter.field);return Ie.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=_a(i.unaryFilter.field);return Ie.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=_a(i.unaryFilter.field);return Ie.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}}(s):s.fieldFilter!==void 0?function(i){return Ie.create(_a(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return br.create(i.compositeFilter.filters.map(a=>v0(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return At(1026)}}(i.compositeFilter.op))}(s):At(30097,{filter:s})}function _a(s){return xe.fromServerFormat(s.fieldPath)}function LR(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function kR(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this.wt=e}}function BR(s){const e=xR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?yd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(){this.Cn=new jR}addToCollectionParentIndex(e,i){return this.Cn.add(i),Q.resolve()}getCollectionParents(e,i){return Q.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Q.resolve()}deleteFieldIndex(e,i){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,i){return Q.resolve()}getDocumentsMatchingTarget(e,i){return Q.resolve(null)}getIndexType(e,i){return Q.resolve(0)}getFieldIndexes(e,i){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,i){return Q.resolve(Sr.min())}getMinOffsetFromCollectionGroup(e,i){return Q.resolve(Sr.min())}updateCollectionGroup(e,i,a){return Q.resolve()}updateIndexEntries(e,i){return Q.resolve()}}class jR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Le(ie.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Le(ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},E0=41943040;class Je{static withCacheSize(e){return new Je(e,Je.DEFAULT_COLLECTION_PERCENTILE,Je.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Je.DEFAULT_COLLECTION_PERCENTILE=10,Je.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Je.DEFAULT=new Je(E0,Je.DEFAULT_COLLECTION_PERCENTILE,Je.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Je.DISABLED=new Je(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Oa(0)}static lr(){return new Oa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="LruGarbageCollector",qR=1048576;function b_([s,e],[i,a]){const o=Mt(s,i);return o===0?Mt(e,a):o}class GR{constructor(e){this.Er=e,this.buffer=new Le(b_),this.dr=0}Ar(){return++this.dr}Rr(e){const i=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();b_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class FR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){it(S_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){yo(i)?it(S_,"Ignoring IndexedDB error during garbage collection: ",i):await kd(i)}await this.mr(3e5)})}}class QR{constructor(e,i){this.gr=e,this.params=i}calculateTargetCount(e,i){return this.gr.pr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return Q.resolve(zd.le);const a=new GR(i);return this.gr.forEachTarget(e,o=>a.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>a.Rr(o))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.gr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.gr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(A_)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),A_):this.wr(e,i))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,i){let a,o,h,d,y,_,v;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,d=Date.now(),this.nthSequenceNumber(e,o))).next(N=>(a=N,y=Date.now(),this.removeTargets(e,a,i))).next(N=>(h=N,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(N=>(v=Date.now(),ya()<=Rt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${h} targets in `+(_-y)+`ms
	Removed ${N} documents in `+(v-_)+`ms
Total Duration: ${v-S}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:N})))}}function YR(s,e){return new QR(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(){this.changes=new Ss(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Q.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(a!==null&&no(a.mutation,o,Un.empty(),ue.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,qe()).next(()=>a))}getLocalViewOfDocuments(e,i,a=qe()){const o=fs();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,a).next(h=>{let d=Zu();return h.forEach((y,_)=>{d=d.insert(y,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=fs();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,qe()))}populateOverlays(e,i,a){const o=[];return a.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,y)=>{i.set(d,y)})})}computeViews(e,i,a,o){let h=Ec();const d=eo(),y=function(){return eo()}();return i.forEach((_,v)=>{const S=a.get(v.key);o.has(v.key)&&(S===void 0||S.mutation instanceof bs)?h=h.insert(v.key,v):S!==void 0?(d.set(v.key,S.mutation.getFieldMask()),no(S.mutation,v,S.mutation.getFieldMask(),ue.now())):d.set(v.key,Un.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,S)=>d.set(v,S)),i.forEach((v,S)=>{var N;return y.set(v,new XR(S,(N=d.get(v))!==null&&N!==void 0?N:null))}),y))}recalculateAndSaveOverlays(e,i){const a=eo();let o=new We((d,y)=>d-y),h=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const y of d)y.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let S=a.get(_)||Un.empty();S=y.applyToLocalView(v,S),a.set(_,S);const N=(o.get(y.batchId)||qe()).add(_);o=o.insert(y.batchId,N)})}).next(()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const _=y.getNext(),v=_.key,S=_.value,N=u0();S.forEach(L=>{if(!h.has(L)){const Z=g0(i.get(L),a.get(L));Z!==null&&N.set(L,Z),h=h.add(L)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,N))}return Q.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,o){return function(d){return _t.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):aR(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):Q.resolve(fs());let y=ao,_=h;return d.next(v=>Q.forEach(v,(S,N)=>(y<N.largestBatchId&&(y=N.largestBatchId),h.get(S)?Q.resolve():this.remoteDocumentCache.getEntry(e,S).next(L=>{_=_.insert(S,L)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,qe())).next(S=>({batchId:y,changes:o0(S)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new _t(i)).next(a=>{let o=Zu();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let d=Zu();return this.indexManager.getCollectionParents(e,h).next(y=>Q.forEach(y,_=>{const v=function(N,L){return new Mc(L,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,o).next(S=>{S.forEach((N,L)=>{d=d.insert(N,L)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o))).next(d=>{h.forEach((_,v)=>{const S=v.getKey();d.get(S)===null&&(d=d.insert(S,On.newInvalidDocument(S)))});let y=Zu();return d.forEach((_,v)=>{const S=h.get(_);S!==void 0&&no(S.mutation,v,Un.empty(),ue.now()),Yd(i,v)&&(y=y.insert(_,v))}),y})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,i){return Q.resolve(this.kr.get(i))}saveBundleMetadata(e,i){return this.kr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:Sa(o.createTime)}}(i)),Q.resolve()}getNamedQuery(e,i){return Q.resolve(this.qr.get(i))}saveNamedQuery(e,i){return this.qr.set(i.name,function(o){return{name:o.name,query:BR(o.bundledQuery),readTime:Sa(o.readTime)}}(i)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(){this.overlays=new We(_t.comparator),this.Qr=new Map}getOverlay(e,i){return Q.resolve(this.overlays.get(i))}getOverlays(e,i){const a=fs();return Q.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&a.set(o,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((o,h)=>{this.St(e,i,h)}),Q.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Qr.get(a);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(a)),Q.resolve()}getOverlaysForCollection(e,i,a){const o=fs(),h=i.length+1,d=new _t(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const _=y.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&o.set(_.getKey(),_)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new We((v,S)=>v-S);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let S=h.get(v.largestBatchId);S===null&&(S=fs(),h=h.insert(v.largestBatchId,S)),S.set(v.getKey(),v)}}const y=fs(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,S)=>y.set(v,S)),!(y.size()>=o)););return Q.resolve(y)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Qr.get(o.largestBatchId).delete(a.key);this.Qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new bR(i,a));let h=this.Qr.get(i);h===void 0&&(h=qe(),this.Qr.set(i,h)),this.Qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.sessionToken=ni.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(){this.$r=new Le(we.Ur),this.Kr=new Le(we.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,i){const a=new we(e,i);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.zr(new we(e,i))}jr(e,i){e.forEach(a=>this.removeReference(a,i))}Hr(e){const i=new _t(new ie([])),a=new we(i,e),o=new we(i,e+1),h=[];return this.Kr.forEachInRange([a,o],d=>{this.zr(d),h.push(d.key)}),h}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const i=new _t(new ie([])),a=new we(i,e),o=new we(i,e+1);let h=qe();return this.Kr.forEachInRange([a,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new we(e,0),a=this.$r.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class we{constructor(e,i){this.key=e,this.Zr=i}static Ur(e,i){return _t.comparator(e.key,i.key)||Mt(e.Zr,i.Zr)}static Wr(e,i){return Mt(e.Zr,i.Zr)||_t.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new Le(we.Ur)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new SR(h,i,a,o);this.mutationQueue.push(d);for(const y of o)this.Xr=this.Xr.add(new we(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return Q.resolve(d)}lookupMutationBatch(e,i){return Q.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ti(a),h=o<0?0:o;return Q.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Bd:this.nr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new we(i,0),o=new we(i,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([a,o],d=>{const y=this.ei(d.Zr);h.push(y)}),Q.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Le(Mt);return i.forEach(o=>{const h=new we(o,0),d=new we(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,d],y=>{a=a.add(y.Zr)})}),Q.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;_t.isDocumentKey(h)||(h=h.child(""));const d=new we(new _t(h),0);let y=new Le(Mt);return this.Xr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===o&&(y=y.add(_.Zr)),!0)},d),Q.resolve(this.ni(y))}ni(e){const i=[];return e.forEach(a=>{const o=this.ei(a);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){re(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return Q.forEach(i.mutations,o=>{const h=new we(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=a})}sr(e){}containsKey(e,i){const a=new we(i,0),o=this.Xr.firstAfterOrEqual(a);return Q.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ri(e,i){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const i=this.ti(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e){this.ii=e,this.docs=function(){return new We(_t.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.ii(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Q.resolve(a?a.document.mutableCopy():On.newInvalidDocument(i))}getEntries(e,i){let a=Ec();return i.forEach(o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():On.newInvalidDocument(o))}),Q.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=Ec();const d=i.path,y=new _t(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(y);for(;_.hasNext();){const{key:v,value:{document:S}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||Pb(Ub(S),a)<=0||(o.has(S.key)||Yd(i,S))&&(h=h.insert(S.key,S.mutableCopy()))}return Q.resolve(h)}getAllFromCollectionGroup(e,i,a,o){At(9500)}si(e,i){return Q.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new nw(this)}getSize(e){return Q.resolve(this.size)}}class nw extends KR{constructor(e){super(),this.Br=e}applyChanges(e){const i=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?i.push(this.Br.addEntry(e,o)):this.Br.removeEntry(a)}),Q.waitFor(i)}getFromCache(e,i){return this.Br.getEntry(e,i)}getAllFromCache(e,i){return this.Br.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e){this.persistence=e,this.oi=new Ss(i=>Fd(i),Qd),this.lastRemoteSnapshotVersion=$t.min(),this.highestTargetId=0,this._i=0,this.ai=new Zd,this.targetCount=0,this.ui=Oa.cr()}forEachTarget(e,i){return this.oi.forEach((a,o)=>i(o)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this._i&&(this._i=i),Q.resolve()}Tr(e){this.oi.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ui=new Oa(i),this.highestTargetId=i),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,i){return this.Tr(i),this.targetCount+=1,Q.resolve()}updateTargetData(e,i){return this.Tr(i),Q.resolve()}removeTargetData(e,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.oi.forEach((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.oi.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)}),Q.waitFor(h).next(()=>o)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,i){const a=this.oi.get(i)||null;return Q.resolve(a)}addMatchingKeys(e,i,a){return this.ai.Gr(i,a),Q.resolve()}removeMatchingKeys(e,i,a){this.ai.jr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),Q.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.ai.Hr(i),Q.resolve()}getMatchingKeysForTargetId(e,i){const a=this.ai.Yr(i);return Q.resolve(a)}containsKey(e,i){return Q.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,i){this.ci={},this.overlays={},this.li=new zd(0),this.hi=!1,this.hi=!0,this.Pi=new WR,this.referenceDelegate=e(this),this.Ti=new iw(this),this.indexManager=new HR,this.remoteDocumentCache=function(o){return new ew(o)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new zR(i),this.Ei=new $R(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new JR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ci[e.toKey()];return a||(a=new tw(i,this.referenceDelegate),this.ci[e.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,i,a){it("MemoryPersistence","Starting transaction:",e);const o=new rw(this.li.next());return this.referenceDelegate.di(),a(o).next(h=>this.referenceDelegate.Ai(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Ri(e,i){return Q.or(Object.values(this.ci).map(a=>()=>a.containsKey(e,i)))}}class rw extends Lb{constructor(e){super(),this.currentSequenceNumber=e}}class $d{constructor(e){this.persistence=e,this.Vi=new Zd,this.mi=null}static fi(e){return new $d(e)}get gi(){if(this.mi)return this.mi;throw At(60996)}addReference(e,i,a){return this.Vi.addReference(a,i),this.gi.delete(a.toString()),Q.resolve()}removeReference(e,i,a){return this.Vi.removeReference(a,i),this.gi.add(a.toString()),Q.resolve()}markPotentiallyOrphaned(e,i){return this.gi.add(i.toString()),Q.resolve()}removeTarget(e,i){this.Vi.Hr(i.targetId).forEach(o=>this.gi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.gi.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}di(){this.mi=new Set}Ai(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.gi,a=>{const o=_t.fromPath(a);return this.pi(e,o).next(h=>{h||i.removeEntry(o,$t.min())})}).next(()=>(this.mi=null,i.apply(e)))}updateLimboDocument(e,i){return this.pi(e,i).next(a=>{a?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(e){return 0}pi(e,i){return Q.or([()=>Q.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ri(e,i)])}}class Sc{constructor(e,i){this.persistence=e,this.yi=new Ss(a=>Bb(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=YR(this,i)}static fi(e,i){return new Sc(e,i)}di(){}Ai(e){return Q.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}pr(e){const i=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(o=>a+o))}br(e){let i=0;return this.yr(e,a=>{i++}).next(()=>i)}yr(e,i){return Q.forEach(this.yi,(a,o)=>this.Dr(e,a,o).next(h=>h?Q.resolve():i(o)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.si(e,d=>this.Dr(e,d,i).next(y=>{y||(a++,h.removeEntry(d,$t.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.yi.set(i,e.currentSequenceNumber),Q.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.yi.set(a,e.currentSequenceNumber),Q.resolve()}removeReference(e,i,a){return this.yi.set(a,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,i){return this.yi.set(i,e.currentSequenceNumber),Q.resolve()}Ii(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ic(e.data.value)),i}Dr(e,i,a){return Q.or([()=>this.persistence.Ri(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.yi.get(i);return Q.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.ds=a,this.As=o}static Rs(e,i){let a=qe(),o=qe();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Jd(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return FT()?8:kb(Ge())>0?6:4}()}initialize(e,i){this.ys=e,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.ws(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.bs(e,i,o,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new sw;return this.Ss(e,i,d).next(y=>{if(h.result=y,this.fs)return this.Ds(e,i,d,y.size)})}).next(()=>h.result)}Ds(e,i,a,o){return a.documentReadCount<this.gs?(ya()<=Rt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Yl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Q.resolve()):(ya()<=Rt.DEBUG&&it("QueryEngine","Query:",Yl(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ps*o?(ya()<=Rt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Yl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ms(i))):Q.resolve())}ws(e,i){if(p_(i))return Q.resolve(null);let a=ms(i);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=yd(i,null,"F"),a=ms(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=qe(...h);return this.ys.getDocuments(e,d).next(y=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.vs(i,y);return this.Cs(i,v,d,_.readTime)?this.ws(e,yd(i,null,"F")):this.Fs(e,v,i,_)}))})))}bs(e,i,a,o){return p_(i)||o.isEqual($t.min())?Q.resolve(null):this.ys.getDocuments(e,a).next(h=>{const d=this.vs(i,h);return this.Cs(i,d,a,o)?Q.resolve(null):(ya()<=Rt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Yl(i)),this.Fs(e,d,i,Vb(o,ao)).next(y=>y))})}vs(e,i){let a=new Le(oR(e));return i.forEach((o,h)=>{Yd(e,h)&&(a=a.add(h))}),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,a){return ya()<=Rt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Yl(i)),this.ys.getDocumentsMatchingQuery(e,i,Sr.min(),a)}Fs(e,i,a,o){return this.ys.getDocumentsMatchingQuery(e,a,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="LocalStore";class ow{constructor(e,i,a,o){this.persistence=e,this.Ms=i,this.serializer=o,this.xs=new We(Mt),this.Os=new Ss(h=>Fd(h),Qd),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(a)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZR(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.xs))}}function uw(s,e,i,a){return new ow(s,e,i,a)}async function A0(s,e){const i=Kt(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next(h=>(o=h,i.Ls(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],y=[];let _=qe();for(const v of o){d.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}for(const v of h){y.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(a,_).next(v=>({ks:v,removedBatchIds:d,addedBatchIds:y}))})})}function cw(s,e){const i=Kt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),h=i.Bs.newChangeBuffer({trackRemovals:!0});return function(y,_,v,S){const N=v.batch,L=N.keys();let Z=Q.resolve();return L.forEach($=>{Z=Z.next(()=>S.getEntry(_,$)).next(rt=>{const et=v.docVersions.get($);re(et!==null,48541),rt.version.compareTo(et)<0&&(N.applyToRemoteDocument(rt,v),rt.isValidDocument()&&(rt.setReadTime(v.commitVersion),S.addEntry(rt)))})}),Z.next(()=>y.mutationQueue.removeMutationBatch(_,N))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(y){let _=qe();for(let v=0;v<y.mutationResults.length;++v)y.mutationResults[v].transformResults.length>0&&(_=_.add(y.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,o))})}function hw(s){const e=Kt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ti.getLastRemoteSnapshotVersion(i))}function fw(s,e){const i=Kt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Bd),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}class R_{constructor(){this.activeTargetIds=mR()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dw{constructor(){this.xo=new R_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,i,a){this.Oo[e]=i}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new R_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="ConnectivityMonitor";class I_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){it(w_,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){it(w_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u=null;function Td(){return $u===null?$u=function(){return 268435456+Math.round(2147483648*Math.random())}():$u++,"0x"+$u.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td="RestConnection",gw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pw{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+e.host,this.Wo=`projects/${a}/databases/${o}`,this.Go=this.databaseId.database===pc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}zo(e,i,a,o,h){const d=Td(),y=this.jo(e,i.toUriEncodedString());it(td,`Sending RPC '${e}' ${d}:`,y,a);const _={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(_,o,h);const{host:v}=new URL(y),S=Na(v);return this.Jo(e,y,_,a,S).then(N=>(it(td,`Received RPC '${e}' ${d}: `,N),N),N=>{throw Nc(td,`RPC '${e}' ${d} failed with error: `,N,"url: ",y,"request:",a),N})}Yo(e,i,a,o,h,d){return this.zo(e,i,a,o,h)}Ho(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),a&&a.headers.forEach((o,h)=>e[h]=o)}jo(e,i){const a=gw[e];return`${this.Ko}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class _w extends pw{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,h){const d=Td();return new Promise((y,_)=>{const v=new xv;v.setWithCredentials(!0),v.listenOnce(Lv.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case nc.NO_ERROR:const N=v.getResponseJson();it(He,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(N)),y(N);break;case nc.TIMEOUT:it(He,`RPC '${e}' ${d} timed out`),_(new ft(K.DEADLINE_EXCEEDED,"Request time out"));break;case nc.HTTP_ERROR:const L=v.getStatus();if(it(He,`RPC '${e}' ${d} failed with status:`,L,"response text:",v.getResponseText()),L>0){let Z=v.getResponseJson();Array.isArray(Z)&&(Z=Z[0]);const $=Z==null?void 0:Z.error;if($&&$.status&&$.message){const rt=function(wt){const gt=wt.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(gt)>=0?gt:K.UNKNOWN}($.status);_(new ft(rt,$.message))}else _(new ft(K.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new ft(K.UNAVAILABLE,"Connection failed."));break;default:At(9055,{h_:e,streamId:d,P_:v.getLastErrorCode(),T_:v.getLastError()})}}finally{it(He,`RPC '${e}' ${d} completed.`)}});const S=JSON.stringify(o);it(He,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",S,a,15)})}I_(e,i,a){const o=Td(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Bv(),y=zv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Ho(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const S=h.join("");it(He,`Creating RPC '${e}' stream ${o}: ${S}`,_);const N=d.createWebChannel(S,_);this.E_(N);let L=!1,Z=!1;const $=new yw({Zo:et=>{Z?it(He,`Not sending because RPC '${e}' stream ${o} is closed:`,et):(L||(it(He,`Opening RPC '${e}' stream ${o} transport.`),N.open(),L=!0),it(He,`RPC '${e}' stream ${o} sending:`,et),N.send(et))},Xo:()=>N.close()}),rt=(et,wt,gt)=>{et.listen(wt,dt=>{try{gt(dt)}catch(Nt){setTimeout(()=>{throw Nt},0)}})};return rt(N,Zl.EventType.OPEN,()=>{Z||(it(He,`RPC '${e}' stream ${o} transport opened.`),$.__())}),rt(N,Zl.EventType.CLOSE,()=>{Z||(Z=!0,it(He,`RPC '${e}' stream ${o} transport closed`),$.u_(),this.d_(N))}),rt(N,Zl.EventType.ERROR,et=>{Z||(Z=!0,Nc(He,`RPC '${e}' stream ${o} transport errored. Name:`,et.name,"Message:",et.message),$.u_(new ft(K.UNAVAILABLE,"The operation could not be completed")))}),rt(N,Zl.EventType.MESSAGE,et=>{var wt;if(!Z){const gt=et.data[0];re(!!gt,16349);const dt=gt,Nt=(dt==null?void 0:dt.error)||((wt=dt[0])===null||wt===void 0?void 0:wt.error);if(Nt){it(He,`RPC '${e}' stream ${o} received error:`,Nt);const pt=Nt.status;let Vt=function(R){const D=me[R];if(D!==void 0)return wR(D)}(pt),O=Nt.message;Vt===void 0&&(Vt=K.INTERNAL,O="Unknown error status: "+pt+" with message "+Nt.message),Z=!0,$.u_(new ft(Vt,O)),N.close()}else it(He,`RPC '${e}' stream ${o} received:`,gt),$.c_(gt)}}),rt(y,kv.STAT_EVENT,et=>{et.stat===hd.PROXY?it(He,`RPC '${e}' stream ${o} detected buffering proxy`):et.stat===hd.NOPROXY&&it(He,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{$.a_()},0),$}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(i=>i===e)}}function ed(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(s){return new IR(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,i,a=1e3,o=1.5,h=6e4){this.xi=e,this.timerId=i,this.A_=a,this.R_=o,this.V_=h,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const i=Math.floor(this.m_+this.w_()),a=Math.max(0,Date.now()-this.g_),o=Math.max(0,i-a);o>0&&it("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="PersistentStream";class vw{constructor(e,i,a,o,h,d,y,_){this.xi=e,this.S_=a,this.D_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=_,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new S0(e,i)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,i){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(vs(i.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(i)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),i=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.v_===i&&this.z_(a,o)},a=>{e(()=>{const o=new ft(K.UNKNOWN,"Fetching auth token failed: "+a.message);return this.j_(o)})})}z_(e,i){const a=this.G_(this.v_);this.stream=this.H_(e,i),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{a(()=>this.j_(o))}),this.stream.onMessage(o=>{a(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return it(C_,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return i=>{this.xi.enqueueAndForget(()=>this.v_===e?i():(it(C_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ew extends vw{constructor(e,i,a,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,i){return this.connection.I_("Write",e,i)}J_(e){return re(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,re(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){re(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const i=PR(e.writeResults,e.commitTime),a=Sa(e.commitTime);return this.listener.ra(a,i)}ia(){const e={};e.database=MR(this.serializer),this.Q_(e)}ta(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>UR(this.serializer,a))};this.Q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{}class Aw extends Tw{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new ft(K.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,i,a,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.zo(e,vd(i,a),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ft(K.UNKNOWN,h.toString())})}Yo(e,i,a,o,h){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,y])=>this.connection.Yo(e,vd(i,a),o,d,y,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ft(K.UNKNOWN,d.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Sw{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(vs(i),this.ua=!1):it("OnlineStateTracker",i)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo="RemoteStore";class bw{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=h,this.Ra.No(d=>{a.enqueueAndForget(async()=>{To(this)&&(it(vo,"Restarting streams for network reachability change."),await async function(_){const v=Kt(_);v.da.add(4),await Eo(v),v.Va.set("Unknown"),v.da.delete(4),await xc(v)}(this))})}),this.Va=new Sw(a,o)}}async function xc(s){if(To(s))for(const e of s.Aa)await e(!0)}async function Eo(s){for(const e of s.Aa)await e(!1)}function To(s){return Kt(s).da.size===0}async function b0(s,e,i){if(!yo(e))throw e;s.da.add(1),await Eo(s),s.Va.set("Offline"),i||(i=()=>hw(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{it(vo,"Retrying IndexedDB access"),await i(),s.da.delete(1),await xc(s)})}function R0(s,e){return e().catch(i=>b0(s,i,e))}async function Lc(s){const e=Kt(s),i=Rr(e);let a=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Bd;for(;Rw(e);)try{const o=await fw(e.localStore,a);if(o===null){e.Ia.length===0&&i.k_();break}a=o.batchId,ww(e,o)}catch(o){await b0(e,o)}w0(e)&&I0(e)}function Rw(s){return To(s)&&s.Ia.length<10}function ww(s,e){s.Ia.push(e);const i=Rr(s);i.N_()&&i.ea&&i.ta(e.mutations)}function w0(s){return To(s)&&!Rr(s).O_()&&s.Ia.length>0}function I0(s){Rr(s).start()}async function Iw(s){Rr(s).ia()}async function Cw(s){const e=Rr(s);for(const i of s.Ia)e.ta(i.mutations)}async function Dw(s,e,i){const a=s.Ia.shift(),o=Xd.from(a,e,i);await R0(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await Lc(s)}async function Ow(s,e){e&&Rr(s).ea&&await async function(a,o){if(function(d){return RR(d)&&d!==K.ABORTED}(o.code)){const h=a.Ia.shift();Rr(a).L_(),await R0(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o)),await Lc(a)}}(s,e),w0(s)&&I0(s)}async function D_(s,e){const i=Kt(s);i.asyncQueue.verifyOperationInProgress(),it(vo,"RemoteStore received new credentials");const a=To(i);i.da.add(3),await Eo(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.da.delete(3),await xc(i)}async function Nw(s,e){const i=Kt(s);e?(i.da.delete(2),await xc(i)):e||(i.da.add(2),await Eo(i),i.Va.set("Unknown"))}function Rr(s){return s.ga||(s.ga=function(i,a,o){const h=Kt(i);return h.oa(),new Ew(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(s.datastore,s.asyncQueue,{e_:()=>Promise.resolve(),n_:Iw.bind(null,s),i_:Ow.bind(null,s),na:Cw.bind(null,s),ra:Dw.bind(null,s)}),s.Aa.push(async e=>{e?(s.ga.L_(),await Lc(s)):(await s.ga.stop(),s.Ia.length>0&&(it(vo,`Stopping write stream with ${s.Ia.length} pending writes`),s.Ia=[]))})),s.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const d=Date.now()+a,y=new Wd(e,i,d,o,h);return y.start(a),y}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function C0(s,e){if(vs("AsyncQueue",`${e}: ${s}`),yo(s))return new ft(K.UNAVAILABLE,`${e}: ${s}`);throw s}class Mw{constructor(){this.queries=O_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Kt(i),h=o.queries;o.queries=O_(),h.forEach((d,y)=>{for(const _ of y.Sa)_.onError(a)})})(this,new ft(K.ABORTED,"Firestore shutting down"))}}function O_(){return new Ss(s=>a0(s),s0)}function Vw(s){s.Ca.forEach(e=>{e.next()})}var N_,M_;(M_=N_||(N_={})).xa="default",M_.Cache="cache";const Uw="SyncEngine";class Pw{constructor(e,i,a,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.lu={},this.hu=new Ss(y=>a0(y),s0),this.Pu=new Map,this.Tu=new Set,this.Iu=new We(_t.comparator),this.Eu=new Map,this.du=new Zd,this.Au={},this.Ru=new Map,this.Vu=Oa.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function xw(s,e,i){const a=Bw(s);try{const o=await function(d,y){const _=Kt(d),v=ue.now(),S=y.reduce((Z,$)=>Z.add($.key),qe());let N,L;return _.persistence.runTransaction("Locally write mutations","readwrite",Z=>{let $=Ec(),rt=qe();return _.Bs.getEntries(Z,S).next(et=>{$=et,$.forEach((wt,gt)=>{gt.isValidDocument()||(rt=rt.add(wt))})}).next(()=>_.localDocuments.getOverlayedDocuments(Z,$)).next(et=>{N=et;const wt=[];for(const gt of y){const dt=TR(gt,N.get(gt.key).overlayedDocument);dt!=null&&wt.push(new bs(gt.key,dt,Jv(dt.value.mapValue),Vi.exists(!0)))}return _.mutationQueue.addMutationBatch(Z,v,wt,y)}).next(et=>{L=et;const wt=et.applyToLocalDocumentSet(N,rt);return _.documentOverlayCache.saveOverlays(Z,et.batchId,wt)})}).then(()=>({batchId:L.batchId,changes:o0(N)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(d,y,_){let v=d.Au[d.currentUser.toKey()];v||(v=new We(Mt)),v=v.insert(y,_),d.Au[d.currentUser.toKey()]=v}(a,o.batchId,i),await kc(a,o.changes),await Lc(a.remoteStore)}catch(o){const h=C0(o,"Failed to persist write");i.reject(h)}}function V_(s,e,i){const a=Kt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.hu.forEach((h,d)=>{const y=d.view.Fa(e);y.snapshot&&o.push(y.snapshot)}),function(d,y){const _=Kt(d);_.onlineState=y;let v=!1;_.queries.forEach((S,N)=>{for(const L of N.Sa)L.Fa(y)&&(v=!0)}),v&&Vw(_)}(a.eventManager,e),o.length&&a.lu.Y_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function Lw(s,e){const i=Kt(s),a=e.batch.batchId;try{const o=await cw(i.localStore,e);O0(i,a,null),D0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await kc(i,o)}catch(o){await kd(o)}}async function kw(s,e,i){const a=Kt(s);try{const o=await function(d,y){const _=Kt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let S;return _.mutationQueue.lookupMutationBatch(v,y).next(N=>(re(N!==null,37113),S=N.keys(),_.mutationQueue.removeMutationBatch(v,N))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,S,y)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,S)).next(()=>_.localDocuments.getDocuments(v,S))})}(a.localStore,e);O0(a,e,i),D0(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await kc(a,o)}catch(o){await kd(o)}}function D0(s,e){(s.Ru.get(e)||[]).forEach(i=>{i.resolve()}),s.Ru.delete(e)}function O0(s,e,i){const a=Kt(s);let o=a.Au[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.Au[a.currentUser.toKey()]=o}}async function kc(s,e,i){const a=Kt(s),o=[],h=[],d=[];a.hu.isEmpty()||(a.hu.forEach((y,_)=>{d.push(a.fu(_,e,i).then(v=>{var S;if((v||i)&&a.isPrimaryClient){const N=v?!v.fromCache:(S=void 0)===null||S===void 0?void 0:S.current;a.sharedClientState.updateQueryState(_.targetId,N?"current":"not-current")}if(v){o.push(v);const N=Jd.Rs(_.targetId,v);h.push(N)}}))}),await Promise.all(d),a.lu.Y_(o),await async function(_,v){const S=Kt(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>Q.forEach(v,L=>Q.forEach(L.ds,Z=>S.persistence.referenceDelegate.addReference(N,L.targetId,Z)).next(()=>Q.forEach(L.As,Z=>S.persistence.referenceDelegate.removeReference(N,L.targetId,Z)))))}catch(N){if(!yo(N))throw N;it(lw,"Failed to update sequence numbers: "+N)}for(const N of v){const L=N.targetId;if(!N.fromCache){const Z=S.xs.get(L),$=Z.snapshotVersion,rt=Z.withLastLimboFreeSnapshotVersion($);S.xs=S.xs.insert(L,rt)}}}(a.localStore,h))}async function zw(s,e){const i=Kt(s);if(!i.currentUser.isEqual(e)){it(Uw,"User change. New user:",e.toKey());const a=await A0(i.localStore,e);i.currentUser=e,function(h,d){h.Ru.forEach(y=>{y.forEach(_=>{_.reject(new ft(K.CANCELLED,d))})}),h.Ru.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await kc(i,a.ks)}}function Bw(s){const e=Kt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Lw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kw.bind(null,e),e}class bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,i){return null}Cu(e,i){return null}Du(e){return uw(this.persistence,new aw,e.initialUser,this.serializer)}Su(e){return new T0($d.fi,this.serializer)}bu(e){return new dw}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bc.provider={build:()=>new bc};class Hw extends bc{constructor(e){super(),this.cacheSizeBytes=e}vu(e,i){re(this.persistence.referenceDelegate instanceof Sc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new FR(a,e.asyncQueue,i)}Su(e){const i=this.cacheSizeBytes!==void 0?Je.withCacheSize(this.cacheSizeBytes):Je.DEFAULT;return new T0(a=>Sc.fi(a,i),this.serializer)}}class Ad{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>V_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=zw.bind(null,this.syncEngine),await Nw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Mw}()}createDatastore(e){const i=Pc(e.databaseInfo.databaseId),a=function(h){return new _w(h)}(e.databaseInfo);return function(h,d,y,_){return new Aw(h,d,y,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,o,h,d,y){return new bw(a,o,h,d,y)}(this.localStore,this.datastore,e.asyncQueue,i=>V_(this.syncEngine,i,0),function(){return I_.C()?new I_:new mw}())}createSyncEngine(e,i){return function(o,h,d,y,_,v,S){const N=new Pw(o,h,d,y,_,v);return S&&(N.mu=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=Kt(o);it(vo,"RemoteStore shutting down."),h.da.add(5),await Eo(h),h.Ra.shutdown(),h.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Ad.provider={build:()=>new Ad};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="FirestoreClient";class jw{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=je.UNAUTHENTICATED,this.clientId=qv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{it(wr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(it(wr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=C0(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function nd(s,e){s.asyncQueue.verifyOperationInProgress(),it(wr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async o=>{a.isEqual(o)||(await A0(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function U_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await qw(s);it(wr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>D_(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,o)=>D_(e.remoteStore,o)),s._onlineComponents=e}async function qw(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(wr,"Using user provided OfflineComponentProvider");try{await nd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Nc("Error using user provided cache. Falling back to memory cache: "+i),await nd(s,new bc)}}else it(wr,"Using default OfflineComponentProvider"),await nd(s,new Hw(void 0));return s._offlineComponents}async function Gw(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(wr,"Using user provided OnlineComponentProvider"),await U_(s,s._uninitializedComponentsProvider._online)):(it(wr,"Using default OnlineComponentProvider"),await U_(s,new Ad))),s._onlineComponents}function Fw(s){return Gw(s).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(s,e,i){if(!i)throw new ft(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Qw(s,e,i,a){if(e===!0&&a===!0)throw new ft(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function x_(s){if(!_t.isDocumentKey(s))throw new ft(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function L_(s){if(_t.isDocumentKey(s))throw new ft(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function tm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":At(12329,{type:typeof s})}function V0(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ft(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=tm(s);throw new ft(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="firestore.googleapis.com",k_=!0;class z_{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new ft(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=U0,this.ssl=k_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:k_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=E0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qR)throw new ft(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Qw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=N0((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ft(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ft(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ft(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zc{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ft(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new Sb;switch(a.type){case"firstParty":return new Ib(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ft(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=P_.get(i);a&&(it("ComponentProvider","Removing Datastore"),P_.delete(i),a.terminate())}(this),Promise.resolve()}}function Yw(s,e,i,a={}){var o;s=V0(s,zc);const h=Na(e),d=s._getSettings(),y=Object.assign(Object.assign({},d),{emulatorOptions:s._getEmulatorOptions()}),_=`${e}:${i}`;h&&(X_(`https://${_}`),Z_("Firestore",!0)),d.host!==U0&&d.host!==_&&Nc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},d),{host:_,ssl:h,emulatorOptions:a});if(!gs(v,y)&&(s._setSettings(v),a.mockUserToken)){let S,N;if(typeof a.mockUserToken=="string")S=a.mockUserToken,N=je.MOCK_USER;else{S=xT(a.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const L=a.mockUserToken.sub||a.mockUserToken.user_id;if(!L)throw new ft(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new je(L)}s._authCredentials=new bb(new jv(S,N))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new em(this.firestore,e,this._query)}}class Ui{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ui(this.firestore,e,this._key)}}class Ar extends em{constructor(e,i,a){super(e,i,sR(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ui(this.firestore,null,new _t(e))}withConverter(e){return new Ar(this.firestore,e,this._path)}}function Kw(s,e,...i){if(s=Sn(s),M0("collection","path",e),s instanceof zc){const a=ie.fromString(e,...i);return L_(a),new Ar(s,null,a)}{if(!(s instanceof Ui||s instanceof Ar))throw new ft(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ie.fromString(e,...i));return L_(a),new Ar(s.firestore,null,a)}}function Xw(s,e,...i){if(s=Sn(s),arguments.length===1&&(e=qv.newId()),M0("doc","path",e),s instanceof zc){const a=ie.fromString(e,...i);return x_(a),new Ui(s,null,new _t(a))}{if(!(s instanceof Ui||s instanceof Ar))throw new ft(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ie.fromString(e,...i));return x_(a),new Ui(s.firestore,s instanceof Ar?s.converter:null,new _t(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="AsyncQueue";class H_{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new S0(this,"async_queue_retry"),this.rc=()=>{const a=ed();a&&it(B_,"Visibility state changed to "+a.visibilityState),this.x_.b_()},this.sc=e;const i=ed();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const i=ed();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const i=new ds;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!yo(e))throw e;it(B_,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const i=this.sc.then(()=>(this.ec=!0,e().catch(a=>{throw this.Xu=a,this.ec=!1,vs("INTERNAL UNHANDLED ERROR: ",j_(a)),a}).then(a=>(this.ec=!1,a))));return this.sc=i,i}enqueueAfterDelay(e,i,a){this.oc(),this.nc.indexOf(e)>-1&&(i=0);const o=Wd.createAndSchedule(this,e,i,a,h=>this.uc(h));return this.Zu.push(o),o}oc(){this.Xu&&At(47125,{cc:j_(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const i of this.Zu)if(i.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.Zu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const i=this.Zu.indexOf(e);this.Zu.splice(i,1)}}function j_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class P0 extends zc{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new H_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new H_(e),this._firestoreClient=void 0,await e}}}function Zw(s,e){const i=typeof s=="object"?s:tv(),a=typeof s=="string"?s:pc,o=wd(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=UT("firestore");h&&Yw(o,...h)}return o}function $w(s){if(s._terminated)throw new ft(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Jw(s),s._firestoreClient}function Jw(s){var e,i,a;const o=s._freezeSettings(),h=function(y,_,v,S){return new Gb(y,_,v,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,N0(S.experimentalLongPollingOptions),S.useFetchStreams,S.isUsingEmulator)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new jw(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(y){const _=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this._byteString=e}static fromBase64String(e){try{return new co(ni.fromBase64String(e))}catch(i){throw new ft(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new co(ni.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ft(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ft(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ft(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=/^__.*__$/;class t2{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new bs(e,this.data,this.fieldMask,i,this.fieldTransforms):new _o(e,this.data,i,this.fieldTransforms)}}function B0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{Ic:s})}}class nm{constructor(e,i,a,o,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Ec(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new nm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.dc({path:a,Rc:!1});return o.Vc(e),o}mc(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.dc({path:a,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Rc(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(B0(this.Ic)&&Ww.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class e2{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Pc(e)}bc(e,i,a,o=!1){return new nm({Ic:e,methodName:i,wc:a,path:xe.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function n2(s){const e=s._freezeSettings(),i=Pc(s._databaseId);return new e2(s._databaseId,!!e.ignoreUndefinedProperties,i)}function i2(s,e,i,a,o,h={}){const d=s.bc(h.merge||h.mergeFields?2:0,e,i,o);G0("Data must be an object, but it was:",d,a);const y=j0(a,d);let _,v;if(h.merge)_=new Un(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const S=[];for(const N of h.mergeFields){const L=r2(e,N,i);if(!d.contains(L))throw new ft(K.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);l2(S,L)||S.push(L)}_=new Un(S),v=d.fieldTransforms.filter(N=>_.covers(N.field))}else _=null,v=d.fieldTransforms;return new t2(new Mn(y),_,v)}function H0(s,e){if(q0(s=Sn(s)))return G0("Unsupported field value:",e,s),j0(s,e);if(s instanceof L0)return function(a,o){if(!B0(o.Ic))throw o.gc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(a,o){const h=[];let d=0;for(const y of a){let _=H0(y,o.fc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,o){if((a=Sn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return gR(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=ue.fromDate(a);return{timestampValue:_d(o.serializer,h)}}if(a instanceof ue){const h=new ue(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:_d(o.serializer,h)}}if(a instanceof k0)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof co)return{bytesValue:CR(o.serializer,a._byteString)};if(a instanceof Ui){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.gc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:_0(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof z0)return function(d,y){return{mapValue:{fields:{[Zv]:{stringValue:$v},[dd]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw y.gc("VectorValues must only contain numeric values.");return Kd(y.serializer,v)})}}}}}}(a,o);throw o.gc(`Unsupported field value: ${tm(a)}`)}(s,e)}function j0(s,e){const i={};return Fv(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xa(s,(a,o)=>{const h=H0(o,e.Ac(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function q0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ue||s instanceof k0||s instanceof co||s instanceof Ui||s instanceof L0||s instanceof z0)}function G0(s,e,i){if(!q0(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const a=tm(i);throw a==="an object"?e.gc(s+" a custom object"):e.gc(s+" "+a)}}function r2(s,e,i){if((e=Sn(e))instanceof x0)return e._internalPath;if(typeof e=="string")return a2(s,e);throw Rc("Field path arguments must be of type string or ",s,!1,void 0,i)}const s2=new RegExp("[~\\*/\\[\\]]");function a2(s,e,i){if(e.search(s2)>=0)throw Rc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new x0(...e.split("."))._internalPath}catch{throw Rc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Rc(s,e,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new ft(K.INVALID_ARGUMENT,y+s+_)}function l2(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(s,e,i){let a;return a=s?s.toFirestore(e):e,a}function u2(s,e){const i=V0(s.firestore,P0),a=Xw(s),o=o2(s.converter,e);return c2(i,[i2(n2(s.firestore),"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,Vi.exists(!1))]).then(()=>a)}function c2(s,e){return function(a,o){const h=new ds;return a.asyncQueue.enqueueAndForget(async()=>xw(await Fw(a),o,h)),h.promise}($w(s),e)}(function(e,i=!0){(function(o){Pa=o})(Ma),ba(new ps("firestore",(a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),y=new P0(new Rb(a.getProvider("auth-internal")),new Cb(d,a.getProvider("app-check-internal")),function(v,S){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ft(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yc(v.options.projectId,S)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),y._setSettings(h),y},"PUBLIC").setMultipleInstances(!0)),Er(e_,n_,e),Er(e_,n_,"esm2017")})();const h2={apiKey:"AIzaSyBIfGyeHMc_0LPtX5qbeqQrabX6wXvs_kI",authDomain:"flashcompauth.firebaseapp.com",projectId:"flashcompauth",storageBucket:"flashcompauth.firebasestorage.app",messagingSenderId:"466092936876",appId:"1:466092936876:web:0ab1780cc4fc96327a5909"},F0=W_(h2),f2=Tb(F0),d2=Zw(F0);function m2({onLogin:s}){const[e,i]=Oi.useState(""),[a,o]=Oi.useState(""),[h,d]=Oi.useState(""),y=async()=>{try{await oS(f2,e,a),d(" "),s()}catch(_){d(" : "+_.message)}};return oe.jsxs("div",{style:{maxWidth:"400px",margin:"2em auto",padding:"2em",background:"#fff",borderRadius:"8px"},children:[oe.jsx("h2",{children:""}),oe.jsx("input",{type:"email",placeholder:"",value:e,onChange:_=>i(_.target.value)}),oe.jsx("input",{type:"password",placeholder:"",value:a,onChange:_=>o(_.target.value)}),oe.jsx("button",{onClick:y,children:""}),oe.jsx("div",{style:{marginTop:"1em",color:"red"},children:h})]})}function g2(){const[s,e]=Oi.useState(""),[i,a]=Oi.useState(""),[o,h]=Oi.useState(""),[d,y]=Oi.useState(""),_=async v=>{v.preventDefault(),y("...");try{await u2(Kw(d2,"events"),{name:s,startDate:ue.fromDate(new Date(i)),endDate:ue.fromDate(new Date(o)),createdAt:ue.now()}),y(" "),e(""),a(""),h("")}catch(S){y(" : "+S.message)}};return oe.jsxs("form",{onSubmit:_,style:{maxWidth:"500px",margin:"2em auto"},children:[oe.jsx("h3",{children:" "}),oe.jsx("input",{placeholder:"",value:s,onChange:v=>e(v.target.value),required:!0}),oe.jsx("input",{type:"date",value:i,onChange:v=>a(v.target.value),required:!0}),oe.jsx("input",{type:"date",value:o,onChange:v=>h(v.target.value),required:!0}),oe.jsx("button",{type:"submit",children:""}),oe.jsx("p",{children:d})]})}function p2({onLogout:s}){return oe.jsxs("div",{style:{padding:"2em"},children:[oe.jsx("h2",{children:""}),oe.jsx("button",{onClick:s,children:""}),oe.jsx(g2,{})]})}function y2(){const[s,e]=Oi.useState(!1);return s?oe.jsx(p2,{onLogout:()=>e(!1)}):oe.jsx(m2,{onLogin:()=>e(!0)})}RT.createRoot(document.getElementById("root")).render(oe.jsx(Oi.StrictMode,{children:oe.jsx(y2,{})}));
