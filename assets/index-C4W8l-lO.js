(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Wd={exports:{}},Rl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function cb(){if(r_)return Rl;r_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Rl.Fragment=e,Rl.jsx=n,Rl.jsxs=n,Rl}var s_;function hb(){return s_||(s_=1,Wd.exports=cb()),Wd.exports}var T=hb(),Jd={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function fb(){if(a_)return De;a_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function A(P){return P===null||typeof P!="object"?null:(P=w&&P[w]||P["@@iterator"],typeof P=="function"?P:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,z={};function N(P,re,le){this.props=P,this.context=re,this.refs=z,this.updater=le||k}N.prototype.isReactComponent={},N.prototype.setState=function(P,re){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,re,"setState")},N.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function q(){}q.prototype=N.prototype;function $(P,re,le){this.props=P,this.context=re,this.refs=z,this.updater=le||k}var X=$.prototype=new q;X.constructor=$,O(X,N.prototype),X.isPureReactComponent=!0;var ee=Array.isArray,Y={H:null,A:null,T:null,S:null,V:null},ce=Object.prototype.hasOwnProperty;function I(P,re,le,oe,de,_e){return le=_e.ref,{$$typeof:r,type:P,key:re,ref:le!==void 0?le:null,props:_e}}function R(P,re){return I(P.type,re,void 0,void 0,void 0,P.props)}function C(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function M(P){var re={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(le){return re[le]})}var V=/\/+/g;function j(P,re){return typeof P=="object"&&P!==null&&P.key!=null?M(""+P.key):re.toString(36)}function D(){}function xe(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(D,D):(P.status="pending",P.then(function(re){P.status==="pending"&&(P.status="fulfilled",P.value=re)},function(re){P.status==="pending"&&(P.status="rejected",P.reason=re)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function Ce(P,re,le,oe,de){var _e=typeof P;(_e==="undefined"||_e==="boolean")&&(P=null);var pe=!1;if(P===null)pe=!0;else switch(_e){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(P.$$typeof){case r:case e:pe=!0;break;case E:return pe=P._init,Ce(pe(P._payload),re,le,oe,de)}}if(pe)return de=de(P),pe=oe===""?"."+j(P,0):oe,ee(de)?(le="",pe!=null&&(le=pe.replace(V,"$&/")+"/"),Ce(de,re,le,"",function(Zn){return Zn})):de!=null&&(C(de)&&(de=R(de,le+(de.key==null||P&&P.key===de.key?"":(""+de.key).replace(V,"$&/")+"/")+pe)),re.push(de)),1;pe=0;var Mt=oe===""?".":oe+":";if(ee(P))for(var tt=0;tt<P.length;tt++)oe=P[tt],_e=Mt+j(oe,tt),pe+=Ce(oe,re,le,_e,de);else if(tt=A(P),typeof tt=="function")for(P=tt.call(P),tt=0;!(oe=P.next()).done;)oe=oe.value,_e=Mt+j(oe,tt++),pe+=Ce(oe,re,le,_e,de);else if(_e==="object"){if(typeof P.then=="function")return Ce(xe(P),re,le,oe,de);throw re=String(P),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return pe}function W(P,re,le){if(P==null)return P;var oe=[],de=0;return Ce(P,oe,"","",function(_e){return re.call(le,_e,de++)}),oe}function se(P){if(P._status===-1){var re=P._result;re=re(),re.then(function(le){(P._status===0||P._status===-1)&&(P._status=1,P._result=le)},function(le){(P._status===0||P._status===-1)&&(P._status=2,P._result=le)}),P._status===-1&&(P._status=0,P._result=re)}if(P._status===1)return P._result.default;throw P._result}var he=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Oe(){}return De.Children={map:W,forEach:function(P,re,le){W(P,function(){re.apply(this,arguments)},le)},count:function(P){var re=0;return W(P,function(){re++}),re},toArray:function(P){return W(P,function(re){return re})||[]},only:function(P){if(!C(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},De.Component=N,De.Fragment=n,De.Profiler=o,De.PureComponent=$,De.StrictMode=s,De.Suspense=p,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,De.__COMPILER_RUNTIME={__proto__:null,c:function(P){return Y.H.useMemoCache(P)}},De.cache=function(P){return function(){return P.apply(null,arguments)}},De.cloneElement=function(P,re,le){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var oe=O({},P.props),de=P.key,_e=void 0;if(re!=null)for(pe in re.ref!==void 0&&(_e=void 0),re.key!==void 0&&(de=""+re.key),re)!ce.call(re,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&re.ref===void 0||(oe[pe]=re[pe]);var pe=arguments.length-2;if(pe===1)oe.children=le;else if(1<pe){for(var Mt=Array(pe),tt=0;tt<pe;tt++)Mt[tt]=arguments[tt+2];oe.children=Mt}return I(P.type,de,void 0,void 0,_e,oe)},De.createContext=function(P){return P={$$typeof:f,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},De.createElement=function(P,re,le){var oe,de={},_e=null;if(re!=null)for(oe in re.key!==void 0&&(_e=""+re.key),re)ce.call(re,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(de[oe]=re[oe]);var pe=arguments.length-2;if(pe===1)de.children=le;else if(1<pe){for(var Mt=Array(pe),tt=0;tt<pe;tt++)Mt[tt]=arguments[tt+2];de.children=Mt}if(P&&P.defaultProps)for(oe in pe=P.defaultProps,pe)de[oe]===void 0&&(de[oe]=pe[oe]);return I(P,_e,void 0,void 0,null,de)},De.createRef=function(){return{current:null}},De.forwardRef=function(P){return{$$typeof:m,render:P}},De.isValidElement=C,De.lazy=function(P){return{$$typeof:E,_payload:{_status:-1,_result:P},_init:se}},De.memo=function(P,re){return{$$typeof:g,type:P,compare:re===void 0?null:re}},De.startTransition=function(P){var re=Y.T,le={};Y.T=le;try{var oe=P(),de=Y.S;de!==null&&de(le,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Oe,he)}catch(_e){he(_e)}finally{Y.T=re}},De.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},De.use=function(P){return Y.H.use(P)},De.useActionState=function(P,re,le){return Y.H.useActionState(P,re,le)},De.useCallback=function(P,re){return Y.H.useCallback(P,re)},De.useContext=function(P){return Y.H.useContext(P)},De.useDebugValue=function(){},De.useDeferredValue=function(P,re){return Y.H.useDeferredValue(P,re)},De.useEffect=function(P,re,le){var oe=Y.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(P,re)},De.useId=function(){return Y.H.useId()},De.useImperativeHandle=function(P,re,le){return Y.H.useImperativeHandle(P,re,le)},De.useInsertionEffect=function(P,re){return Y.H.useInsertionEffect(P,re)},De.useLayoutEffect=function(P,re){return Y.H.useLayoutEffect(P,re)},De.useMemo=function(P,re){return Y.H.useMemo(P,re)},De.useOptimistic=function(P,re){return Y.H.useOptimistic(P,re)},De.useReducer=function(P,re,le){return Y.H.useReducer(P,re,le)},De.useRef=function(P){return Y.H.useRef(P)},De.useState=function(P){return Y.H.useState(P)},De.useSyncExternalStore=function(P,re,le){return Y.H.useSyncExternalStore(P,re,le)},De.useTransition=function(){return Y.H.useTransition()},De.version="19.1.0",De}var o_;function Km(){return o_||(o_=1,Jd.exports=fb()),Jd.exports}var L=Km(),em={exports:{}},Cl={},tm={exports:{}},nm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function db(){return l_||(l_=1,function(r){function e(W,se){var he=W.length;W.push(se);e:for(;0<he;){var Oe=he-1>>>1,P=W[Oe];if(0<o(P,se))W[Oe]=se,W[he]=P,he=Oe;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var se=W[0],he=W.pop();if(he!==se){W[0]=he;e:for(var Oe=0,P=W.length,re=P>>>1;Oe<re;){var le=2*(Oe+1)-1,oe=W[le],de=le+1,_e=W[de];if(0>o(oe,he))de<P&&0>o(_e,oe)?(W[Oe]=_e,W[de]=he,Oe=de):(W[Oe]=oe,W[le]=he,Oe=le);else if(de<P&&0>o(_e,he))W[Oe]=_e,W[de]=he,Oe=de;else break e}}return se}function o(W,se){var he=W.sortIndex-se.sortIndex;return he!==0?he:W.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,w=null,A=3,k=!1,O=!1,z=!1,N=!1,q=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function ee(W){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=W)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function Y(W){if(z=!1,ee(W),!O)if(n(p)!==null)O=!0,ce||(ce=!0,j());else{var se=n(g);se!==null&&Ce(Y,se.startTime-W)}}var ce=!1,I=-1,R=5,C=-1;function M(){return N?!0:!(r.unstable_now()-C<R)}function V(){if(N=!1,ce){var W=r.unstable_now();C=W;var se=!0;try{e:{O=!1,z&&(z=!1,$(I),I=-1),k=!0;var he=A;try{t:{for(ee(W),w=n(p);w!==null&&!(w.expirationTime>W&&M());){var Oe=w.callback;if(typeof Oe=="function"){w.callback=null,A=w.priorityLevel;var P=Oe(w.expirationTime<=W);if(W=r.unstable_now(),typeof P=="function"){w.callback=P,ee(W),se=!0;break t}w===n(p)&&s(p),ee(W)}else s(p);w=n(p)}if(w!==null)se=!0;else{var re=n(g);re!==null&&Ce(Y,re.startTime-W),se=!1}}break e}finally{w=null,A=he,k=!1}se=void 0}}finally{se?j():ce=!1}}}var j;if(typeof X=="function")j=function(){X(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,xe=D.port2;D.port1.onmessage=V,j=function(){xe.postMessage(null)}}else j=function(){q(V,0)};function Ce(W,se){I=q(function(){W(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(W){switch(A){case 1:case 2:case 3:var se=3;break;default:se=A}var he=A;A=se;try{return W()}finally{A=he}},r.unstable_requestPaint=function(){N=!0},r.unstable_runWithPriority=function(W,se){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var he=A;A=W;try{return se()}finally{A=he}},r.unstable_scheduleCallback=function(W,se,he){var Oe=r.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Oe+he:Oe):he=Oe,W){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=he+P,W={id:E++,callback:se,priorityLevel:W,startTime:he,expirationTime:P,sortIndex:-1},he>Oe?(W.sortIndex=he,e(g,W),n(p)===null&&W===n(g)&&(z?($(I),I=-1):z=!0,Ce(Y,he-Oe))):(W.sortIndex=P,e(p,W),O||k||(O=!0,ce||(ce=!0,j()))),W},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(W){var se=A;return function(){var he=A;A=se;try{return W.apply(this,arguments)}finally{A=he}}}}(nm)),nm}var u_;function mb(){return u_||(u_=1,tm.exports=db()),tm.exports}var im={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function pb(){if(c_)return Zt;c_=1;var r=Km();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Zt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Zt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Zt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Zt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:k}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:A,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Zt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Zt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Zt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Zt.requestFormReset=function(p){s.d.r(p)},Zt.unstable_batchedUpdates=function(p,g){return p(g)},Zt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Zt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Zt.version="19.1.0",Zt}var h_;function gb(){if(h_)return im.exports;h_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),im.exports=pb(),im.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function yb(){if(f_)return Cl;f_=1;var r=mb(),e=Km(),n=gb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),X=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case O:return"Fragment";case N:return"Profiler";case z:return"StrictMode";case Y:return"Suspense";case ce:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case X:return(t.displayName||"Context")+".Provider";case $:return(t._context.displayName||"Context")+".Consumer";case ee:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:xe(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return xe(t(i))}catch{}}return null}var Ce=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Oe=[],P=-1;function re(t){return{current:t}}function le(t){0>P||(t.current=Oe[P],Oe[P]=null,P--)}function oe(t,i){P++,Oe[P]=t.current,t.current=i}var de=re(null),_e=re(null),pe=re(null),Mt=re(null);function tt(t,i){switch(oe(pe,i),oe(_e,t),oe(de,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Nv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Nv(i),t=Mv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(de),oe(de,t)}function Zn(){le(de),le(_e),le(pe)}function rr(t){t.memoizedState!==null&&oe(Mt,t);var i=de.current,a=Mv(i,t.type);i!==a&&(oe(_e,t),oe(de,a))}function Si(t){_e.current===t&&(le(de),le(_e)),Mt.current===t&&(le(Mt),Tl._currentValue=he)}var es=Object.prototype.hasOwnProperty,ts=r.unstable_scheduleCallback,ns=r.unstable_cancelCallback,vo=r.unstable_shouldYield,fu=r.unstable_requestPaint,bn=r.unstable_now,Zh=r.unstable_getCurrentPriorityLevel,_o=r.unstable_ImmediatePriority,Xs=r.unstable_UserBlockingPriority,is=r.unstable_NormalPriority,Wh=r.unstable_LowPriority,$s=r.unstable_IdlePriority,Eo=r.log,du=r.unstable_setDisableYieldValue,ht=null,Qe=null;function dn(t){if(typeof Eo=="function"&&du(t),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(ht,t)}catch{}}var Xt=Math.clz32?Math.clz32:rs,mu=Math.log,Jh=Math.LN2;function rs(t){return t>>>=0,t===0?32:31-(mu(t)/Jh|0)|0}var ss=256,as=4194304;function jn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Zs(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=jn(l):(_&=S,_!==0?h=jn(_):a||(a=S&~t,a!==0&&(h=jn(a))))):(S=l&~d,S!==0?h=jn(S):_!==0?h=jn(_):a||(a=l&~t,a!==0&&(h=jn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function os(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function To(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function So(){var t=ss;return ss<<=1,(ss&4194048)===0&&(ss=256),t}function Ao(){var t=as;return as<<=1,(as&62914560)===0&&(as=4194304),t}function Ai(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function bi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function bo(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,x=t.expirationTimes,G=t.hiddenUpdates;for(a=_&~a;0<a;){var J=31-Xt(a),ne=1<<J;S[J]=0,x[J]=-1;var K=G[J];if(K!==null)for(G[J]=null,J=0;J<K.length;J++){var Q=K[J];Q!==null&&(Q.lane&=-536870913)}a&=~ne}l!==0&&Wn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Wn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Xt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function wo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Xt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function sr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ws(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ar(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Wv(t.type))}function pu(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var st=Math.random().toString(36).slice(2),wt="__reactFiber$"+st,Et="__reactProps$"+st,wn="__reactContainer$"+st,Ro="__reactEvents$"+st,ef="__reactListeners$"+st,or="__reactHandles$"+st,gu="__reactResources$"+st,ls="__reactMarker$"+st;function lr(t){delete t[wt],delete t[Et],delete t[Ro],delete t[ef],delete t[or]}function wi(t){var i=t[wt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[wn]||a[wt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Lv(t);t!==null;){if(a=t[wt])return a;t=Lv(t)}return i}t=a,a=t.parentNode}return null}function Jn(t){if(t=t[wt]||t[wn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function ei(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function nn(t){var i=t[gu];return i||(i=t[gu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function pt(t){t[ls]=!0}var Co=new Set,Js={};function Bn(t,i){Ri(t,i),Ri(t+"Capture",i)}function Ri(t,i){for(Js[t]=i,t=0;t<i.length;t++)Co.add(i[t])}var yu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vu={},us={};function _u(t){return es.call(us,t)?!0:es.call(vu,t)?!1:yu.test(t)?us[t]=!0:(vu[t]=!0,!1)}function ur(t,i,a){if(_u(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function ti(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Bt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var cs,Eu;function Ci(t){if(cs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);cs=i&&i[1]||"",Eu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cs+t+Eu}var ea=!1;function ta(t,i){if(!t||ea)return"";ea=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Q){var K=Q}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(Q){K=Q}t.call(ne.prototype)}}else{try{throw Error()}catch(Q){K=Q}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Q){if(Q&&K&&typeof Q.stack=="string")return[Q.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var x=_.split(`
`),G=S.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===G.length)for(l=x.length-1,h=G.length-1;1<=l&&0<=h&&x[l]!==G[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==G[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==G[h]){var J=`
`+x[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=h);break}}}finally{ea=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ci(a):""}function Io(t){switch(t.tag){case 26:case 27:case 5:return Ci(t.type);case 16:return Ci("Lazy");case 13:return Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return ta(t.type,!1);case 11:return ta(t.type.render,!1);case 1:return ta(t.type,!0);case 31:return Ci("Activity");default:return""}}function na(t){try{var i="";do i+=Io(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function rn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Do(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function tf(t){var i=Do(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ia(t){t._valueTracker||(t._valueTracker=tf(t))}function xo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Do(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function hs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var nf=/[\n"\\]/g;function Tt(t){return t.replace(nf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function mn(t,i,a,l,h,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+rn(i)):t.value!==""+rn(i)&&(t.value=""+rn(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?cr(t,_,rn(i)):a!=null?cr(t,_,rn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+rn(S):t.removeAttribute("name")}function fs(t,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+rn(a):"",i=i!=null?""+rn(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function cr(t,i,a){i==="number"&&hs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ii(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+rn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function $e(t,i,a){if(i!=null&&(i=""+rn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+rn(a):""}function ds(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ce(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=rn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Rn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var ms=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||ms.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Oo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Tu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Tu(t,d,i[d])}function No(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ra(t){return sf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Di=null;function Cn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xi=null,Oi=null;function Mo(t){var i=Jn(t);if(i&&(t=i.stateNode)){var a=t[Et]||null;e:switch(t=i.stateNode,i.type){case"input":if(mn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Et]||null;if(!h)throw Error(s(90));mn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&xo(l)}break e;case"textarea":$e(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ii(t,!!a.multiple,i,!1)}}}var ni=!1;function Su(t,i,a){if(ni)return t(i,a);ni=!0;try{var l=t(i);return l}finally{if(ni=!1,(xi!==null||Oi!==null)&&(pc(),xi&&(i=xi,t=Oi,Oi=xi=null,Mo(i),t)))for(i=0;i<t.length;i++)Mo(t[i])}}function ps(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Et]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),In=!1;if(zn)try{var gs={};Object.defineProperty(gs,"passive",{get:function(){In=!0}}),window.addEventListener("test",gs,gs),window.removeEventListener("test",gs,gs)}catch{In=!1}var ii=null,hr=null,Ni=null;function Vo(){if(Ni)return Ni;var t,i=hr,a=i.length,l,h="value"in ii?ii.value:ii.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ni=h.slice(t,1<l?1-l:void 0)}function ri(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function si(){return!0}function Po(){return!1}function Vt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?si:Po,this.isPropagationStopped=Po,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),i}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sa=Vt(Ge),ys=E({},Ge,{view:0,detail:0}),Au=Vt(ys),aa,oa,ai,vs=E({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ai&&(ai&&t.type==="mousemove"?(aa=t.screenX-ai.screenX,oa=t.screenY-ai.screenY):oa=aa=0,ai=t),aa)},movementY:function(t){return"movementY"in t?t.movementY:oa}}),Dn=Vt(vs),bu=E({},vs,{dataTransfer:0}),af=Vt(bu),_s=E({},ys,{relatedTarget:0}),la=Vt(_s),ko=E({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),ua=Vt(ko),wu=E({},Ge,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ca=Vt(wu),of=E({},Ge,{data:0}),Lo=Vt(of),Es={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Cu[t])?!!i[t]:!1}function Ts(){return Uo}var Iu=E({},ys,{key:function(t){if(t.key){var i=Es[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ri(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ru[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(t){return t.type==="keypress"?ri(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ri(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ha=Vt(Iu),Du=E({},vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jo=Vt(Du),Mi=E({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),xu=Vt(Mi),Ou=E({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nu=Vt(Ou),Mu=E({},vs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fa=Vt(Mu),sn=E({},Ge,{newState:0,oldState:0}),Vu=Vt(sn),Pu=[9,13,27,32],oi=zn&&"CompositionEvent"in window,c=null;zn&&"documentMode"in document&&(c=document.documentMode);var y=zn&&"TextEvent"in window&&!c,v=zn&&(!oi||c&&8<c&&11>=c),b=" ",H=!1;function Z(t,i){switch(t){case"keyup":return Pu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var je=!1;function Rt(t,i){switch(t){case"compositionend":return ue(i);case"keypress":return i.which!==32?null:(H=!0,b);case"textInput":return t=i.data,t===b&&H?null:t;default:return null}}function Be(t,i){if(je)return t==="compositionend"||!oi&&Z(t,i)?(t=Vo(),Ni=hr=ii=null,je=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Pt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ct(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Pt[t.type]:i==="textarea"}function Vi(t,i,a,l){xi?Oi?Oi.push(l):Oi=[l]:xi=l,i=Tc(i,"onChange"),0<i.length&&(a=new sa("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var zt=null,li=null;function Bo(t){Cv(t,0)}function ku(t){var i=ei(t);if(xo(i))return t}function Yp(t,i){if(t==="change")return i}var Xp=!1;if(zn){var lf;if(zn){var uf="oninput"in document;if(!uf){var $p=document.createElement("div");$p.setAttribute("oninput","return;"),uf=typeof $p.oninput=="function"}lf=uf}else lf=!1;Xp=lf&&(!document.documentMode||9<document.documentMode)}function Zp(){zt&&(zt.detachEvent("onpropertychange",Wp),li=zt=null)}function Wp(t){if(t.propertyName==="value"&&ku(li)){var i=[];Vi(i,li,t,Cn(t)),Su(Bo,i)}}function BS(t,i,a){t==="focusin"?(Zp(),zt=i,li=a,zt.attachEvent("onpropertychange",Wp)):t==="focusout"&&Zp()}function zS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ku(li)}function qS(t,i){if(t==="click")return ku(i)}function HS(t,i){if(t==="input"||t==="change")return ku(i)}function FS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var pn=typeof Object.is=="function"?Object.is:FS;function zo(t,i){if(pn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!es.call(i,h)||!pn(t[h],i[h]))return!1}return!0}function Jp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function eg(t,i){var a=Jp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jp(a)}}function tg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?tg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function ng(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=hs(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=hs(t.document)}return i}function cf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var GS=zn&&"documentMode"in document&&11>=document.documentMode,da=null,hf=null,qo=null,ff=!1;function ig(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ff||da==null||da!==hs(l)||(l=da,"selectionStart"in l&&cf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),qo&&zo(qo,l)||(qo=l,l=Tc(hf,"onSelect"),0<l.length&&(i=new sa("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=da)))}function Ss(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ma={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionrun:Ss("Transition","TransitionRun"),transitionstart:Ss("Transition","TransitionStart"),transitioncancel:Ss("Transition","TransitionCancel"),transitionend:Ss("Transition","TransitionEnd")},df={},rg={};zn&&(rg=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function As(t){if(df[t])return df[t];if(!ma[t])return t;var i=ma[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in rg)return df[t]=i[a];return t}var sg=As("animationend"),ag=As("animationiteration"),og=As("animationstart"),KS=As("transitionrun"),QS=As("transitionstart"),YS=As("transitioncancel"),lg=As("transitionend"),ug=new Map,mf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mf.push("scrollEnd");function qn(t,i){ug.set(t,i),Bn(i,[t])}var cg=new WeakMap;function xn(t,i){if(typeof t=="object"&&t!==null){var a=cg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:na(i)},cg.set(t,i),i)}return{value:t,source:i,stack:na(i)}}var On=[],pa=0,pf=0;function Lu(){for(var t=pa,i=pf=pa=0;i<t;){var a=On[i];On[i++]=null;var l=On[i];On[i++]=null;var h=On[i];On[i++]=null;var d=On[i];if(On[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&hg(a,h,d)}}function Uu(t,i,a,l){On[pa++]=t,On[pa++]=i,On[pa++]=a,On[pa++]=l,pf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function gf(t,i,a,l){return Uu(t,i,a,l),ju(t)}function ga(t,i){return Uu(t,null,null,i),ju(t)}function hg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Xt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function ju(t){if(50<dl)throw dl=0,Sd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ya={};function XS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,i,a,l){return new XS(t,i,a,l)}function yf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pi(t,i){var a=t.alternate;return a===null?(a=gn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function fg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Bu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")yf(t)&&(_=1);else if(typeof t=="string")_=ZA(t,a,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=gn(31,a,i,h),t.elementType=C,t.lanes=d,t;case O:return bs(a.children,h,d,i);case z:_=8,h|=24;break;case N:return t=gn(12,a,i,h|2),t.elementType=N,t.lanes=d,t;case Y:return t=gn(13,a,i,h),t.elementType=Y,t.lanes=d,t;case ce:return t=gn(19,a,i,h),t.elementType=ce,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q:case X:_=10;break e;case $:_=9;break e;case ee:_=11;break e;case I:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=gn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function bs(t,i,a,l){return t=gn(7,t,l,i),t.lanes=a,t}function vf(t,i,a){return t=gn(6,t,null,i),t.lanes=a,t}function _f(t,i,a){return i=gn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var va=[],_a=0,zu=null,qu=0,Nn=[],Mn=0,ws=null,ki=1,Li="";function Rs(t,i){va[_a++]=qu,va[_a++]=zu,zu=t,qu=i}function dg(t,i,a){Nn[Mn++]=ki,Nn[Mn++]=Li,Nn[Mn++]=ws,ws=t;var l=ki;t=Li;var h=32-Xt(l)-1;l&=~(1<<h),a+=1;var d=32-Xt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,ki=1<<32-Xt(i)+h|a<<h|l,Li=d+t}else ki=1<<d|a<<h|l,Li=t}function Ef(t){t.return!==null&&(Rs(t,1),dg(t,1,0))}function Tf(t){for(;t===zu;)zu=va[--_a],va[_a]=null,qu=va[--_a],va[_a]=null;for(;t===ws;)ws=Nn[--Mn],Nn[Mn]=null,Li=Nn[--Mn],Nn[Mn]=null,ki=Nn[--Mn],Nn[Mn]=null}var an=null,ft=null,Fe=!1,Cs=null,ui=!1,Sf=Error(s(519));function Is(t){var i=Error(s(418,""));throw Go(xn(i,t)),Sf}function mg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[wt]=t,i[Et]=l,a){case"dialog":ke("cancel",i),ke("close",i);break;case"iframe":case"object":case"embed":ke("load",i);break;case"video":case"audio":for(a=0;a<pl.length;a++)ke(pl[a],i);break;case"source":ke("error",i);break;case"img":case"image":case"link":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"input":ke("invalid",i),fs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ia(i);break;case"select":ke("invalid",i);break;case"textarea":ke("invalid",i),ds(i,l.value,l.defaultValue,l.children),ia(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Ov(i.textContent,a)?(l.popover!=null&&(ke("beforetoggle",i),ke("toggle",i)),l.onScroll!=null&&ke("scroll",i),l.onScrollEnd!=null&&ke("scrollend",i),l.onClick!=null&&(i.onclick=Sc),i=!0):i=!1,i||Is(t)}function pg(t){for(an=t.return;an;)switch(an.tag){case 5:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:an=an.return}}function Ho(t){if(t!==an)return!1;if(!Fe)return pg(t),Fe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ud(t.type,t.memoizedProps)),a=!a),a&&ft&&Is(t),pg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ft=Fn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ft=null}}else i===27?(i=ft,Cr(t.type)?(t=qd,qd=null,ft=t):ft=i):ft=an?Fn(t.stateNode.nextSibling):null;return!0}function Fo(){ft=an=null,Fe=!1}function gg(){var t=Cs;return t!==null&&(un===null?un=t:un.push.apply(un,t),Cs=null),t}function Go(t){Cs===null?Cs=[t]:Cs.push(t)}var Af=re(null),Ds=null,Ui=null;function fr(t,i,a){oe(Af,i._currentValue),i._currentValue=a}function ji(t){t._currentValue=Af.current,le(Af)}function bf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function wf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var x=0;x<i.length;x++)if(S.context===i[x]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),bf(d.return,a,t),l||(_=null);break e}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),bf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ko(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;pn(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===Mt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Tl):t=[Tl])}h=h.return}t!==null&&wf(i,t,a,l),i.flags|=262144}function Hu(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function xs(t){Ds=t,Ui=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return yg(Ds,t)}function Fu(t,i){return Ds===null&&xs(t),yg(t,i)}function yg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ui===null){if(t===null)throw Error(s(308));Ui=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ui=Ui.next=i;return a}var $S=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},ZS=r.unstable_scheduleCallback,WS=r.unstable_NormalPriority,It={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rf(){return{controller:new $S,data:new Map,refCount:0}}function Qo(t){t.refCount--,t.refCount===0&&ZS(WS,function(){t.controller.abort()})}var Yo=null,Cf=0,Ea=0,Ta=null;function JS(t,i){if(Yo===null){var a=Yo=[];Cf=0,Ea=Dd(),Ta={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Cf++,i.then(vg,vg),i}function vg(){if(--Cf===0&&Yo!==null){Ta!==null&&(Ta.status="fulfilled");var t=Yo;Yo=null,Ea=0,Ta=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function eA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var _g=W.S;W.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&JS(t,i),_g!==null&&_g(t,i)};var Os=re(null);function If(){var t=Os.current;return t!==null?t:nt.pooledCache}function Gu(t,i){i===null?oe(Os,Os.current):oe(Os,i.pool)}function Eg(){var t=If();return t===null?null:{parent:It._currentValue,pool:t}}var Xo=Error(s(460)),Tg=Error(s(474)),Ku=Error(s(542)),Df={then:function(){}};function Sg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qu(){}function Ag(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Qu,Qu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,wg(t),t;default:if(typeof i.status=="string")i.then(Qu,Qu);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,wg(t),t}throw $o=i,Xo}}var $o=null;function bg(){if($o===null)throw Error(s(459));var t=$o;return $o=null,t}function wg(t){if(t===Xo||t===Ku)throw Error(s(483))}var dr=!1;function xf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Of(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function mr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function pr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ju(t),hg(t,null,a),i}return Uu(t,l,i,a),ju(t)}function Zo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,wo(t,a)}}function Nf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Mf=!1;function Wo(){if(Mf){var t=Ta;if(t!==null)throw t}}function Jo(t,i,a,l){Mf=!1;var h=t.updateQueue;dr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var x=S,G=x.next;x.next=null,_===null?d=G:_.next=G,_=x;var J=t.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==_&&(S===null?J.firstBaseUpdate=G:S.next=G,J.lastBaseUpdate=x))}if(d!==null){var ne=h.baseState;_=0,J=G=x=null,S=d;do{var K=S.lane&-536870913,Q=K!==S.lane;if(Q?(ze&K)===K:(l&K)===K){K!==0&&K===Ea&&(Mf=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var be=t,Ee=S;K=i;var Je=a;switch(Ee.tag){case 1:if(be=Ee.payload,typeof be=="function"){ne=be.call(Je,ne,K);break e}ne=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Ee.payload,K=typeof be=="function"?be.call(Je,ne,K):be,K==null)break e;ne=E({},ne,K);break e;case 2:dr=!0}}K=S.callback,K!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[K]:Q.push(K))}else Q={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(G=J=Q,x=ne):J=J.next=Q,_|=K;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);J===null&&(x=ne),h.baseState=x,h.firstBaseUpdate=G,h.lastBaseUpdate=J,d===null&&(h.shared.lanes=0),Ar|=_,t.lanes=_,t.memoizedState=ne}}function Rg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Cg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Rg(a[t],i)}var Sa=re(null),Yu=re(0);function Ig(t,i){t=Ki,oe(Yu,t),oe(Sa,i),Ki=t|i.baseLanes}function Vf(){oe(Yu,Ki),oe(Sa,Sa.current)}function Pf(){Ki=Yu.current,le(Sa),le(Yu)}var gr=0,Ne=null,Ze=null,St=null,Xu=!1,Aa=!1,Ns=!1,$u=0,el=0,ba=null,tA=0;function gt(){throw Error(s(321))}function kf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!pn(t[a],i[a]))return!1;return!0}function Lf(t,i,a,l,h,d){return gr=d,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=t===null||t.memoizedState===null?hy:fy,Ns=!1,d=a(l,h),Ns=!1,Aa&&(d=xg(i,a,l,h)),Dg(t),d}function Dg(t){W.H=nc;var i=Ze!==null&&Ze.next!==null;if(gr=0,St=Ze=Ne=null,Xu=!1,el=0,ba=null,i)throw Error(s(300));t===null||kt||(t=t.dependencies,t!==null&&Hu(t)&&(kt=!0))}function xg(t,i,a,l){Ne=t;var h=0;do{if(Aa&&(ba=null),el=0,Aa=!1,25<=h)throw Error(s(301));if(h+=1,St=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=lA,d=i(a,l)}while(Aa);return d}function nA(){var t=W.H,i=t.useState()[0];return i=typeof i.then=="function"?tl(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ne.flags|=1024),i}function Uf(){var t=$u!==0;return $u=0,t}function jf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Bf(t){if(Xu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Xu=!1}gr=0,St=Ze=Ne=null,Aa=!1,el=$u=0,ba=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ne.memoizedState=St=t:St=St.next=t,St}function At(){if(Ze===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=St===null?Ne.memoizedState:St.next;if(i!==null)St=i,Ze=t;else{if(t===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},St===null?Ne.memoizedState=St=t:St=St.next=t}return St}function zf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(t){var i=el;return el+=1,ba===null&&(ba=[]),t=Ag(ba,t,i),i=Ne,(St===null?i.memoizedState:St.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?hy:fy),t}function Zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return tl(t);if(t.$$typeof===X)return $t(t)}throw Error(s(438,String(t)))}function qf(t){var i=null,a=Ne.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=zf(),Ne.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function Bi(t,i){return typeof i=="function"?i(t):i}function Wu(t){var i=At();return Hf(i,Ze,t)}function Hf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=_=null,x=null,G=i,J=!1;do{var ne=G.lane&-536870913;if(ne!==G.lane?(ze&ne)===ne:(gr&ne)===ne){var K=G.revertLane;if(K===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ne===Ea&&(J=!0);else if((gr&K)===K){G=G.next,K===Ea&&(J=!0);continue}else ne={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},x===null?(S=x=ne,_=d):x=x.next=ne,Ne.lanes|=K,Ar|=K;ne=G.action,Ns&&a(d,ne),d=G.hasEagerState?G.eagerState:a(d,ne)}else K={lane:ne,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},x===null?(S=x=K,_=d):x=x.next=K,Ne.lanes|=ne,Ar|=ne;G=G.next}while(G!==null&&G!==i);if(x===null?_=d:x.next=S,!pn(d,t.memoizedState)&&(kt=!0,J&&(a=Ta,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=x,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ff(t){var i=At(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);pn(d,i.memoizedState)||(kt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Og(t,i,a){var l=Ne,h=At(),d=Fe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!pn((Ze||h).memoizedState,a);_&&(h.memoizedState=a,kt=!0),h=h.queue;var S=Vg.bind(null,l,h,t);if(nl(2048,8,S,[t]),h.getSnapshot!==i||_||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,wa(9,Ju(),Mg.bind(null,l,h,a,i),null),nt===null)throw Error(s(349));d||(gr&124)!==0||Ng(l,i,a)}return a}function Ng(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ne.updateQueue,i===null?(i=zf(),Ne.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Mg(t,i,a,l){i.value=a,i.getSnapshot=l,Pg(i)&&kg(t)}function Vg(t,i,a){return a(function(){Pg(i)&&kg(t)})}function Pg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!pn(t,a)}catch{return!0}}function kg(t){var i=ga(t,2);i!==null&&Tn(i,t,2)}function Gf(t){var i=on();if(typeof t=="function"){var a=t;if(t=a(),Ns){dn(!0);try{a()}finally{dn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:t},i}function Lg(t,i,a,l){return t.baseState=a,Hf(t,Ze,typeof l=="function"?l:Bi)}function iA(t,i,a,l,h){if(tc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ug(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ug(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=W.T,_={};W.T=_;try{var S=a(h,l),x=W.S;x!==null&&x(_,S),jg(t,i,S)}catch(G){Kf(t,i,G)}finally{W.T=d}}else try{d=a(h,l),jg(t,i,d)}catch(G){Kf(t,i,G)}}function jg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Bg(t,i,l)},function(l){return Kf(t,i,l)}):Bg(t,i,a)}function Bg(t,i,a){i.status="fulfilled",i.value=a,zg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ug(t,a)))}function Kf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,zg(i),i=i.next;while(i!==l)}t.action=null}function zg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function qg(t,i){return i}function Hg(t,i){if(Fe){var a=nt.formState;if(a!==null){e:{var l=Ne;if(Fe){if(ft){t:{for(var h=ft,d=ui;h.nodeType!==8;){if(!d){h=null;break t}if(h=Fn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ft=Fn(h.nextSibling),l=h.data==="F!";break e}}Is(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qg,lastRenderedState:i},a.queue=l,a=ly.bind(null,Ne,l),l.dispatch=a,l=Gf(!1),d=Zf.bind(null,Ne,!1,l.queue),l=on(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=iA.bind(null,Ne,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Fg(t){var i=At();return Gg(i,Ze,t)}function Gg(t,i,a){if(i=Hf(t,i,qg)[0],t=Wu(Bi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=tl(i)}catch(_){throw _===Xo?Ku:_}else l=i;i=At();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ne.flags|=2048,wa(9,Ju(),rA.bind(null,h,a),null)),[l,d,t]}function rA(t,i){t.action=i}function Kg(t){var i=At(),a=Ze;if(a!==null)return Gg(i,a,t);At(),i=i.memoizedState,a=At();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function wa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=zf(),Ne.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Ju(){return{destroy:void 0,resource:void 0}}function Qg(){return At().memoizedState}function ec(t,i,a,l){var h=on();l=l===void 0?null:l,Ne.flags|=t,h.memoizedState=wa(1|i,Ju(),a,l)}function nl(t,i,a,l){var h=At();l=l===void 0?null:l;var d=h.memoizedState.inst;Ze!==null&&l!==null&&kf(l,Ze.memoizedState.deps)?h.memoizedState=wa(i,d,a,l):(Ne.flags|=t,h.memoizedState=wa(1|i,d,a,l))}function Yg(t,i){ec(8390656,8,t,i)}function Xg(t,i){nl(2048,8,t,i)}function $g(t,i){return nl(4,2,t,i)}function Zg(t,i){return nl(4,4,t,i)}function Wg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Jg(t,i,a){a=a!=null?a.concat([t]):null,nl(4,4,Wg.bind(null,i,t),a)}function Qf(){}function ey(t,i){var a=At();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&kf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function ty(t,i){var a=At();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&kf(i,l[1]))return l[0];if(l=t(),Ns){dn(!0);try{t()}finally{dn(!1)}}return a.memoizedState=[l,i],l}function Yf(t,i,a){return a===void 0||(gr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=rv(),Ne.lanes|=t,Ar|=t,a)}function ny(t,i,a,l){return pn(a,i)?a:Sa.current!==null?(t=Yf(t,a,l),pn(t,i)||(kt=!0),t):(gr&42)===0?(kt=!0,t.memoizedState=a):(t=rv(),Ne.lanes|=t,Ar|=t,i)}function iy(t,i,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=W.T,S={};W.T=S,Zf(t,!1,i,a);try{var x=h(),G=W.S;if(G!==null&&G(S,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var J=eA(x,l);il(t,i,J,En(t))}else il(t,i,l,En(t))}catch(ne){il(t,i,{then:function(){},status:"rejected",reason:ne},En())}finally{se.p=d,W.T=_}}function sA(){}function Xf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=ry(t).queue;iy(t,h,i,he,a===null?sA:function(){return sy(t),a(l)})}function ry(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:he},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function sy(t){var i=ry(t).next.queue;il(t,i,{},En())}function $f(){return $t(Tl)}function ay(){return At().memoizedState}function oy(){return At().memoizedState}function aA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=En();t=mr(a);var l=pr(i,t,a);l!==null&&(Tn(l,i,a),Zo(l,i,a)),i={cache:Rf()},t.payload=i;return}i=i.return}}function oA(t,i,a){var l=En();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},tc(t)?uy(i,a):(a=gf(t,i,a,l),a!==null&&(Tn(a,t,l),cy(a,i,l)))}function ly(t,i,a){var l=En();il(t,i,a,l)}function il(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(tc(t))uy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,pn(S,_))return Uu(t,i,h,0),nt===null&&Lu(),!1}catch{}finally{}if(a=gf(t,i,h,l),a!==null)return Tn(a,t,l),cy(a,i,l),!0}return!1}function Zf(t,i,a,l){if(l={lane:2,revertLane:Dd(),action:l,hasEagerState:!1,eagerState:null,next:null},tc(t)){if(i)throw Error(s(479))}else i=gf(t,a,l,2),i!==null&&Tn(i,t,2)}function tc(t){var i=t.alternate;return t===Ne||i!==null&&i===Ne}function uy(t,i){Aa=Xu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function cy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,wo(t,a)}}var nc={readContext:$t,use:Zu,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},hy={readContext:$t,use:Zu,useCallback:function(t,i){return on().memoizedState=[t,i===void 0?null:i],t},useContext:$t,useEffect:Yg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ec(4194308,4,Wg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ec(4194308,4,t,i)},useInsertionEffect:function(t,i){ec(4,2,t,i)},useMemo:function(t,i){var a=on();i=i===void 0?null:i;var l=t();if(Ns){dn(!0);try{t()}finally{dn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=on();if(a!==void 0){var h=a(i);if(Ns){dn(!0);try{a(i)}finally{dn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=oA.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var i=on();return t={current:t},i.memoizedState=t},useState:function(t){t=Gf(t);var i=t.queue,a=ly.bind(null,Ne,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Qf,useDeferredValue:function(t,i){var a=on();return Yf(a,t,i)},useTransition:function(){var t=Gf(!1);return t=iy.bind(null,Ne,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ne,h=on();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),nt===null)throw Error(s(349));(ze&124)!==0||Ng(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Yg(Vg.bind(null,l,d,t),[t]),l.flags|=2048,wa(9,Ju(),Mg.bind(null,l,d,a,i),null),a},useId:function(){var t=on(),i=nt.identifierPrefix;if(Fe){var a=Li,l=ki;a=(l&~(1<<32-Xt(l)-1)).toString(32)+a,i=""+i+"R"+a,a=$u++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=tA++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:$f,useFormState:Hg,useActionState:Hg,useOptimistic:function(t){var i=on();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Zf.bind(null,Ne,!0,a),a.dispatch=i,[t,i]},useMemoCache:qf,useCacheRefresh:function(){return on().memoizedState=aA.bind(null,Ne)}},fy={readContext:$t,use:Zu,useCallback:ey,useContext:$t,useEffect:Xg,useImperativeHandle:Jg,useInsertionEffect:$g,useLayoutEffect:Zg,useMemo:ty,useReducer:Wu,useRef:Qg,useState:function(){return Wu(Bi)},useDebugValue:Qf,useDeferredValue:function(t,i){var a=At();return ny(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Wu(Bi)[0],i=At().memoizedState;return[typeof t=="boolean"?t:tl(t),i]},useSyncExternalStore:Og,useId:ay,useHostTransitionStatus:$f,useFormState:Fg,useActionState:Fg,useOptimistic:function(t,i){var a=At();return Lg(a,Ze,t,i)},useMemoCache:qf,useCacheRefresh:oy},lA={readContext:$t,use:Zu,useCallback:ey,useContext:$t,useEffect:Xg,useImperativeHandle:Jg,useInsertionEffect:$g,useLayoutEffect:Zg,useMemo:ty,useReducer:Ff,useRef:Qg,useState:function(){return Ff(Bi)},useDebugValue:Qf,useDeferredValue:function(t,i){var a=At();return Ze===null?Yf(a,t,i):ny(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Ff(Bi)[0],i=At().memoizedState;return[typeof t=="boolean"?t:tl(t),i]},useSyncExternalStore:Og,useId:ay,useHostTransitionStatus:$f,useFormState:Kg,useActionState:Kg,useOptimistic:function(t,i){var a=At();return Ze!==null?Lg(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:qf,useCacheRefresh:oy},Ra=null,rl=0;function ic(t){var i=rl;return rl+=1,Ra===null&&(Ra=[]),Ag(Ra,t,i)}function sl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function rc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function dy(t){var i=t._init;return i(t._payload)}function my(t){function i(B,U){if(t){var F=B.deletions;F===null?(B.deletions=[U],B.flags|=16):F.push(U)}}function a(B,U){if(!t)return null;for(;U!==null;)i(B,U),U=U.sibling;return null}function l(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function h(B,U){return B=Pi(B,U),B.index=0,B.sibling=null,B}function d(B,U,F){return B.index=F,t?(F=B.alternate,F!==null?(F=F.index,F<U?(B.flags|=67108866,U):F):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function _(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function S(B,U,F,te){return U===null||U.tag!==6?(U=vf(F,B.mode,te),U.return=B,U):(U=h(U,F),U.return=B,U)}function x(B,U,F,te){var me=F.type;return me===O?J(B,U,F.props.children,te,F.key):U!==null&&(U.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&dy(me)===U.type)?(U=h(U,F.props),sl(U,F),U.return=B,U):(U=Bu(F.type,F.key,F.props,null,B.mode,te),sl(U,F),U.return=B,U)}function G(B,U,F,te){return U===null||U.tag!==4||U.stateNode.containerInfo!==F.containerInfo||U.stateNode.implementation!==F.implementation?(U=_f(F,B.mode,te),U.return=B,U):(U=h(U,F.children||[]),U.return=B,U)}function J(B,U,F,te,me){return U===null||U.tag!==7?(U=bs(F,B.mode,te,me),U.return=B,U):(U=h(U,F),U.return=B,U)}function ne(B,U,F){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=vf(""+U,B.mode,F),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case A:return F=Bu(U.type,U.key,U.props,null,B.mode,F),sl(F,U),F.return=B,F;case k:return U=_f(U,B.mode,F),U.return=B,U;case R:var te=U._init;return U=te(U._payload),ne(B,U,F)}if(Ce(U)||j(U))return U=bs(U,B.mode,F,null),U.return=B,U;if(typeof U.then=="function")return ne(B,ic(U),F);if(U.$$typeof===X)return ne(B,Fu(B,U),F);rc(B,U)}return null}function K(B,U,F,te){var me=U!==null?U.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return me!==null?null:S(B,U,""+F,te);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case A:return F.key===me?x(B,U,F,te):null;case k:return F.key===me?G(B,U,F,te):null;case R:return me=F._init,F=me(F._payload),K(B,U,F,te)}if(Ce(F)||j(F))return me!==null?null:J(B,U,F,te,null);if(typeof F.then=="function")return K(B,U,ic(F),te);if(F.$$typeof===X)return K(B,U,Fu(B,F),te);rc(B,F)}return null}function Q(B,U,F,te,me){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return B=B.get(F)||null,S(U,B,""+te,me);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case A:return B=B.get(te.key===null?F:te.key)||null,x(U,B,te,me);case k:return B=B.get(te.key===null?F:te.key)||null,G(U,B,te,me);case R:var Ve=te._init;return te=Ve(te._payload),Q(B,U,F,te,me)}if(Ce(te)||j(te))return B=B.get(F)||null,J(U,B,te,me,null);if(typeof te.then=="function")return Q(B,U,F,ic(te),me);if(te.$$typeof===X)return Q(B,U,F,Fu(U,te),me);rc(U,te)}return null}function be(B,U,F,te){for(var me=null,Ve=null,ge=U,Te=U=0,Ut=null;ge!==null&&Te<F.length;Te++){ge.index>Te?(Ut=ge,ge=null):Ut=ge.sibling;var He=K(B,ge,F[Te],te);if(He===null){ge===null&&(ge=Ut);break}t&&ge&&He.alternate===null&&i(B,ge),U=d(He,U,Te),Ve===null?me=He:Ve.sibling=He,Ve=He,ge=Ut}if(Te===F.length)return a(B,ge),Fe&&Rs(B,Te),me;if(ge===null){for(;Te<F.length;Te++)ge=ne(B,F[Te],te),ge!==null&&(U=d(ge,U,Te),Ve===null?me=ge:Ve.sibling=ge,Ve=ge);return Fe&&Rs(B,Te),me}for(ge=l(ge);Te<F.length;Te++)Ut=Q(ge,B,Te,F[Te],te),Ut!==null&&(t&&Ut.alternate!==null&&ge.delete(Ut.key===null?Te:Ut.key),U=d(Ut,U,Te),Ve===null?me=Ut:Ve.sibling=Ut,Ve=Ut);return t&&ge.forEach(function(Nr){return i(B,Nr)}),Fe&&Rs(B,Te),me}function Ee(B,U,F,te){if(F==null)throw Error(s(151));for(var me=null,Ve=null,ge=U,Te=U=0,Ut=null,He=F.next();ge!==null&&!He.done;Te++,He=F.next()){ge.index>Te?(Ut=ge,ge=null):Ut=ge.sibling;var Nr=K(B,ge,He.value,te);if(Nr===null){ge===null&&(ge=Ut);break}t&&ge&&Nr.alternate===null&&i(B,ge),U=d(Nr,U,Te),Ve===null?me=Nr:Ve.sibling=Nr,Ve=Nr,ge=Ut}if(He.done)return a(B,ge),Fe&&Rs(B,Te),me;if(ge===null){for(;!He.done;Te++,He=F.next())He=ne(B,He.value,te),He!==null&&(U=d(He,U,Te),Ve===null?me=He:Ve.sibling=He,Ve=He);return Fe&&Rs(B,Te),me}for(ge=l(ge);!He.done;Te++,He=F.next())He=Q(ge,B,Te,He.value,te),He!==null&&(t&&He.alternate!==null&&ge.delete(He.key===null?Te:He.key),U=d(He,U,Te),Ve===null?me=He:Ve.sibling=He,Ve=He);return t&&ge.forEach(function(ub){return i(B,ub)}),Fe&&Rs(B,Te),me}function Je(B,U,F,te){if(typeof F=="object"&&F!==null&&F.type===O&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case A:e:{for(var me=F.key;U!==null;){if(U.key===me){if(me=F.type,me===O){if(U.tag===7){a(B,U.sibling),te=h(U,F.props.children),te.return=B,B=te;break e}}else if(U.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&dy(me)===U.type){a(B,U.sibling),te=h(U,F.props),sl(te,F),te.return=B,B=te;break e}a(B,U);break}else i(B,U);U=U.sibling}F.type===O?(te=bs(F.props.children,B.mode,te,F.key),te.return=B,B=te):(te=Bu(F.type,F.key,F.props,null,B.mode,te),sl(te,F),te.return=B,B=te)}return _(B);case k:e:{for(me=F.key;U!==null;){if(U.key===me)if(U.tag===4&&U.stateNode.containerInfo===F.containerInfo&&U.stateNode.implementation===F.implementation){a(B,U.sibling),te=h(U,F.children||[]),te.return=B,B=te;break e}else{a(B,U);break}else i(B,U);U=U.sibling}te=_f(F,B.mode,te),te.return=B,B=te}return _(B);case R:return me=F._init,F=me(F._payload),Je(B,U,F,te)}if(Ce(F))return be(B,U,F,te);if(j(F)){if(me=j(F),typeof me!="function")throw Error(s(150));return F=me.call(F),Ee(B,U,F,te)}if(typeof F.then=="function")return Je(B,U,ic(F),te);if(F.$$typeof===X)return Je(B,U,Fu(B,F),te);rc(B,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,U!==null&&U.tag===6?(a(B,U.sibling),te=h(U,F),te.return=B,B=te):(a(B,U),te=vf(F,B.mode,te),te.return=B,B=te),_(B)):a(B,U)}return function(B,U,F,te){try{rl=0;var me=Je(B,U,F,te);return Ra=null,me}catch(ge){if(ge===Xo||ge===Ku)throw ge;var Ve=gn(29,ge,null,B.mode);return Ve.lanes=te,Ve.return=B,Ve}finally{}}}var Ca=my(!0),py=my(!1),Vn=re(null),ci=null;function yr(t){var i=t.alternate;oe(Dt,Dt.current&1),oe(Vn,t),ci===null&&(i===null||Sa.current!==null||i.memoizedState!==null)&&(ci=t)}function gy(t){if(t.tag===22){if(oe(Dt,Dt.current),oe(Vn,t),ci===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ci=t)}}else vr()}function vr(){oe(Dt,Dt.current),oe(Vn,Vn.current)}function zi(t){le(Vn),ci===t&&(ci=null),le(Dt)}var Dt=re(0);function sc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||zd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Wf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Jf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=En(),h=mr(l);h.payload=i,a!=null&&(h.callback=a),i=pr(t,h,l),i!==null&&(Tn(i,t,l),Zo(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=En(),h=mr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=pr(t,h,l),i!==null&&(Tn(i,t,l),Zo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=En(),l=mr(a);l.tag=2,i!=null&&(l.callback=i),i=pr(t,l,a),i!==null&&(Tn(i,t,a),Zo(i,t,a))}};function yy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!zo(a,l)||!zo(h,d):!0}function vy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Jf.enqueueReplaceState(i,i.state,null)}function Ms(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var ac=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function _y(t){ac(t)}function Ey(t){console.error(t)}function Ty(t){ac(t)}function oc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Sy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ed(t,i,a){return a=mr(a),a.tag=3,a.payload={element:null},a.callback=function(){oc(t,i)},a}function Ay(t){return t=mr(t),t.tag=3,t}function by(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Sy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Sy(i,a,l),typeof h!="function"&&(br===null?br=new Set([this]):br.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function uA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ko(i,a,h,!0),a=Vn.current,a!==null){switch(a.tag){case 13:return ci===null?bd():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Df?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Rd(t,l,h)),!1;case 22:return a.flags|=65536,l===Df?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Rd(t,l,h)),!1}throw Error(s(435,a.tag))}return Rd(t,l,h),bd(),!1}if(Fe)return i=Vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Sf&&(t=Error(s(422),{cause:l}),Go(xn(t,a)))):(l!==Sf&&(i=Error(s(423),{cause:l}),Go(xn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=xn(l,a),h=ed(t.stateNode,l,h),Nf(t,h),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=xn(d,a),fl===null?fl=[d]:fl.push(d),dt!==4&&(dt=2),i===null)return!0;l=xn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ed(a.stateNode,l,t),Nf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(br===null||!br.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ay(h),by(h,t,a,l),Nf(a,h),!1}a=a.return}while(a!==null);return!1}var wy=Error(s(461)),kt=!1;function qt(t,i,a,l){i.child=t===null?py(i,null,a,l):Ca(i,t.child,a,l)}function Ry(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return xs(i),l=Lf(t,i,a,_,d,h),S=Uf(),t!==null&&!kt?(jf(t,i,h),qi(t,i,h)):(Fe&&S&&Ef(i),i.flags|=1,qt(t,i,l,h),i.child)}function Cy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!yf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Iy(t,i,d,l,h)):(t=Bu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!ld(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:zo,a(_,l)&&t.ref===i.ref)return qi(t,i,h)}return i.flags|=1,t=Pi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Iy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(zo(d,l)&&t.ref===i.ref)if(kt=!1,i.pendingProps=l=d,ld(t,h))(t.flags&131072)!==0&&(kt=!0);else return i.lanes=t.lanes,qi(t,i,h)}return td(t,i,a,l,h)}function Dy(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return xy(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Gu(i,d!==null?d.cachePool:null),d!==null?Ig(i,d):Vf(),gy(i);else return i.lanes=i.childLanes=536870912,xy(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Gu(i,d.cachePool),Ig(i,d),vr(),i.memoizedState=null):(t!==null&&Gu(i,null),Vf(),vr());return qt(t,i,h,a),i.child}function xy(t,i,a,l){var h=If();return h=h===null?null:{parent:It._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Gu(i,null),Vf(),gy(i),t!==null&&Ko(t,i,l,!0),null}function lc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function td(t,i,a,l,h){return xs(i),a=Lf(t,i,a,l,void 0,h),l=Uf(),t!==null&&!kt?(jf(t,i,h),qi(t,i,h)):(Fe&&l&&Ef(i),i.flags|=1,qt(t,i,a,h),i.child)}function Oy(t,i,a,l,h,d){return xs(i),i.updateQueue=null,a=xg(i,l,a,h),Dg(t),l=Uf(),t!==null&&!kt?(jf(t,i,d),qi(t,i,d)):(Fe&&l&&Ef(i),i.flags|=1,qt(t,i,a,d),i.child)}function Ny(t,i,a,l,h){if(xs(i),i.stateNode===null){var d=ya,_=a.contextType;typeof _=="object"&&_!==null&&(d=$t(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Jf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},xf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?$t(_):ya,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Wf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Jf.enqueueReplaceState(d,d.state,null),Jo(i,l,d,h),Wo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,x=Ms(a,S);d.props=x;var G=d.context,J=a.contextType;_=ya,typeof J=="object"&&J!==null&&(_=$t(J));var ne=a.getDerivedStateFromProps;J=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||G!==_)&&vy(i,d,l,_),dr=!1;var K=i.memoizedState;d.state=K,Jo(i,l,d,h),Wo(),G=i.memoizedState,S||K!==G||dr?(typeof ne=="function"&&(Wf(i,a,ne,l),G=i.memoizedState),(x=dr||yy(i,a,x,l,K,G,_))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=_,l=x):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Of(t,i),_=i.memoizedProps,J=Ms(a,_),d.props=J,ne=i.pendingProps,K=d.context,G=a.contextType,x=ya,typeof G=="object"&&G!==null&&(x=$t(G)),S=a.getDerivedStateFromProps,(G=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ne||K!==x)&&vy(i,d,l,x),dr=!1,K=i.memoizedState,d.state=K,Jo(i,l,d,h),Wo();var Q=i.memoizedState;_!==ne||K!==Q||dr||t!==null&&t.dependencies!==null&&Hu(t.dependencies)?(typeof S=="function"&&(Wf(i,a,S,l),Q=i.memoizedState),(J=dr||yy(i,a,J,l,K,Q,x)||t!==null&&t.dependencies!==null&&Hu(t.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,x)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=x,l=J):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,lc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ca(i,t.child,null,h),i.child=Ca(i,null,a,h)):qt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=qi(t,i,h),t}function My(t,i,a,l){return Fo(),i.flags|=256,qt(t,i,a,l),i.child}var nd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function id(t){return{baseLanes:t,cachePool:Eg()}}function rd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Pn),t}function Vy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Dt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Fe){if(h?yr(i):vr(),Fe){var S=ft,x;if(x=S){e:{for(x=S,S=ui;x.nodeType!==8;){if(!S){S=null;break e}if(x=Fn(x.nextSibling),x===null){S=null;break e}}S=x}S!==null?(i.memoizedState={dehydrated:S,treeContext:ws!==null?{id:ki,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},x=gn(18,null,null,0),x.stateNode=S,x.return=i,i.child=x,an=i,ft=null,x=!0):x=!1}x||Is(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return zd(S)?i.lanes=32:i.lanes=536870912,null;zi(i)}return S=l.children,l=l.fallback,h?(vr(),h=i.mode,S=uc({mode:"hidden",children:S},h),l=bs(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,h=i.child,h.memoizedState=id(a),h.childLanes=rd(t,_,a),i.memoizedState=nd,l):(yr(i),sd(i,S))}if(x=t.memoizedState,x!==null&&(S=x.dehydrated,S!==null)){if(d)i.flags&256?(yr(i),i.flags&=-257,i=ad(t,i,a)):i.memoizedState!==null?(vr(),i.child=t.child,i.flags|=128,i=null):(vr(),h=l.fallback,S=i.mode,l=uc({mode:"visible",children:l.children},S),h=bs(h,S,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ca(i,t.child,null,a),l=i.child,l.memoizedState=id(a),l.childLanes=rd(t,_,a),i.memoizedState=nd,i=h);else if(yr(i),zd(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var G=_.dgst;_=G,l=Error(s(419)),l.stack="",l.digest=_,Go({value:l,source:null,stack:null}),i=ad(t,i,a)}else if(kt||Ko(t,i,a,!1),_=(a&t.childLanes)!==0,kt||_){if(_=nt,_!==null&&(l=a&-a,l=(l&42)!==0?1:sr(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==x.retryLane))throw x.retryLane=l,ga(t,l),Tn(_,t,l),wy;S.data==="$?"||bd(),i=ad(t,i,a)}else S.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=x.treeContext,ft=Fn(S.nextSibling),an=i,Fe=!0,Cs=null,ui=!1,t!==null&&(Nn[Mn++]=ki,Nn[Mn++]=Li,Nn[Mn++]=ws,ki=t.id,Li=t.overflow,ws=i),i=sd(i,l.children),i.flags|=4096);return i}return h?(vr(),h=l.fallback,S=i.mode,x=t.child,G=x.sibling,l=Pi(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,G!==null?h=Pi(G,h):(h=bs(h,S,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,S=t.child.memoizedState,S===null?S=id(a):(x=S.cachePool,x!==null?(G=It._currentValue,x=x.parent!==G?{parent:G,pool:G}:x):x=Eg(),S={baseLanes:S.baseLanes|a,cachePool:x}),h.memoizedState=S,h.childLanes=rd(t,_,a),i.memoizedState=nd,l):(yr(i),a=t.child,t=a.sibling,a=Pi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function sd(t,i){return i=uc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function uc(t,i){return t=gn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ad(t,i,a){return Ca(i,t.child,null,a),t=sd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Py(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),bf(t.return,i,a)}function od(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function ky(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(qt(t,i,l.children,a),l=Dt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Py(t,a,i);else if(t.tag===19)Py(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(oe(Dt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&sc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),od(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&sc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}od(i,!0,a,null,d);break;case"together":od(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function qi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ar|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ko(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Pi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Pi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function ld(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Hu(t)))}function cA(t,i,a){switch(i.tag){case 3:tt(i,i.stateNode.containerInfo),fr(i,It,t.memoizedState.cache),Fo();break;case 27:case 5:rr(i);break;case 4:tt(i,i.stateNode.containerInfo);break;case 10:fr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(yr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Vy(t,i,a):(yr(i),t=qi(t,i,a),t!==null?t.sibling:null);yr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ko(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return ky(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(Dt,Dt.current),l)break;return null;case 22:case 23:return i.lanes=0,Dy(t,i,a);case 24:fr(i,It,t.memoizedState.cache)}return qi(t,i,a)}function Ly(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)kt=!0;else{if(!ld(t,a)&&(i.flags&128)===0)return kt=!1,cA(t,i,a);kt=(t.flags&131072)!==0}else kt=!1,Fe&&(i.flags&1048576)!==0&&dg(i,qu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")yf(l)?(t=Ms(l,t),i.tag=1,i=Ny(null,i,l,t,a)):(i.tag=0,i=td(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ee){i.tag=11,i=Ry(null,i,l,t,a);break e}else if(h===I){i.tag=14,i=Cy(null,i,l,t,a);break e}}throw i=xe(l)||l,Error(s(306,i,""))}}return i;case 0:return td(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ms(l,i.pendingProps),Ny(t,i,l,h,a);case 3:e:{if(tt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Of(t,i),Jo(i,l,null,a);var _=i.memoizedState;if(l=_.cache,fr(i,It,l),l!==d.cache&&wf(i,[It],a,!0),Wo(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=My(t,i,l,a);break e}else if(l!==h){h=xn(Error(s(424)),i),Go(h),i=My(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ft=Fn(t.firstChild),an=i,Fe=!0,Cs=null,ui=!0,a=py(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Fo(),l===h){i=qi(t,i,a);break e}qt(t,i,l,a)}i=i.child}return i;case 26:return lc(t,i),t===null?(a=zv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Fe||(a=i.type,t=i.pendingProps,l=Ac(pe.current).createElement(a),l[wt]=i,l[Et]=t,Ft(l,a,t),pt(l),i.stateNode=l):i.memoizedState=zv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return rr(i),t===null&&Fe&&(l=i.stateNode=Uv(i.type,i.pendingProps,pe.current),an=i,ui=!0,h=ft,Cr(i.type)?(qd=h,ft=Fn(l.firstChild)):ft=h),qt(t,i,i.pendingProps.children,a),lc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Fe&&((h=l=ft)&&(l=UA(l,i.type,i.pendingProps,ui),l!==null?(i.stateNode=l,an=i,ft=Fn(l.firstChild),ui=!1,h=!0):h=!1),h||Is(i)),rr(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Ud(h,d)?l=null:_!==null&&Ud(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Lf(t,i,nA,null,null,a),Tl._currentValue=h),lc(t,i),qt(t,i,l,a),i.child;case 6:return t===null&&Fe&&((t=a=ft)&&(a=jA(a,i.pendingProps,ui),a!==null?(i.stateNode=a,an=i,ft=null,t=!0):t=!1),t||Is(i)),null;case 13:return Vy(t,i,a);case 4:return tt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ca(i,null,l,a):qt(t,i,l,a),i.child;case 11:return Ry(t,i,i.type,i.pendingProps,a);case 7:return qt(t,i,i.pendingProps,a),i.child;case 8:return qt(t,i,i.pendingProps.children,a),i.child;case 12:return qt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,fr(i,i.type,l.value),qt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,xs(i),h=$t(h),l=l(h),i.flags|=1,qt(t,i,l,a),i.child;case 14:return Cy(t,i,i.type,i.pendingProps,a);case 15:return Iy(t,i,i.type,i.pendingProps,a);case 19:return ky(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=uc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Pi(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Dy(t,i,a);case 24:return xs(i),l=$t(It),t===null?(h=If(),h===null&&(h=nt,d=Rf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},xf(i),fr(i,It,h)):((t.lanes&a)!==0&&(Of(t,i),Jo(i,null,null,a),Wo()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),fr(i,It,l)):(l=d.cache,fr(i,It,l),l!==h.cache&&wf(i,[It],a,!0))),qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Hi(t){t.flags|=4}function Uy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Kv(i)){if(i=Vn.current,i!==null&&((ze&4194048)===ze?ci!==null:(ze&62914560)!==ze&&(ze&536870912)===0||i!==ci))throw $o=Df,Tg;t.flags|=8192}}function cc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ao():536870912,t.lanes|=i,Oa|=i)}function al(t,i){if(!Fe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ut(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function hA(t,i,a){var l=i.pendingProps;switch(Tf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(i),null;case 1:return ut(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ji(It),Zn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ho(i)?Hi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,gg())),ut(i),null;case 26:return a=i.memoizedState,t===null?(Hi(i),a!==null?(ut(i),Uy(i,a)):(ut(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Hi(i),ut(i),Uy(i,a)):(ut(i),i.flags&=-16777217):(t.memoizedProps!==l&&Hi(i),ut(i),i.flags&=-16777217),null;case 27:Si(i),a=pe.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Hi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ut(i),null}t=de.current,Ho(i)?mg(i):(t=Uv(h,l,a),i.stateNode=t,Hi(i))}return ut(i),null;case 5:if(Si(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Hi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ut(i),null}if(t=de.current,Ho(i))mg(i);else{switch(h=Ac(pe.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[wt]=i,t[Et]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Ft(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Hi(i)}}return ut(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Hi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=pe.current,Ho(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=an,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[wt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ov(t.nodeValue,a)),t||Is(i)}else t=Ac(t).createTextNode(l),t[wt]=i,i.stateNode=t}return ut(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ho(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[wt]=i}else Fo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ut(i),h=!1}else h=gg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(zi(i),i):(zi(i),null)}if(zi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),cc(i,i.updateQueue),ut(i),null;case 4:return Zn(),t===null&&Md(i.stateNode.containerInfo),ut(i),null;case 10:return ji(i.type),ut(i),null;case 19:if(le(Dt),h=i.memoizedState,h===null)return ut(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)al(h,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=sc(t),d!==null){for(i.flags|=128,al(h,!1),t=d.updateQueue,i.updateQueue=t,cc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)fg(a,t),a=a.sibling;return oe(Dt,Dt.current&1|2),i.child}t=t.sibling}h.tail!==null&&bn()>dc&&(i.flags|=128,l=!0,al(h,!1),i.lanes=4194304)}else{if(!l)if(t=sc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,cc(i,t),al(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Fe)return ut(i),null}else 2*bn()-h.renderingStartTime>dc&&a!==536870912&&(i.flags|=128,l=!0,al(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=bn(),i.sibling=null,t=Dt.current,oe(Dt,l?t&1|2:t&1),i):(ut(i),null);case 22:case 23:return zi(i),Pf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ut(i),i.subtreeFlags&6&&(i.flags|=8192)):ut(i),a=i.updateQueue,a!==null&&cc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&le(Os),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ji(It),ut(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function fA(t,i){switch(Tf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ji(It),Zn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Si(i),null;case 13:if(zi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Fo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return le(Dt),null;case 4:return Zn(),null;case 10:return ji(i.type),null;case 22:case 23:return zi(i),Pf(),t!==null&&le(Os),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ji(It),null;case 25:return null;default:return null}}function jy(t,i){switch(Tf(i),i.tag){case 3:ji(It),Zn();break;case 26:case 27:case 5:Si(i);break;case 4:Zn();break;case 13:zi(i);break;case 19:le(Dt);break;case 10:ji(i.type);break;case 22:case 23:zi(i),Pf(),t!==null&&le(Os);break;case 24:ji(It)}}function ol(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){et(i,i.return,S)}}function _r(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var x=a,G=S;try{G()}catch(J){et(h,x,J)}}}l=l.next}while(l!==d)}}catch(J){et(i,i.return,J)}}function By(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Cg(i,a)}catch(l){et(t,t.return,l)}}}function zy(t,i,a){a.props=Ms(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){et(t,i,l)}}function ll(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){et(t,i,h)}}function hi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){et(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){et(t,i,h)}else a.current=null}function qy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){et(t,t.return,h)}}function ud(t,i,a){try{var l=t.stateNode;MA(l,t.type,a,i),l[Et]=i}catch(h){et(t,t.return,h)}}function Hy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Cr(t.type)||t.tag===4}function cd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Hy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Cr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Sc));else if(l!==4&&(l===27&&Cr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(hd(t,i,a),t=t.sibling;t!==null;)hd(t,i,a),t=t.sibling}function hc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Cr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(hc(t,i,a),t=t.sibling;t!==null;)hc(t,i,a),t=t.sibling}function Fy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ft(i,l,a),i[wt]=t,i[Et]=a}catch(d){et(t,t.return,d)}}var Fi=!1,yt=!1,fd=!1,Gy=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function dA(t,i){if(t=t.containerInfo,kd=Dc,t=ng(t),cf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,x=-1,G=0,J=0,ne=t,K=null;t:for(;;){for(var Q;ne!==a||h!==0&&ne.nodeType!==3||(S=_+h),ne!==d||l!==0&&ne.nodeType!==3||(x=_+l),ne.nodeType===3&&(_+=ne.nodeValue.length),(Q=ne.firstChild)!==null;)K=ne,ne=Q;for(;;){if(ne===t)break t;if(K===a&&++G===h&&(S=_),K===d&&++J===l&&(x=_),(Q=ne.nextSibling)!==null)break;ne=K,K=ne.parentNode}ne=Q}a=S===-1||x===-1?null:{start:S,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ld={focusedElem:t,selectionRange:a},Dc=!1,Lt=i;Lt!==null;)if(i=Lt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Lt=t;else for(;Lt!==null;){switch(i=Lt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var be=Ms(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(be,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){et(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Bd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Bd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Lt=t;break}Lt=i.return}}function Ky(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Er(t,a),l&4&&ol(5,a);break;case 1:if(Er(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){et(a,a.return,_)}else{var h=Ms(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){et(a,a.return,_)}}l&64&&By(a),l&512&&ll(a,a.return);break;case 3:if(Er(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Cg(t,i)}catch(_){et(a,a.return,_)}}break;case 27:i===null&&l&4&&Fy(a);case 26:case 5:Er(t,a),i===null&&l&4&&qy(a),l&512&&ll(a,a.return);break;case 12:Er(t,a);break;case 13:Er(t,a),l&4&&Xy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=SA.bind(null,a),BA(t,a))));break;case 22:if(l=a.memoizedState!==null||Fi,!l){i=i!==null&&i.memoizedState!==null||yt,h=Fi;var d=yt;Fi=l,(yt=i)&&!d?Tr(t,a,(a.subtreeFlags&8772)!==0):Er(t,a),Fi=h,yt=d}break;case 30:break;default:Er(t,a)}}function Qy(t){var i=t.alternate;i!==null&&(t.alternate=null,Qy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&lr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var at=null,ln=!1;function Gi(t,i,a){for(a=a.child;a!==null;)Yy(t,i,a),a=a.sibling}function Yy(t,i,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ht,a)}catch{}switch(a.tag){case 26:yt||hi(a,i),Gi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||hi(a,i);var l=at,h=ln;Cr(a.type)&&(at=a.stateNode,ln=!1),Gi(t,i,a),yl(a.stateNode),at=l,ln=h;break;case 5:yt||hi(a,i);case 6:if(l=at,h=ln,at=null,Gi(t,i,a),at=l,ln=h,at!==null)if(ln)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(a.stateNode)}catch(d){et(a,i,d)}else try{at.removeChild(a.stateNode)}catch(d){et(a,i,d)}break;case 18:at!==null&&(ln?(t=at,kv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),wl(t)):kv(at,a.stateNode));break;case 4:l=at,h=ln,at=a.stateNode.containerInfo,ln=!0,Gi(t,i,a),at=l,ln=h;break;case 0:case 11:case 14:case 15:yt||_r(2,a,i),yt||_r(4,a,i),Gi(t,i,a);break;case 1:yt||(hi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&zy(a,i,l)),Gi(t,i,a);break;case 21:Gi(t,i,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,Gi(t,i,a),yt=l;break;default:Gi(t,i,a)}}function Xy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{wl(t)}catch(a){et(i,i.return,a)}}function mA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Gy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Gy),i;default:throw Error(s(435,t.tag))}}function dd(t,i){var a=mA(t);i.forEach(function(l){var h=AA.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function yn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Cr(S.type)){at=S.stateNode,ln=!1;break e}break;case 5:at=S.stateNode,ln=!1;break e;case 3:case 4:at=S.stateNode.containerInfo,ln=!0;break e}S=S.return}if(at===null)throw Error(s(160));Yy(d,_,h),at=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)$y(i,t),i=i.sibling}var Hn=null;function $y(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yn(i,t),vn(t),l&4&&(_r(3,t,t.return),ol(3,t),_r(5,t,t.return));break;case 1:yn(i,t),vn(t),l&512&&(yt||a===null||hi(a,a.return)),l&64&&Fi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Hn;if(yn(i,t),vn(t),l&512&&(yt||a===null||hi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ls]||d[wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ft(d,l,a),d[wt]=t,pt(d),l=d;break e;case"link":var _=Fv("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;case"meta":if(_=Fv("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[wt]=t,pt(d),l=d}t.stateNode=l}else Gv(h,t.type,t.stateNode);else t.stateNode=Hv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Gv(h,t.type,t.stateNode):Hv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ud(t,t.memoizedProps,a.memoizedProps)}break;case 27:yn(i,t),vn(t),l&512&&(yt||a===null||hi(a,a.return)),a!==null&&l&4&&ud(t,t.memoizedProps,a.memoizedProps);break;case 5:if(yn(i,t),vn(t),l&512&&(yt||a===null||hi(a,a.return)),t.flags&32){h=t.stateNode;try{Rn(h,"")}catch(Q){et(t,t.return,Q)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ud(t,h,a!==null?a.memoizedProps:h)),l&1024&&(fd=!0);break;case 6:if(yn(i,t),vn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Q){et(t,t.return,Q)}}break;case 3:if(Rc=null,h=Hn,Hn=bc(i.containerInfo),yn(i,t),Hn=h,vn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{wl(i.containerInfo)}catch(Q){et(t,t.return,Q)}fd&&(fd=!1,Zy(t));break;case 4:l=Hn,Hn=bc(t.stateNode.containerInfo),yn(i,t),vn(t),Hn=l;break;case 12:yn(i,t),vn(t);break;case 13:yn(i,t),vn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_d=bn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dd(t,l)));break;case 22:h=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,G=Fi,J=yt;if(Fi=G||h,yt=J||x,yn(i,t),yt=J,Fi=G,vn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||x||Fi||yt||Vs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){x=a=i;try{if(d=x.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=x.stateNode;var ne=x.memoizedProps.style,K=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;S.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Q){et(x,x.return,Q)}}}else if(i.tag===6){if(a===null){x=i;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(Q){et(x,x.return,Q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,dd(t,a))));break;case 19:yn(i,t),vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dd(t,l)));break;case 30:break;case 21:break;default:yn(i,t),vn(t)}}function vn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Hy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=cd(t);hc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(Rn(_,""),a.flags&=-33);var S=cd(t);hc(t,S,_);break;case 3:case 4:var x=a.stateNode.containerInfo,G=cd(t);hd(t,G,x);break;default:throw Error(s(161))}}catch(J){et(t,t.return,J)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Zy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Zy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Er(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ky(t,i.alternate,i),i=i.sibling}function Vs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:_r(4,i,i.return),Vs(i);break;case 1:hi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&zy(i,i.return,a),Vs(i);break;case 27:yl(i.stateNode);case 26:case 5:hi(i,i.return),Vs(i);break;case 22:i.memoizedState===null&&Vs(i);break;case 30:Vs(i);break;default:Vs(i)}t=t.sibling}}function Tr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Tr(h,d,a),ol(4,d);break;case 1:if(Tr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){et(l,l.return,G)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Rg(x[h],S)}catch(G){et(l,l.return,G)}}a&&_&64&&By(d),ll(d,d.return);break;case 27:Fy(d);case 26:case 5:Tr(h,d,a),a&&l===null&&_&4&&qy(d),ll(d,d.return);break;case 12:Tr(h,d,a);break;case 13:Tr(h,d,a),a&&_&4&&Xy(h,d);break;case 22:d.memoizedState===null&&Tr(h,d,a),ll(d,d.return);break;case 30:break;default:Tr(h,d,a)}i=i.sibling}}function md(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Qo(a))}function pd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Qo(t))}function fi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Wy(t,i,a,l),i=i.sibling}function Wy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:fi(t,i,a,l),h&2048&&ol(9,i);break;case 1:fi(t,i,a,l);break;case 3:fi(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Qo(t)));break;case 12:if(h&2048){fi(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){et(i,i.return,x)}}else fi(t,i,a,l);break;case 13:fi(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?fi(t,i,a,l):ul(t,i):d._visibility&2?fi(t,i,a,l):(d._visibility|=2,Ia(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&md(_,i);break;case 24:fi(t,i,a,l),h&2048&&pd(i.alternate,i);break;default:fi(t,i,a,l)}}function Ia(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,_=i,S=a,x=l,G=_.flags;switch(_.tag){case 0:case 11:case 15:Ia(d,_,S,x,h),ol(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?Ia(d,_,S,x,h):ul(d,_):(J._visibility|=2,Ia(d,_,S,x,h)),h&&G&2048&&md(_.alternate,_);break;case 24:Ia(d,_,S,x,h),h&&G&2048&&pd(_.alternate,_);break;default:Ia(d,_,S,x,h)}i=i.sibling}}function ul(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:ul(a,l),h&2048&&md(l.alternate,l);break;case 24:ul(a,l),h&2048&&pd(l.alternate,l);break;default:ul(a,l)}i=i.sibling}}var cl=8192;function Da(t){if(t.subtreeFlags&cl)for(t=t.child;t!==null;)Jy(t),t=t.sibling}function Jy(t){switch(t.tag){case 26:Da(t),t.flags&cl&&t.memoizedState!==null&&JA(Hn,t.memoizedState,t.memoizedProps);break;case 5:Da(t);break;case 3:case 4:var i=Hn;Hn=bc(t.stateNode.containerInfo),Da(t),Hn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=cl,cl=16777216,Da(t),cl=i):Da(t));break;default:Da(t)}}function ev(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function hl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,nv(l,t)}ev(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)tv(t),t=t.sibling}function tv(t){switch(t.tag){case 0:case 11:case 15:hl(t),t.flags&2048&&_r(9,t,t.return);break;case 3:hl(t);break;case 12:hl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,fc(t)):hl(t);break;default:hl(t)}}function fc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,nv(l,t)}ev(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:_r(8,i,i.return),fc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,fc(i));break;default:fc(i)}t=t.sibling}}function nv(t,i){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:_r(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Qo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=t;Lt!==null;){l=Lt;var h=l.sibling,d=l.return;if(Qy(l),l===a){Lt=null;break e}if(h!==null){h.return=d,Lt=h;break e}Lt=d}}}var pA={getCacheForType:function(t){var i=$t(It),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},gA=typeof WeakMap=="function"?WeakMap:Map,Ye=0,nt=null,Pe=null,ze=0,Xe=0,_n=null,Sr=!1,xa=!1,gd=!1,Ki=0,dt=0,Ar=0,Ps=0,yd=0,Pn=0,Oa=0,fl=null,un=null,vd=!1,_d=0,dc=1/0,mc=null,br=null,Ht=0,wr=null,Na=null,Ma=0,Ed=0,Td=null,iv=null,dl=0,Sd=null;function En(){if((Ye&2)!==0&&ze!==0)return ze&-ze;if(W.T!==null){var t=Ea;return t!==0?t:Dd()}return ar()}function rv(){Pn===0&&(Pn=(ze&536870912)===0||Fe?So():536870912);var t=Vn.current;return t!==null&&(t.flags|=32),Pn}function Tn(t,i,a){(t===nt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Va(t,0),Rr(t,ze,Pn,!1)),bi(t,a),((Ye&2)===0||t!==nt)&&(t===nt&&((Ye&2)===0&&(Ps|=a),dt===4&&Rr(t,ze,Pn,!1)),di(t))}function sv(t,i,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||os(t,i),h=l?_A(t,i):wd(t,i,!0),d=l;do{if(h===0){xa&&!l&&Rr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!yA(a)){h=wd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;h=fl;var x=S.current.memoizedState.isDehydrated;if(x&&(Va(S,_).flags|=256),_=wd(S,_,!1),_!==2){if(gd&&!x){S.errorRecoveryDisabledLanes|=d,Ps|=d,h=4;break e}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Va(t,0),Rr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Rr(l,i,Pn,!Sr);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=_d+300-bn(),10<h)){if(Rr(l,i,Pn,!Sr),Zs(l,0,!0)!==0)break e;l.timeoutHandle=Vv(av.bind(null,l,a,un,mc,vd,i,Pn,Ps,Oa,Sr,d,2,-0,0),h);break e}av(l,a,un,mc,vd,i,Pn,Ps,Oa,Sr,d,0,-0,0)}}break}while(!0);di(t)}function av(t,i,a,l,h,d,_,S,x,G,J,ne,K,Q){if(t.timeoutHandle=-1,ne=i.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(El={stylesheets:null,count:0,unsuspend:WA},Jy(i),ne=eb(),ne!==null)){t.cancelPendingCommit=ne(dv.bind(null,t,i,d,a,l,h,_,S,x,J,1,K,Q)),Rr(t,d,_,!G);return}dv(t,i,d,a,l,h,_,S,x)}function yA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Rr(t,i,a,l){i&=~yd,i&=~Ps,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Xt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Wn(t,a,i)}function pc(){return(Ye&6)===0?(ml(0),!1):!0}function Ad(){if(Pe!==null){if(Xe===0)var t=Pe.return;else t=Pe,Ui=Ds=null,Bf(t),Ra=null,rl=0,t=Pe;for(;t!==null;)jy(t.alternate,t),t=t.return;Pe=null}}function Va(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,PA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ad(),nt=t,Pe=a=Pi(t.current,null),ze=i,Xe=0,_n=null,Sr=!1,xa=os(t,i),gd=!1,Oa=Pn=yd=Ps=Ar=dt=0,un=fl=null,vd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Xt(l),d=1<<h;i|=t[h],l&=~d}return Ki=i,Lu(),a}function ov(t,i){Ne=null,W.H=nc,i===Xo||i===Ku?(i=bg(),Xe=3):i===Tg?(i=bg(),Xe=4):Xe=i===wy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,_n=i,Pe===null&&(dt=1,oc(t,xn(i,t.current)))}function lv(){var t=W.H;return W.H=nc,t===null?nc:t}function uv(){var t=W.A;return W.A=pA,t}function bd(){dt=4,Sr||(ze&4194048)!==ze&&Vn.current!==null||(xa=!0),(Ar&134217727)===0&&(Ps&134217727)===0||nt===null||Rr(nt,ze,Pn,!1)}function wd(t,i,a){var l=Ye;Ye|=2;var h=lv(),d=uv();(nt!==t||ze!==i)&&(mc=null,Va(t,i)),i=!1;var _=dt;e:do try{if(Xe!==0&&Pe!==null){var S=Pe,x=_n;switch(Xe){case 8:Ad(),_=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(i=!0);var G=Xe;if(Xe=0,_n=null,Pa(t,S,x,G),a&&xa){_=0;break e}break;default:G=Xe,Xe=0,_n=null,Pa(t,S,x,G)}}vA(),_=dt;break}catch(J){ov(t,J)}while(!0);return i&&t.shellSuspendCounter++,Ui=Ds=null,Ye=l,W.H=h,W.A=d,Pe===null&&(nt=null,ze=0,Lu()),_}function vA(){for(;Pe!==null;)cv(Pe)}function _A(t,i){var a=Ye;Ye|=2;var l=lv(),h=uv();nt!==t||ze!==i?(mc=null,dc=bn()+500,Va(t,i)):xa=os(t,i);e:do try{if(Xe!==0&&Pe!==null){i=Pe;var d=_n;t:switch(Xe){case 1:Xe=0,_n=null,Pa(t,i,d,1);break;case 2:case 9:if(Sg(d)){Xe=0,_n=null,hv(i);break}i=function(){Xe!==2&&Xe!==9||nt!==t||(Xe=7),di(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Sg(d)?(Xe=0,_n=null,hv(i)):(Xe=0,_n=null,Pa(t,i,d,7));break;case 5:var _=null;switch(Pe.tag){case 26:_=Pe.memoizedState;case 5:case 27:var S=Pe;if(!_||Kv(_)){Xe=0,_n=null;var x=S.sibling;if(x!==null)Pe=x;else{var G=S.return;G!==null?(Pe=G,gc(G)):Pe=null}break t}}Xe=0,_n=null,Pa(t,i,d,5);break;case 6:Xe=0,_n=null,Pa(t,i,d,6);break;case 8:Ad(),dt=6;break e;default:throw Error(s(462))}}EA();break}catch(J){ov(t,J)}while(!0);return Ui=Ds=null,W.H=l,W.A=h,Ye=a,Pe!==null?0:(nt=null,ze=0,Lu(),dt)}function EA(){for(;Pe!==null&&!vo();)cv(Pe)}function cv(t){var i=Ly(t.alternate,t,Ki);t.memoizedProps=t.pendingProps,i===null?gc(t):Pe=i}function hv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Oy(a,i,i.pendingProps,i.type,void 0,ze);break;case 11:i=Oy(a,i,i.pendingProps,i.type.render,i.ref,ze);break;case 5:Bf(i);default:jy(a,i),i=Pe=fg(i,Ki),i=Ly(a,i,Ki)}t.memoizedProps=t.pendingProps,i===null?gc(t):Pe=i}function Pa(t,i,a,l){Ui=Ds=null,Bf(i),Ra=null,rl=0;var h=i.return;try{if(uA(t,h,i,a,ze)){dt=1,oc(t,xn(a,t.current)),Pe=null;return}}catch(d){if(h!==null)throw Pe=h,d;dt=1,oc(t,xn(a,t.current)),Pe=null;return}i.flags&32768?(Fe||l===1?t=!0:xa||(ze&536870912)!==0?t=!1:(Sr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),fv(i,t)):gc(i)}function gc(t){var i=t;do{if((i.flags&32768)!==0){fv(i,Sr);return}t=i.return;var a=hA(i.alternate,i,Ki);if(a!==null){Pe=a;return}if(i=i.sibling,i!==null){Pe=i;return}Pe=i=t}while(i!==null);dt===0&&(dt=5)}function fv(t,i){do{var a=fA(t.alternate,t);if(a!==null){a.flags&=32767,Pe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=a}while(t!==null);dt=6,Pe=null}function dv(t,i,a,l,h,d,_,S,x){t.cancelPendingCommit=null;do yc();while(Ht!==0);if((Ye&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=pf,bo(t,a,d,_,S,x),t===nt&&(Pe=nt=null,ze=0),Na=i,wr=t,Ma=a,Ed=d,Td=h,iv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,bA(is,function(){return vv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,h=se.p,se.p=2,_=Ye,Ye|=4;try{dA(t,i,a)}finally{Ye=_,se.p=h,W.T=l}}Ht=1,mv(),pv(),gv()}}function mv(){if(Ht===1){Ht=0;var t=wr,i=Na,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=se.p;se.p=2;var h=Ye;Ye|=4;try{$y(i,t);var d=Ld,_=ng(t.containerInfo),S=d.focusedElem,x=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&tg(S.ownerDocument.documentElement,S)){if(x!==null&&cf(S)){var G=x.start,J=x.end;if(J===void 0&&(J=G),"selectionStart"in S)S.selectionStart=G,S.selectionEnd=Math.min(J,S.value.length);else{var ne=S.ownerDocument||document,K=ne&&ne.defaultView||window;if(K.getSelection){var Q=K.getSelection(),be=S.textContent.length,Ee=Math.min(x.start,be),Je=x.end===void 0?Ee:Math.min(x.end,be);!Q.extend&&Ee>Je&&(_=Je,Je=Ee,Ee=_);var B=eg(S,Ee),U=eg(S,Je);if(B&&U&&(Q.rangeCount!==1||Q.anchorNode!==B.node||Q.anchorOffset!==B.offset||Q.focusNode!==U.node||Q.focusOffset!==U.offset)){var F=ne.createRange();F.setStart(B.node,B.offset),Q.removeAllRanges(),Ee>Je?(Q.addRange(F),Q.extend(U.node,U.offset)):(F.setEnd(U.node,U.offset),Q.addRange(F))}}}}for(ne=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&ne.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ne.length;S++){var te=ne[S];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Dc=!!kd,Ld=kd=null}finally{Ye=h,se.p=l,W.T=a}}t.current=i,Ht=2}}function pv(){if(Ht===2){Ht=0;var t=wr,i=Na,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=se.p;se.p=2;var h=Ye;Ye|=4;try{Ky(t,i.alternate,i)}finally{Ye=h,se.p=l,W.T=a}}Ht=3}}function gv(){if(Ht===4||Ht===3){Ht=0,fu();var t=wr,i=Na,a=Ma,l=iv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ht=5:(Ht=0,Na=wr=null,yv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(br=null),Ws(a),i=i.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ht,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=W.T,h=se.p,se.p=2,W.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{W.T=i,se.p=h}}(Ma&3)!==0&&yc(),di(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Sd?dl++:(dl=0,Sd=t):dl=0,ml(0)}}function yv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Qo(i)))}function yc(t){return mv(),pv(),gv(),vv()}function vv(){if(Ht!==5)return!1;var t=wr,i=Ed;Ed=0;var a=Ws(Ma),l=W.T,h=se.p;try{se.p=32>a?32:a,W.T=null,a=Td,Td=null;var d=wr,_=Ma;if(Ht=0,Na=wr=null,Ma=0,(Ye&6)!==0)throw Error(s(331));var S=Ye;if(Ye|=4,tv(d.current),Wy(d,d.current,_,a),Ye=S,ml(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ht,d)}catch{}return!0}finally{se.p=h,W.T=l,yv(t,i)}}function _v(t,i,a){i=xn(a,i),i=ed(t.stateNode,i,2),t=pr(t,i,2),t!==null&&(bi(t,2),di(t))}function et(t,i,a){if(t.tag===3)_v(t,t,a);else for(;i!==null;){if(i.tag===3){_v(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(br===null||!br.has(l))){t=xn(a,t),a=Ay(2),l=pr(i,a,2),l!==null&&(by(a,l,i,t),bi(l,2),di(l));break}}i=i.return}}function Rd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new gA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(gd=!0,h.add(a),t=TA.bind(null,t,i,a),i.then(t,t))}function TA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(ze&a)===a&&(dt===4||dt===3&&(ze&62914560)===ze&&300>bn()-_d?(Ye&2)===0&&Va(t,0):yd|=a,Oa===ze&&(Oa=0)),di(t)}function Ev(t,i){i===0&&(i=Ao()),t=ga(t,i),t!==null&&(bi(t,i),di(t))}function SA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Ev(t,a)}function AA(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Ev(t,a)}function bA(t,i){return ts(t,i)}var vc=null,ka=null,Cd=!1,_c=!1,Id=!1,ks=0;function di(t){t!==ka&&t.next===null&&(ka===null?vc=ka=t:ka=ka.next=t),_c=!0,Cd||(Cd=!0,RA())}function ml(t,i){if(!Id&&_c){Id=!0;do for(var a=!1,l=vc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-Xt(42|t)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,bv(l,d))}else d=ze,d=Zs(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||os(l,d)||(a=!0,bv(l,d));l=l.next}while(a);Id=!1}}function wA(){Tv()}function Tv(){_c=Cd=!1;var t=0;ks!==0&&(VA()&&(t=ks),ks=0);for(var i=bn(),a=null,l=vc;l!==null;){var h=l.next,d=Sv(l,i);d===0?(l.next=null,a===null?vc=h:a.next=h,h===null&&(ka=a)):(a=l,(t!==0||(d&3)!==0)&&(_c=!0)),l=h}ml(t)}function Sv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Xt(d),S=1<<_,x=h[_];x===-1?((S&a)===0||(S&l)!==0)&&(h[_]=To(S,i)):x<=i&&(t.expiredLanes|=S),d&=~S}if(i=nt,a=ze,a=Zs(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ns(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||os(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&ns(l),Ws(a)){case 2:case 8:a=Xs;break;case 32:a=is;break;case 268435456:a=$s;break;default:a=is}return l=Av.bind(null,t),a=ts(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&ns(l),t.callbackPriority=2,t.callbackNode=null,2}function Av(t,i){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(yc()&&t.callbackNode!==a)return null;var l=ze;return l=Zs(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(sv(t,l,i),Sv(t,bn()),t.callbackNode!=null&&t.callbackNode===a?Av.bind(null,t):null)}function bv(t,i){if(yc())return null;sv(t,i,!0)}function RA(){kA(function(){(Ye&6)!==0?ts(_o,wA):Tv()})}function Dd(){return ks===0&&(ks=So()),ks}function wv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ra(""+t)}function Rv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function CA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=wv((h[Et]||null).action),_=l.submitter;_&&(i=(i=_[Et]||null)?wv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new sa("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ks!==0){var x=_?Rv(h,_):new FormData(h);Xf(a,{pending:!0,data:x,method:h.method,action:d},null,x)}}else typeof d=="function"&&(S.preventDefault(),x=_?Rv(h,_):new FormData(h),Xf(a,{pending:!0,data:x,method:h.method,action:d},d,x))},currentTarget:h}]})}}for(var xd=0;xd<mf.length;xd++){var Od=mf[xd],IA=Od.toLowerCase(),DA=Od[0].toUpperCase()+Od.slice(1);qn(IA,"on"+DA)}qn(sg,"onAnimationEnd"),qn(ag,"onAnimationIteration"),qn(og,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(KS,"onTransitionRun"),qn(QS,"onTransitionStart"),qn(YS,"onTransitionCancel"),qn(lg,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function Cv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],x=S.instance,G=S.currentTarget;if(S=S.listener,x!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=G;try{d(h)}catch(J){ac(J)}h.currentTarget=null,d=x}else for(_=0;_<l.length;_++){if(S=l[_],x=S.instance,G=S.currentTarget,S=S.listener,x!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=G;try{d(h)}catch(J){ac(J)}h.currentTarget=null,d=x}}}}function ke(t,i){var a=i[Ro];a===void 0&&(a=i[Ro]=new Set);var l=t+"__bubble";a.has(l)||(Iv(i,t,2,!1),a.add(l))}function Nd(t,i,a){var l=0;i&&(l|=4),Iv(a,t,l,i)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function Md(t){if(!t[Ec]){t[Ec]=!0,Co.forEach(function(a){a!=="selectionchange"&&(xA.has(a)||Nd(a,!1,t),Nd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ec]||(i[Ec]=!0,Nd("selectionchange",!1,i))}}function Iv(t,i,a,l){switch(Wv(i)){case 2:var h=ib;break;case 8:h=rb;break;default:h=Qd}a=h.bind(null,i,a,t),h=void 0,!In||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Vd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=wi(S),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){l=d=_;continue e}S=S.parentNode}}l=l.return}Su(function(){var G=d,J=Cn(a),ne=[];e:{var K=ug.get(t);if(K!==void 0){var Q=sa,be=t;switch(t){case"keypress":if(ri(a)===0)break e;case"keydown":case"keyup":Q=ha;break;case"focusin":be="focus",Q=la;break;case"focusout":be="blur",Q=la;break;case"beforeblur":case"afterblur":Q=la;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=af;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=xu;break;case sg:case ag:case og:Q=ua;break;case lg:Q=Nu;break;case"scroll":case"scrollend":Q=Au;break;case"wheel":Q=fa;break;case"copy":case"cut":case"paste":Q=ca;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=jo;break;case"toggle":case"beforetoggle":Q=Vu}var Ee=(i&4)!==0,Je=!Ee&&(t==="scroll"||t==="scrollend"),B=Ee?K!==null?K+"Capture":null:K;Ee=[];for(var U=G,F;U!==null;){var te=U;if(F=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||F===null||B===null||(te=ps(U,B),te!=null&&Ee.push(gl(U,te,F))),Je)break;U=U.return}0<Ee.length&&(K=new Q(K,be,null,a,J),ne.push({event:K,listeners:Ee}))}}if((i&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",K&&a!==Di&&(be=a.relatedTarget||a.fromElement)&&(wi(be)||be[wn]))break e;if((Q||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,Q?(be=a.relatedTarget||a.toElement,Q=G,be=be?wi(be):null,be!==null&&(Je=u(be),Ee=be.tag,be!==Je||Ee!==5&&Ee!==27&&Ee!==6)&&(be=null)):(Q=null,be=G),Q!==be)){if(Ee=Dn,te="onMouseLeave",B="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=jo,te="onPointerLeave",B="onPointerEnter",U="pointer"),Je=Q==null?K:ei(Q),F=be==null?K:ei(be),K=new Ee(te,U+"leave",Q,a,J),K.target=Je,K.relatedTarget=F,te=null,wi(J)===G&&(Ee=new Ee(B,U+"enter",be,a,J),Ee.target=F,Ee.relatedTarget=Je,te=Ee),Je=te,Q&&be)t:{for(Ee=Q,B=be,U=0,F=Ee;F;F=La(F))U++;for(F=0,te=B;te;te=La(te))F++;for(;0<U-F;)Ee=La(Ee),U--;for(;0<F-U;)B=La(B),F--;for(;U--;){if(Ee===B||B!==null&&Ee===B.alternate)break t;Ee=La(Ee),B=La(B)}Ee=null}else Ee=null;Q!==null&&Dv(ne,K,Q,Ee,!1),be!==null&&Je!==null&&Dv(ne,Je,be,Ee,!0)}}e:{if(K=G?ei(G):window,Q=K.nodeName&&K.nodeName.toLowerCase(),Q==="select"||Q==="input"&&K.type==="file")var me=Yp;else if(Ct(K))if(Xp)me=HS;else{me=zS;var Ve=BS}else Q=K.nodeName,!Q||Q.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&No(G.elementType)&&(me=Yp):me=qS;if(me&&(me=me(t,G))){Vi(ne,me,a,J);break e}Ve&&Ve(t,K,G),t==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&cr(K,"number",K.value)}switch(Ve=G?ei(G):window,t){case"focusin":(Ct(Ve)||Ve.contentEditable==="true")&&(da=Ve,hf=G,qo=null);break;case"focusout":qo=hf=da=null;break;case"mousedown":ff=!0;break;case"contextmenu":case"mouseup":case"dragend":ff=!1,ig(ne,a,J);break;case"selectionchange":if(GS)break;case"keydown":case"keyup":ig(ne,a,J)}var ge;if(oi)e:{switch(t){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else je?Z(t,a)&&(Te="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(v&&a.locale!=="ko"&&(je||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&je&&(ge=Vo()):(ii=J,hr="value"in ii?ii.value:ii.textContent,je=!0)),Ve=Tc(G,Te),0<Ve.length&&(Te=new Lo(Te,t,null,a,J),ne.push({event:Te,listeners:Ve}),ge?Te.data=ge:(ge=ue(a),ge!==null&&(Te.data=ge)))),(ge=y?Rt(t,a):Be(t,a))&&(Te=Tc(G,"onBeforeInput"),0<Te.length&&(Ve=new Lo("onBeforeInput","beforeinput",null,a,J),ne.push({event:Ve,listeners:Te}),Ve.data=ge)),CA(ne,t,G,a,J)}Cv(ne,i)})}function gl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Tc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ps(t,a),h!=null&&l.unshift(gl(t,h,d)),h=ps(t,i),h!=null&&l.push(gl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function La(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Dv(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,x=S.alternate,G=S.stateNode;if(S=S.tag,x!==null&&x===l)break;S!==5&&S!==26&&S!==27||G===null||(x=G,h?(G=ps(a,d),G!=null&&_.unshift(gl(a,G,x))):h||(G=ps(a,d),G!=null&&_.push(gl(a,G,x)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var OA=/\r\n?/g,NA=/\u0000|\uFFFD/g;function xv(t){return(typeof t=="string"?t:""+t).replace(OA,`
`).replace(NA,"")}function Ov(t,i){return i=xv(i),xv(t)===i}function Sc(){}function We(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Rn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Rn(t,""+l);break;case"className":ti(t,"class",l);break;case"tabIndex":ti(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(t,a,l);break;case"style":Oo(t,l,d);break;case"data":if(i!=="object"){ti(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ra(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ra(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Sc);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ra(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),ur(t,"popover",l);break;case"xlinkActuate":Bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ur(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=rf.get(a)||a,ur(t,a,l))}}function Pd(t,i,a,l,h,d){switch(a){case"style":Oo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Rn(t,l):(typeof l=="number"||typeof l=="bigint")&&Rn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Sc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Js.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Et]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ur(t,a,l)}}}function Ft(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,d,_,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":ke("invalid",t);var S=d=_=h=null,x=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":h=J;break;case"type":_=J;break;case"checked":x=J;break;case"defaultChecked":G=J;break;case"value":d=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:We(t,i,l,J,a,null)}}fs(t,d,S,x,G,_,h,!1),ia(t);return;case"select":ke("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:We(t,i,h,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Ii(t,!!l,i,!1):a!=null&&Ii(t,!!l,a,!0);return;case"textarea":ke("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:We(t,i,_,S,a,null)}ds(t,l,h,d),ia(t);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,i,x,l,a,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<pl.length;l++)ke(pl[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,G,l,a,null)}return;default:if(No(i)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&Pd(t,i,J,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&We(t,i,S,l,a,null))}function MA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,x=null,G=null,J=null;for(Q in a){var ne=a[Q];if(a.hasOwnProperty(Q)&&ne!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":x=ne;default:l.hasOwnProperty(Q)||We(t,i,Q,null,l,ne)}}for(var K in l){var Q=l[K];if(ne=a[K],l.hasOwnProperty(K)&&(Q!=null||ne!=null))switch(K){case"type":d=Q;break;case"name":h=Q;break;case"checked":G=Q;break;case"defaultChecked":J=Q;break;case"value":_=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==ne&&We(t,i,K,Q,l,ne)}}mn(t,_,S,x,G,J,d,h);return;case"select":Q=_=S=K=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":Q=x;default:l.hasOwnProperty(d)||We(t,i,d,null,l,x)}for(h in l)if(d=l[h],x=a[h],l.hasOwnProperty(h)&&(d!=null||x!=null))switch(h){case"value":K=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==x&&We(t,i,h,d,l,x)}i=S,a=_,l=Q,K!=null?Ii(t,!!a,K,!1):!!l!=!!a&&(i!=null?Ii(t,!!a,i,!0):Ii(t,!!a,a?[]:"",!1));return;case"textarea":Q=K=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:We(t,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":K=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,i,_,h,l,d)}$e(t,K,Q);return;case"option":for(var be in a)if(K=a[be],a.hasOwnProperty(be)&&K!=null&&!l.hasOwnProperty(be))switch(be){case"selected":t.selected=!1;break;default:We(t,i,be,null,l,K)}for(x in l)if(K=l[x],Q=a[x],l.hasOwnProperty(x)&&K!==Q&&(K!=null||Q!=null))switch(x){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:We(t,i,x,K,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)K=a[Ee],a.hasOwnProperty(Ee)&&K!=null&&!l.hasOwnProperty(Ee)&&We(t,i,Ee,null,l,K);for(G in l)if(K=l[G],Q=a[G],l.hasOwnProperty(G)&&K!==Q&&(K!=null||Q!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:We(t,i,G,K,l,Q)}return;default:if(No(i)){for(var Je in a)K=a[Je],a.hasOwnProperty(Je)&&K!==void 0&&!l.hasOwnProperty(Je)&&Pd(t,i,Je,void 0,l,K);for(J in l)K=l[J],Q=a[J],!l.hasOwnProperty(J)||K===Q||K===void 0&&Q===void 0||Pd(t,i,J,K,l,Q);return}}for(var B in a)K=a[B],a.hasOwnProperty(B)&&K!=null&&!l.hasOwnProperty(B)&&We(t,i,B,null,l,K);for(ne in l)K=l[ne],Q=a[ne],!l.hasOwnProperty(ne)||K===Q||K==null&&Q==null||We(t,i,ne,K,l,Q)}var kd=null,Ld=null;function Ac(t){return t.nodeType===9?t:t.ownerDocument}function Nv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Ud(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var jd=null;function VA(){var t=window.event;return t&&t.type==="popstate"?t===jd?!1:(jd=t,!0):(jd=null,!1)}var Vv=typeof setTimeout=="function"?setTimeout:void 0,PA=typeof clearTimeout=="function"?clearTimeout:void 0,Pv=typeof Promise=="function"?Promise:void 0,kA=typeof queueMicrotask=="function"?queueMicrotask:typeof Pv<"u"?function(t){return Pv.resolve(null).then(t).catch(LA)}:Vv;function LA(t){setTimeout(function(){throw t})}function Cr(t){return t==="head"}function kv(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var _=t.ownerDocument;if(a&1&&yl(_.documentElement),a&2&&yl(_.body),a&4)for(a=_.head,yl(a),_=a.firstChild;_;){var S=_.nextSibling,x=_.nodeName;_[ls]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=S}}if(h===0){t.removeChild(d),wl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);wl(i)}function Bd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Bd(a),lr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function UA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ls])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function jA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Fn(t.nextSibling),t===null))return null;return t}function zd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function BA(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Fn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var qd=null;function Lv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Uv(t,i,a){switch(i=Ac(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function yl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);lr(t)}var kn=new Map,jv=new Set;function bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Qi=se.d;se.d={f:zA,r:qA,D:HA,C:FA,L:GA,m:KA,X:YA,S:QA,M:XA};function zA(){var t=Qi.f(),i=pc();return t||i}function qA(t){var i=Jn(t);i!==null&&i.tag===5&&i.type==="form"?sy(i):Qi.r(t)}var Ua=typeof document>"u"?null:document;function Bv(t,i,a){var l=Ua;if(l&&typeof i=="string"&&i){var h=Tt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),jv.has(h)||(jv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ft(i,"link",t),pt(i),l.head.appendChild(i)))}}function HA(t){Qi.D(t),Bv("dns-prefetch",t,null)}function FA(t,i){Qi.C(t,i),Bv("preconnect",t,i)}function GA(t,i,a){Qi.L(t,i,a);var l=Ua;if(l&&t&&i){var h='link[rel="preload"][as="'+Tt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Tt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Tt(a.imageSizes)+'"]')):h+='[href="'+Tt(t)+'"]';var d=h;switch(i){case"style":d=ja(t);break;case"script":d=Ba(t)}kn.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),kn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(vl(d))||i==="script"&&l.querySelector(_l(d))||(i=l.createElement("link"),Ft(i,"link",t),pt(i),l.head.appendChild(i)))}}function KA(t,i){Qi.m(t,i);var a=Ua;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Tt(l)+'"][href="'+Tt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ba(t)}if(!kn.has(d)&&(t=E({rel:"modulepreload",href:t},i),kn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(_l(d)))return}l=a.createElement("link"),Ft(l,"link",t),pt(l),a.head.appendChild(l)}}}function QA(t,i,a){Qi.S(t,i,a);var l=Ua;if(l&&t){var h=nn(l).hoistableStyles,d=ja(t);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(vl(d)))S.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=kn.get(d))&&Hd(t,a);var x=_=l.createElement("link");pt(x),Ft(x,"link",t),x._p=new Promise(function(G,J){x.onload=G,x.onerror=J}),x.addEventListener("load",function(){S.loading|=1}),x.addEventListener("error",function(){S.loading|=2}),S.loading|=4,wc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function YA(t,i){Qi.X(t,i);var a=Ua;if(a&&t){var l=nn(a).hoistableScripts,h=Ba(t),d=l.get(h);d||(d=a.querySelector(_l(h)),d||(t=E({src:t,async:!0},i),(i=kn.get(h))&&Fd(t,i),d=a.createElement("script"),pt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function XA(t,i){Qi.M(t,i);var a=Ua;if(a&&t){var l=nn(a).hoistableScripts,h=Ba(t),d=l.get(h);d||(d=a.querySelector(_l(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=kn.get(h))&&Fd(t,i),d=a.createElement("script"),pt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function zv(t,i,a,l){var h=(h=pe.current)?bc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ja(a.href),a=nn(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ja(a.href);var d=nn(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(vl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),kn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(t,a),d||$A(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ba(a),a=nn(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ja(t){return'href="'+Tt(t)+'"'}function vl(t){return'link[rel="stylesheet"]['+t+"]"}function qv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function $A(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ft(i,"link",a),pt(i),t.head.appendChild(i))}function Ba(t){return'[src="'+Tt(t)+'"]'}function _l(t){return"script[async]"+t}function Hv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Tt(a.href)+'"]');if(l)return i.instance=l,pt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),pt(l),Ft(l,"style",h),wc(l,a.precedence,t),i.instance=l;case"stylesheet":h=ja(a.href);var d=t.querySelector(vl(h));if(d)return i.state.loading|=4,i.instance=d,pt(d),d;l=qv(a),(h=kn.get(h))&&Hd(l,h),d=(t.ownerDocument||t).createElement("link"),pt(d);var _=d;return _._p=new Promise(function(S,x){_.onload=S,_.onerror=x}),Ft(d,"link",l),i.state.loading|=4,wc(d,a.precedence,t),i.instance=d;case"script":return d=Ba(a.src),(h=t.querySelector(_l(d)))?(i.instance=h,pt(h),h):(l=a,(h=kn.get(d))&&(l=E({},a),Fd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),pt(h),Ft(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,wc(l,a.precedence,t));return i.instance}function wc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Hd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Fd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Rc=null;function Fv(t,i,a){if(Rc===null){var l=new Map,h=Rc=new Map;h.set(a,l)}else h=Rc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ls]||d[wt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function Gv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function ZA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Kv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var El=null;function WA(){}function JA(t,i,a){if(El===null)throw Error(s(475));var l=El;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ja(a.href),d=t.querySelector(vl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Cc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,pt(d);return}d=t.ownerDocument||t,a=qv(a),(h=kn.get(h))&&Hd(a,h),d=d.createElement("link"),pt(d);var _=d;_._p=new Promise(function(S,x){_.onload=S,_.onerror=x}),Ft(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Cc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function eb(){if(El===null)throw Error(s(475));var t=El;return t.stylesheets&&t.count===0&&Gd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Gd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Cc(){if(this.count--,this.count===0){if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ic=null;function Gd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ic=new Map,i.forEach(tb,t),Ic=null,Cc.call(t))}function tb(t,i){if(!(i.state.loading&4)){var a=Ic.get(t);if(a)var l=a.get(null);else{a=new Map,Ic.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Cc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Tl={$$typeof:X,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function nb(t,i,a,l,h,d,_,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.hiddenUpdates=Ai(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Qv(t,i,a,l,h,d,_,S,x,G,J,ne){return t=new nb(t,i,a,_,S,x,G,ne),i=1,d===!0&&(i|=24),d=gn(3,null,null,i),t.current=d,d.stateNode=t,i=Rf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},xf(d),t}function Yv(t){return t?(t=ya,t):ya}function Xv(t,i,a,l,h,d){h=Yv(h),l.context===null?l.context=h:l.pendingContext=h,l=mr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=pr(t,l,i),a!==null&&(Tn(a,t,i),Zo(a,t,i))}function $v(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Kd(t,i){$v(t,i),(t=t.alternate)&&$v(t,i)}function Zv(t){if(t.tag===13){var i=ga(t,67108864);i!==null&&Tn(i,t,67108864),Kd(t,67108864)}}var Dc=!0;function ib(t,i,a,l){var h=W.T;W.T=null;var d=se.p;try{se.p=2,Qd(t,i,a,l)}finally{se.p=d,W.T=h}}function rb(t,i,a,l){var h=W.T;W.T=null;var d=se.p;try{se.p=8,Qd(t,i,a,l)}finally{se.p=d,W.T=h}}function Qd(t,i,a,l){if(Dc){var h=Yd(l);if(h===null)Vd(t,i,l,xc,a),Jv(t,l);else if(ab(h,t,i,a,l))l.stopPropagation();else if(Jv(t,l),i&4&&-1<sb.indexOf(t)){for(;h!==null;){var d=Jn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=jn(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var x=1<<31-Xt(_);S.entanglements[1]|=x,_&=~x}di(d),(Ye&6)===0&&(dc=bn()+500,ml(0))}}break;case 13:S=ga(d,2),S!==null&&Tn(S,d,2),pc(),Kd(d,2)}if(d=Yd(l),d===null&&Vd(t,i,l,xc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Vd(t,i,l,null,a)}}function Yd(t){return t=Cn(t),Xd(t)}var xc=null;function Xd(t){if(xc=null,t=wi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return xc=t,null}function Wv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zh()){case _o:return 2;case Xs:return 8;case is:case Wh:return 32;case $s:return 268435456;default:return 32}default:return 32}}var $d=!1,Ir=null,Dr=null,xr=null,Sl=new Map,Al=new Map,Or=[],sb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jv(t,i){switch(t){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":Sl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(i.pointerId)}}function bl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Jn(i),i!==null&&Zv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function ab(t,i,a,l,h){switch(i){case"focusin":return Ir=bl(Ir,t,i,a,l,h),!0;case"dragenter":return Dr=bl(Dr,t,i,a,l,h),!0;case"mouseover":return xr=bl(xr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Sl.set(d,bl(Sl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Al.set(d,bl(Al.get(d)||null,t,i,a,l,h)),!0}return!1}function e_(t){var i=wi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,pu(t.priority,function(){if(a.tag===13){var l=En();l=sr(l);var h=ga(a,l);h!==null&&Tn(h,a,l),Kd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Yd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Di=l,a.target.dispatchEvent(l),Di=null}else return i=Jn(a),i!==null&&Zv(i),t.blockedOn=a,!1;i.shift()}return!0}function t_(t,i,a){Oc(t)&&a.delete(i)}function ob(){$d=!1,Ir!==null&&Oc(Ir)&&(Ir=null),Dr!==null&&Oc(Dr)&&(Dr=null),xr!==null&&Oc(xr)&&(xr=null),Sl.forEach(t_),Al.forEach(t_)}function Nc(t,i){t.blockedOn===i&&(t.blockedOn=null,$d||($d=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ob)))}var Mc=null;function n_(t){Mc!==t&&(Mc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Mc===t&&(Mc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Xd(l||a)===null)continue;break}var d=Jn(a);d!==null&&(t.splice(i,3),i-=3,Xf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function wl(t){function i(x){return Nc(x,t)}Ir!==null&&Nc(Ir,t),Dr!==null&&Nc(Dr,t),xr!==null&&Nc(xr,t),Sl.forEach(i),Al.forEach(i);for(var a=0;a<Or.length;a++){var l=Or[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Or.length&&(a=Or[0],a.blockedOn===null);)e_(a),a.blockedOn===null&&Or.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Et]||null;if(typeof d=="function")_||n_(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Et]||null)S=_.formAction;else if(Xd(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),n_(a)}}}function Zd(t){this._internalRoot=t}Vc.prototype.render=Zd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=En();Xv(a,l,t,i,null,null)},Vc.prototype.unmount=Zd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Xv(t.current,2,null,t,null,null),pc(),i[wn]=null}};function Vc(t){this._internalRoot=t}Vc.prototype.unstable_scheduleHydration=function(t){if(t){var i=ar();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Or.length&&i!==0&&i<Or[a].priority;a++);Or.splice(a,0,t),a===0&&e_(t)}};var i_=e.version;if(i_!=="19.1.0")throw Error(s(527,i_,"19.1.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var lb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{ht=Pc.inject(lb),Qe=Pc}catch{}}return Cl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=_y,d=Ey,_=Ty,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=Qv(t,1,!1,null,null,a,l,h,d,_,S,null),t[wn]=i.current,Md(t),new Zd(i)},Cl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=_y,_=Ey,S=Ty,x=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(x=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),i=Qv(t,1,!0,i,a??null,l,h,d,_,S,x,G),i.context=Yv(null),a=i.current,l=En(),l=sr(l),h=mr(l),h.callback=null,pr(a,h,l),a=l,i.current.lanes=a,bi(i,a),di(i),t[wn]=i.current,Md(t),new Vc(i)},Cl.version="19.1.0",Cl}var d_;function vb(){if(d_)return em.exports;d_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),em.exports=yb(),em.exports}var _b=vb(),Il={},m_;function Eb(){if(m_)return Il;m_=1,Object.defineProperty(Il,"__esModule",{value:!0}),Il.parse=f,Il.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function f(A,k){const O=new u,z=A.length;if(z<2)return O;const N=(k==null?void 0:k.decode)||E;let q=0;do{const $=A.indexOf("=",q);if($===-1)break;const X=A.indexOf(";",q),ee=X===-1?z:X;if($>ee){q=A.lastIndexOf(";",$-1)+1;continue}const Y=m(A,q,$),ce=p(A,$,Y),I=A.slice(Y,ce);if(O[I]===void 0){let R=m(A,$+1,ee),C=p(A,ee,R);const M=N(A.slice(R,C));O[I]=M}q=ee+1}while(q<z);return O}function m(A,k,O){do{const z=A.charCodeAt(k);if(z!==32&&z!==9)return k}while(++k<O);return O}function p(A,k,O){for(;k>O;){const z=A.charCodeAt(--k);if(z!==32&&z!==9)return k+1}return O}function g(A,k,O){const z=(O==null?void 0:O.encode)||encodeURIComponent;if(!r.test(A))throw new TypeError(`argument name is invalid: ${A}`);const N=z(k);if(!e.test(N))throw new TypeError(`argument val is invalid: ${k}`);let q=A+"="+N;if(!O)return q;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);q+="; Max-Age="+O.maxAge}if(O.domain){if(!n.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);q+="; Domain="+O.domain}if(O.path){if(!s.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);q+="; Path="+O.path}if(O.expires){if(!w(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);q+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(q+="; HttpOnly"),O.secure&&(q+="; Secure"),O.partitioned&&(q+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return q}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function w(A){return o.call(A)==="[object Date]"}return Il}Eb();var p_="popstate";function Tb(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return ym("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:ql(o)}return Ab(e,n,null,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Un(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Sb(){return Math.random().toString(36).substring(2,10)}function g_(r,e){return{usr:r.state,key:r.key,idx:e}}function ym(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?so(e):e,state:n,key:e&&e.key||s||Sb()}}function ql({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function so(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Ab(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let N=E(),q=N==null?null:N-g;g=N,p&&p({action:m,location:z.location,delta:q})}function A(N,q){m="PUSH";let $=ym(z.location,N,q);g=E()+1;let X=g_($,g),ee=z.createHref($);try{f.pushState(X,"",ee)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;o.location.assign(ee)}u&&p&&p({action:m,location:z.location,delta:1})}function k(N,q){m="REPLACE";let $=ym(z.location,N,q);g=E();let X=g_($,g),ee=z.createHref($);f.replaceState(X,"",ee),u&&p&&p({action:m,location:z.location,delta:0})}function O(N){return bb(N)}let z={get action(){return m},get location(){return r(o,f)},listen(N){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(p_,w),p=N,()=>{o.removeEventListener(p_,w),p=null}},createHref(N){return e(o,N)},createURL:O,encodeLocation(N){let q=O(N);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:A,replace:k,go(N){return f.go(N)}};return z}function bb(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:ql(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function WE(r,e,n="/"){return wb(r,e,n,!1)}function wb(r,e,n,s){let o=typeof e=="string"?so(e):e,u=Wi(o.pathname||"/",n);if(u==null)return null;let f=JE(r);Rb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=Lb(u);m=Pb(f[p],g,s)}return m}function JE(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(lt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=$i([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),JE(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:Mb(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of e0(u.path))o(u,f,p)}),e}function e0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=e0(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Rb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Vb(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Cb=/^:[\w-]+$/,Ib=3,Db=2,xb=1,Ob=10,Nb=-2,y_=r=>r==="*";function Mb(r,e){let n=r.split("/"),s=n.length;return n.some(y_)&&(s+=Nb),e&&(s+=Db),n.filter(o=>!y_(o)).reduce((o,u)=>o+(Cb.test(u)?Ib:u===""?xb:Ob),s)}function Vb(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Pb(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=ih({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=ih({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:$i([u,w.pathname]),pathnameBase:zb($i([u,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(u=$i([u,w.pathnameBase]))}return f}function ih(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=kb(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:w},A)=>{if(E==="*"){let O=m[A]||"";f=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const k=m[A];return w&&!k?g[E]=void 0:g[E]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function kb(r,e=!1,n=!0){Un(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Lb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Un(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Wi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function Ub(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?so(r):r;return{pathname:n?n.startsWith("/")?n:jb(n,e):e,search:qb(s),hash:Hb(o)}}function jb(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function rm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Bb(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Qm(r){let e=Bb(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Ym(r,e,n,s=!1){let o;typeof r=="string"?o=so(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),rm("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),rm("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),rm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}m=w>=0?e[w]:"/"}let p=Ub(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var $i=r=>r.join("/").replace(/\/\/+/g,"/"),zb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),qb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Hb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Fb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var t0=["POST","PUT","PATCH","DELETE"];new Set(t0);var Gb=["GET",...t0];new Set(Gb);var ao=L.createContext(null);ao.displayName="DataRouter";var bh=L.createContext(null);bh.displayName="DataRouterState";var n0=L.createContext({isTransitioning:!1});n0.displayName="ViewTransition";var Kb=L.createContext(new Map);Kb.displayName="Fetchers";var Qb=L.createContext(null);Qb.displayName="Await";var Xn=L.createContext(null);Xn.displayName="Navigation";var Jl=L.createContext(null);Jl.displayName="Location";var $n=L.createContext({outlet:null,matches:[],isDataRoute:!1});$n.displayName="Route";var Xm=L.createContext(null);Xm.displayName="RouteError";function Yb(r,{relative:e}={}){lt(oo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=L.useContext(Xn),{hash:o,pathname:u,search:f}=tu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:$i([n,u])),s.createHref({pathname:m,search:f,hash:o})}function oo(){return L.useContext(Jl)!=null}function An(){return lt(oo(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Jl).location}var i0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function r0(r){L.useContext(Xn).static||L.useLayoutEffect(r)}function lo(){let{isDataRoute:r}=L.useContext($n);return r?o1():Xb()}function Xb(){lt(oo(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(ao),{basename:e,navigator:n}=L.useContext(Xn),{matches:s}=L.useContext($n),{pathname:o}=An(),u=JSON.stringify(Qm(s)),f=L.useRef(!1);return r0(()=>{f.current=!0}),L.useCallback((p,g={})=>{if(Un(f.current,i0),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=Ym(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:$i([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}L.createContext(null);function eu(){let{matches:r}=L.useContext($n),e=r[r.length-1];return e?e.params:{}}function tu(r,{relative:e}={}){let{matches:n}=L.useContext($n),{pathname:s}=An(),o=JSON.stringify(Qm(n));return L.useMemo(()=>Ym(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function $b(r,e){return s0(r,e)}function s0(r,e,n,s){var q;lt(oo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=L.useContext(Xn),{matches:u}=L.useContext($n),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",E=f&&f.route;{let $=E&&E.path||"";a0(p,!E||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let w=An(),A;if(e){let $=typeof e=="string"?so(e):e;lt(g==="/"||((q=$.pathname)==null?void 0:q.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${$.pathname}" was given in the \`location\` prop.`),A=$}else A=w;let k=A.pathname||"/",O=k;if(g!=="/"){let $=g.replace(/^\//,"").split("/");O="/"+k.replace(/^\//,"").split("/").slice($.length).join("/")}let z=WE(r,{pathname:O});Un(E||z!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Un(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=t1(z&&z.map($=>Object.assign({},$,{params:Object.assign({},m,$.params),pathname:$i([g,o.encodeLocation?o.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?g:$i([g,o.encodeLocation?o.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),u,n,s);return e&&N?L.createElement(Jl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},N):N}function Zb(){let r=a1(),e=Fb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,f)}var Wb=L.createElement(Zb,null),Jb=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?L.createElement($n.Provider,{value:this.props.routeContext},L.createElement(Xm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function e1({routeContext:r,match:e,children:n}){let s=L.useContext(ao);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement($n.Provider,{value:r},n)}function t1(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);lt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:w}=n,A=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||A){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let w,A=!1,k=null,O=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,k=g.route.errorElement||Wb,f&&(m<0&&E===0?(a0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,O=null):m===E&&(A=!0,O=g.route.hydrateFallbackElement||null)));let z=e.concat(o.slice(0,E+1)),N=()=>{let q;return w?q=k:A?q=O:g.route.Component?q=L.createElement(g.route.Component,null):g.route.element?q=g.route.element:q=p,L.createElement(e1,{match:g,routeContext:{outlet:p,matches:z,isDataRoute:n!=null},children:q})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?L.createElement(Jb,{location:n.location,revalidation:n.revalidation,component:k,error:w,children:N(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):N()},null)}function $m(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n1(r){let e=L.useContext(ao);return lt(e,$m(r)),e}function i1(r){let e=L.useContext(bh);return lt(e,$m(r)),e}function r1(r){let e=L.useContext($n);return lt(e,$m(r)),e}function Zm(r){let e=r1(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function s1(){return Zm("useRouteId")}function a1(){var s;let r=L.useContext(Xm),e=i1("useRouteError"),n=Zm("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function o1(){let{router:r}=n1("useNavigate"),e=Zm("useNavigate"),n=L.useRef(!1);return r0(()=>{n.current=!0}),L.useCallback(async(o,u={})=>{Un(n.current,i0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var v_={};function a0(r,e,n){!e&&!v_[r]&&(v_[r]=!0,Un(!1,n))}L.memo(l1);function l1({routes:r,future:e,state:n}){return s0(r,void 0,n,e)}function u1({to:r,replace:e,state:n,relative:s}){lt(oo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=L.useContext(Xn);Un(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=L.useContext($n),{pathname:f}=An(),m=lo(),p=Ym(r,Qm(u),f,s==="path"),g=JSON.stringify(p);return L.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function mi(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function c1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){lt(!oo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=L.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=so(n));let{pathname:p="/",search:g="",hash:E="",state:w=null,key:A="default"}=n,k=L.useMemo(()=>{let O=Wi(p,f);return O==null?null:{location:{pathname:O,search:g,hash:E,state:w,key:A},navigationType:s}},[f,p,g,E,w,A,s]);return Un(k!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:L.createElement(Xn.Provider,{value:m},L.createElement(Jl.Provider,{children:e,value:k}))}function h1({children:r,location:e}){return $b(vm(r),e)}function vm(r,e=[]){let n=[];return L.Children.forEach(r,(s,o)=>{if(!L.isValidElement(s))return;let u=[...e,o];if(s.type===L.Fragment){n.push.apply(n,vm(s.props.children,u));return}lt(s.type===mi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=vm(s.props.children,u)),n.push(f)}),n}var Gc="get",Kc="application/x-www-form-urlencoded";function wh(r){return r!=null&&typeof r.tagName=="string"}function f1(r){return wh(r)&&r.tagName.toLowerCase()==="button"}function d1(r){return wh(r)&&r.tagName.toLowerCase()==="form"}function m1(r){return wh(r)&&r.tagName.toLowerCase()==="input"}function p1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function g1(r,e){return r.button===0&&(!e||e==="_self")&&!p1(r)}function _m(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let s=r[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function y1(r,e){let n=_m(r);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var kc=null;function v1(){if(kc===null)try{new FormData(document.createElement("form"),0),kc=!1}catch{kc=!0}return kc}var _1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sm(r){return r!=null&&!_1.has(r)?(Un(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kc}"`),null):r}function E1(r,e){let n,s,o,u,f;if(d1(r)){let m=r.getAttribute("action");s=m?Wi(m,e):null,n=r.getAttribute("method")||Gc,o=sm(r.getAttribute("enctype"))||Kc,u=new FormData(r)}else if(f1(r)||m1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Wi(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Gc,o=sm(r.getAttribute("formenctype"))||sm(m.getAttribute("enctype"))||Kc,u=new FormData(m,r),!v1()){let{name:g,type:E,value:w}=r;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,w)}}else{if(wh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gc,s=null,o=Kc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Wm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function T1(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function S1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function A1(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await T1(u,n);return f.links?f.links():[]}return[]}));return C1(s.flat(1).filter(S1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function __(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function b1(r,e,{includeHydrateFallback:n}={}){return w1(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function w1(r){return[...new Set(r)]}function R1(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function C1(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(R1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var I1=new Set([100,101,204,205]);function D1(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&Wi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function o0(){let r=L.useContext(ao);return Wm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function x1(){let r=L.useContext(bh);return Wm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Jm=L.createContext(void 0);Jm.displayName="FrameworkContext";function l0(){let r=L.useContext(Jm);return Wm(r,"You must render this element inside a <HydratedRouter> element"),r}function O1(r,e){let n=L.useContext(Jm),[s,o]=L.useState(!1),[u,f]=L.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=e,A=L.useRef(null);L.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let z=q=>{q.forEach($=>{f($.isIntersecting)})},N=new IntersectionObserver(z,{threshold:.5});return A.current&&N.observe(A.current),()=>{N.disconnect()}}},[r]),L.useEffect(()=>{if(s){let z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(z)}}},[s]);let k=()=>{o(!0)},O=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Dl(m,k),onBlur:Dl(p,O),onMouseEnter:Dl(g,k),onMouseLeave:Dl(E,O),onTouchStart:Dl(w,k)}]:[!1,A,{}]}function Dl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function N1({page:r,...e}){let{router:n}=o0(),s=L.useMemo(()=>WE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?L.createElement(V1,{page:r,matches:s,...e}):null}function M1(r){let{manifest:e,routeModules:n}=l0(),[s,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return A1(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function V1({page:r,matches:e,...n}){let s=An(),{manifest:o,routeModules:u}=l0(),{basename:f}=o0(),{loaderData:m,matches:p}=x1(),g=L.useMemo(()=>__(r,e,p,o,s,"data"),[r,e,p,o,s]),E=L.useMemo(()=>__(r,e,p,o,s,"assets"),[r,e,p,o,s]),w=L.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let O=new Set,z=!1;if(e.forEach(q=>{var X;let $=o.routes[q.route.id];!$||!$.hasLoader||(!g.some(ee=>ee.route.id===q.route.id)&&q.route.id in m&&((X=u[q.route.id])!=null&&X.shouldRevalidate)||$.hasClientLoader?z=!0:O.add(q.route.id))}),O.size===0)return[];let N=D1(r,f);return z&&O.size>0&&N.searchParams.set("_routes",e.filter(q=>O.has(q.route.id)).map(q=>q.route.id).join(",")),[N.pathname+N.search]},[f,m,s,o,g,e,r,u]),A=L.useMemo(()=>b1(E,o),[E,o]),k=M1(E);return L.createElement(L.Fragment,null,w.map(O=>L.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),A.map(O=>L.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),k.map(({key:O,link:z})=>L.createElement("link",{key:O,...z})))}function P1(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var u0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{u0&&(window.__reactRouterVersion="7.6.2")}catch{}function k1({basename:r,children:e,window:n}){let s=L.useRef();s.current==null&&(s.current=Tb({window:n,v5Compat:!0}));let o=s.current,[u,f]=L.useState({action:o.action,location:o.location}),m=L.useCallback(p=>{L.startTransition(()=>f(p))},[f]);return L.useLayoutEffect(()=>o.listen(m),[o,m]),L.createElement(c1,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var c0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mt=L.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:w,...A},k){let{basename:O}=L.useContext(Xn),z=typeof g=="string"&&c0.test(g),N,q=!1;if(typeof g=="string"&&z&&(N=g,u0))try{let C=new URL(window.location.href),M=g.startsWith("//")?new URL(C.protocol+g):new URL(g),V=Wi(M.pathname,O);M.origin===C.origin&&V!=null?g=V+M.search+M.hash:q=!0}catch{Un(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=Yb(g,{relative:o}),[X,ee,Y]=O1(s,A),ce=B1(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w});function I(C){e&&e(C),C.defaultPrevented||ce(C)}let R=L.createElement("a",{...A,...Y,href:N||$,onClick:q||u?e:I,ref:P1(k,ee),target:p,"data-discover":!z&&n==="render"?"true":void 0});return X&&!z?L.createElement(L.Fragment,null,R,L.createElement(N1,{page:$})):R});mt.displayName="Link";var L1=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let w=tu(f,{relative:g.relative}),A=An(),k=L.useContext(bh),{navigator:O,basename:z}=L.useContext(Xn),N=k!=null&&K1(w)&&m===!0,q=O.encodeLocation?O.encodeLocation(w).pathname:w.pathname,$=A.pathname,X=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||($=$.toLowerCase(),X=X?X.toLowerCase():null,q=q.toLowerCase()),X&&z&&(X=Wi(X,z)||X);const ee=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let Y=$===q||!o&&$.startsWith(q)&&$.charAt(ee)==="/",ce=X!=null&&(X===q||!o&&X.startsWith(q)&&X.charAt(q.length)==="/"),I={isActive:Y,isPending:ce,isTransitioning:N},R=Y?e:void 0,C;typeof s=="function"?C=s(I):C=[s,Y?"active":null,ce?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(I):u;return L.createElement(mt,{...g,"aria-current":R,className:C,ref:E,style:M,to:f,viewTransition:m},typeof p=="function"?p(I):p)});L1.displayName="NavLink";var U1=L.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Gc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:w,...A},k)=>{let O=F1(),z=G1(m,{relative:g}),N=f.toLowerCase()==="get"?"get":"post",q=typeof m=="string"&&c0.test(m),$=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let ee=X.nativeEvent.submitter,Y=(ee==null?void 0:ee.getAttribute("formmethod"))||f;O(ee||X.currentTarget,{fetcherKey:e,method:Y,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:w})};return L.createElement("form",{ref:k,method:N,action:z,onSubmit:s?p:$,...A,"data-discover":!q&&r==="render"?"true":void 0})});U1.displayName="Form";function j1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h0(r){let e=L.useContext(ao);return lt(e,j1(r)),e}function B1(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=lo(),p=An(),g=tu(r,{relative:u});return L.useCallback(E=>{if(g1(E,e)){E.preventDefault();let w=n!==void 0?n:ql(p)===ql(g);m(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,r,o,u,f])}function z1(r){Un(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=L.useRef(_m(r)),n=L.useRef(!1),s=An(),o=L.useMemo(()=>y1(s.search,n.current?null:e.current),[s.search]),u=lo(),f=L.useCallback((m,p)=>{const g=_m(typeof m=="function"?m(o):m);n.current=!0,u("?"+g,p)},[u,o]);return[o,f]}var q1=0,H1=()=>`__${String(++q1)}__`;function F1(){let{router:r}=h0("useSubmit"),{basename:e}=L.useContext(Xn),n=s1();return L.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=E1(s,e);if(o.navigate===!1){let E=o.fetcherKey||H1();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function G1(r,{relative:e}={}){let{basename:n}=L.useContext(Xn),s=L.useContext($n);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...tu(r||".",{relative:e})},f=An();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:$i([n,u.pathname])),ql(u)}function K1(r,e={}){let n=L.useContext(n0);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=h0("useViewTransitionState"),o=tu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Wi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Wi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ih(o.pathname,f)!=null||ih(o.pathname,u)!=null}[...I1];const Q1=()=>T.jsxs("div",{style:{padding:"2em",maxWidth:"960px",margin:"0 auto"},children:[T.jsx("h1",{children:" FLASH FLASH "}),T.jsx("p",{children:""}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.2em",marginTop:"1.4em"},children:[T.jsxs("section",{style:{border:"1px solid #ddd",borderRadius:"10px",padding:"1em"},children:[T.jsx("h2",{style:{marginTop:0},children:""}),T.jsx("p",{style:{marginTop:0},children:""}),T.jsxs("ol",{style:{paddingLeft:"1.2em"},children:[T.jsx("li",{children:""}),T.jsx("li",{children:""}),T.jsx("li",{children:" /  / "}),T.jsx("li",{children:""})]}),T.jsx("p",{style:{marginBottom:0},children:T.jsx(mt,{to:"/login",children:""})}),T.jsx("p",{style:{marginTop:"0.4em",marginBottom:0},children:T.jsx(mt,{to:"/dashboard",children:""})})]}),T.jsxs("section",{style:{border:"1px solid #ddd",borderRadius:"10px",padding:"1em"},children:[T.jsx("h2",{style:{marginTop:0},children:""}),T.jsx("p",{style:{marginTop:0},children:""}),T.jsxs("ol",{style:{paddingLeft:"1.2em"},children:[T.jsx("li",{children:""}),T.jsx("li",{children:""}),T.jsx("li",{children:""})]}),T.jsx("p",{style:{marginBottom:0},children:T.jsx(mt,{to:"/score-summary",children:""})})]})]}),T.jsxs("section",{style:{border:"1px dashed #bbb",borderRadius:"10px",padding:"1em",marginTop:"1.2em"},children:[T.jsx("h3",{style:{marginTop:0},children:""}),T.jsx("p",{style:{marginBottom:0},children:""})]})]}),Y1=()=>{};var E_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},X1=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},d0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,k=g&63;p||(k=64,f||(A=64)),s.push(n[E],n[w],n[A],n[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(f0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):X1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new $1;const A=u<<2|m>>4;if(s.push(A),g!==64){const k=m<<4&240|g>>2;if(s.push(k),w!==64){const O=g<<6&192|w;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class $1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Z1=function(r){const e=f0(r);return d0.encodeByteArray(e,!0)},rh=function(r){return Z1(r).replace(/\./g,"")},m0=function(r){try{return d0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=()=>W1().__FIREBASE_DEFAULTS__,ew=()=>{if(typeof process>"u"||typeof E_>"u")return;const r=E_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},tw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&m0(r[1]);return e&&JSON.parse(e)},Rh=()=>{try{return Y1()||J1()||ew()||tw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},p0=r=>{var e,n;return(n=(e=Rh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},nw=r=>{const e=p0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},g0=()=>{var r;return(r=Rh())===null||r===void 0?void 0:r.config},y0=r=>{var e;return(e=Rh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(r){return r.endsWith(".cloudworkstations.dev")}async function v0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[rh(JSON.stringify(n)),rh(JSON.stringify(f)),""].join(".")}const kl={};function sw(){const r={prod:[],emulator:[]};for(const e of Object.keys(kl))kl[e]?r.emulator.push(e):r.prod.push(e);return r}function aw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let T_=!1;function _0(r,e){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||kl[r]===e||kl[r]||T_)return;kl[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=sw().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,k){A.setAttribute("width","24"),A.setAttribute("id",k),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{T_=!0,f()},A}function E(A,k){A.setAttribute("id",k),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=aw(s),k=n("text"),O=document.getElementById(k)||document.createElement("span"),z=n("learnmore"),N=document.getElementById(z)||document.createElement("a"),q=n("preprendIcon"),$=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const X=A.element;m(X),E(N,z);const ee=g();p($,q),X.append($,O,N,ee),document.body.appendChild(X)}u?(O.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ow(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function lw(){var r;const e=(r=Rh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function hw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fw(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function dw(){return!lw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mw(){try{return typeof indexedDB=="object"}catch{return!1}}function pw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="FirebaseError";class ir extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=gw,Object.setPrototypeOf(this,ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nu.prototype.create)}}class nu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?yw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ir(o,m,s)}}function yw(r,e){return r.replace(vw,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const vw=/\{\$([^}]+)}/g;function _w(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Bs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(S_(u)&&S_(f)){if(!Bs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function S_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function xl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ol(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function Ew(r,e){const n=new Tw(r,e);return n.subscribe.bind(n)}class Tw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Sw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=am),o.error===void 0&&(o.error=am),o.complete===void 0&&(o.complete=am);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Sw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function am(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(r){return r&&r._delegate?r._delegate:r}class zs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new iw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ww(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:bw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bw(r){return r===Ls?void 0:r}function ww(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Aw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const Cw={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},Iw=Le.INFO,Dw={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},xw=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=Dw[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ep{constructor(e){this.name=e,this._logLevel=Iw,this._logHandler=xw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Cw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const Ow=(r,e)=>e.some(n=>r instanceof n);let A_,b_;function Nw(){return A_||(A_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mw(){return b_||(b_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E0=new WeakMap,Em=new WeakMap,T0=new WeakMap,om=new WeakMap,tp=new WeakMap;function Vw(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(jr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&E0.set(n,r)}).catch(()=>{}),tp.set(e,r),e}function Pw(r){if(Em.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Em.set(r,e)}let Tm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Em.get(r);if(e==="objectStoreNames")return r.objectStoreNames||T0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function kw(r){Tm=r(Tm)}function Lw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(lm(this),e,...n);return T0.set(s,e.sort?e.sort():[e]),jr(s)}:Mw().includes(r)?function(...e){return r.apply(lm(this),e),jr(E0.get(this))}:function(...e){return jr(r.apply(lm(this),e))}}function Uw(r){return typeof r=="function"?Lw(r):(r instanceof IDBTransaction&&Pw(r),Ow(r,Nw())?new Proxy(r,Tm):r)}function jr(r){if(r instanceof IDBRequest)return Vw(r);if(om.has(r))return om.get(r);const e=Uw(r);return e!==r&&(om.set(r,e),tp.set(e,r)),e}const lm=r=>tp.get(r);function jw(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=jr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(jr(f.result),p.oldVersion,p.newVersion,jr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const Bw=["get","getKey","getAll","getAllKeys","count"],zw=["put","add","delete","clear"],um=new Map;function w_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(um.get(e))return um.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=zw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Bw.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return um.set(e,u),u}kw(r=>({...r,get:(e,n,s)=>w_(e,n)||r.get(e,n,s),has:(e,n)=>!!w_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Hw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Hw(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sm="@firebase/app",R_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new ep("@firebase/app"),Fw="@firebase/app-compat",Gw="@firebase/analytics-compat",Kw="@firebase/analytics",Qw="@firebase/app-check-compat",Yw="@firebase/app-check",Xw="@firebase/auth",$w="@firebase/auth-compat",Zw="@firebase/database",Ww="@firebase/data-connect",Jw="@firebase/database-compat",eR="@firebase/functions",tR="@firebase/functions-compat",nR="@firebase/installations",iR="@firebase/installations-compat",rR="@firebase/messaging",sR="@firebase/messaging-compat",aR="@firebase/performance",oR="@firebase/performance-compat",lR="@firebase/remote-config",uR="@firebase/remote-config-compat",cR="@firebase/storage",hR="@firebase/storage-compat",fR="@firebase/firestore",dR="@firebase/ai",mR="@firebase/firestore-compat",pR="firebase",gR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="[DEFAULT]",yR={[Sm]:"fire-core",[Fw]:"fire-core-compat",[Kw]:"fire-analytics",[Gw]:"fire-analytics-compat",[Yw]:"fire-app-check",[Qw]:"fire-app-check-compat",[Xw]:"fire-auth",[$w]:"fire-auth-compat",[Zw]:"fire-rtdb",[Ww]:"fire-data-connect",[Jw]:"fire-rtdb-compat",[eR]:"fire-fn",[tR]:"fire-fn-compat",[nR]:"fire-iid",[iR]:"fire-iid-compat",[rR]:"fire-fcm",[sR]:"fire-fcm-compat",[aR]:"fire-perf",[oR]:"fire-perf-compat",[lR]:"fire-rc",[uR]:"fire-rc-compat",[cR]:"fire-gcs",[hR]:"fire-gcs-compat",[fR]:"fire-fst",[mR]:"fire-fst-compat",[dR]:"fire-vertex","fire-js":"fire-js",[pR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=new Map,vR=new Map,bm=new Map;function C_(r,e){try{r.container.addComponent(e)}catch(n){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function $a(r){const e=r.name;if(bm.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;bm.set(e,r);for(const n of sh.values())C_(n,r);for(const n of vR.values())C_(n,r);return!0}function np(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Gn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new nu("app","Firebase",_R);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=gR;function S0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Am,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Br.create("bad-app-name",{appName:String(o)});if(n||(n=g0()),!n)throw Br.create("no-options");const u=sh.get(o);if(u){if(Bs(n,u.options)&&Bs(s,u.config))return u;throw Br.create("duplicate-app",{appName:o})}const f=new Rw(o);for(const p of bm.values())f.addComponent(p);const m=new ER(n,s,f);return sh.set(o,m),m}function A0(r=Am){const e=sh.get(r);if(!e&&r===Am&&g0())return S0();if(!e)throw Br.create("no-app",{appName:r});return e}function zr(r,e,n){var s;let o=(s=yR[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(m.join(" "));return}$a(new zs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="firebase-heartbeat-database",SR=1,Hl="firebase-heartbeat-store";let cm=null;function b0(){return cm||(cm=jw(TR,SR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Hl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Br.create("idb-open",{originalErrorMessage:r.message})})),cm}async function AR(r){try{const n=(await b0()).transaction(Hl),s=await n.objectStore(Hl).get(w0(r));return await n.done,s}catch(e){if(e instanceof ir)Ji.warn(e.message);else{const n=Br.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ji.warn(n.message)}}}async function I_(r,e){try{const s=(await b0()).transaction(Hl,"readwrite");await s.objectStore(Hl).put(e,w0(r)),await s.done}catch(n){if(n instanceof ir)Ji.warn(n.message);else{const s=Br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ji.warn(s.message)}}}function w0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=1024,wR=30;class RR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=D_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>wR){const f=DR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ji.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=D_(),{heartbeatsToSend:s,unsentEntries:o}=CR(this._heartbeatsCache.heartbeats),u=rh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ji.warn(n),""}}}function D_(){return new Date().toISOString().substring(0,10)}function CR(r,e=bR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),x_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),x_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class IR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mw()?pw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await AR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return I_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return I_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function x_(r){return rh(JSON.stringify({version:2,heartbeats:r})).length}function DR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(r){$a(new zs("platform-logger",e=>new qw(e),"PRIVATE")),$a(new zs("heartbeat",e=>new RR(e),"PRIVATE")),zr(Sm,R_,r),zr(Sm,R_,"esm2017"),zr("fire-js","")}xR("");function ip(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function R0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OR=R0,C0=new nu("auth","Firebase",R0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new ep("@firebase/auth");function NR(r,...e){ah.logLevel<=Le.WARN&&ah.warn(`Auth (${co}): ${r}`,...e)}function Qc(r,...e){ah.logLevel<=Le.ERROR&&ah.error(`Auth (${co}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(r,...e){throw rp(r,...e)}function gi(r,...e){return rp(r,...e)}function I0(r,e,n){const s=Object.assign(Object.assign({},OR()),{[e]:n});return new nu("auth","Firebase",s).create(e,{appName:r.name})}function qr(r){return I0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return C0.create(r,...e)}function Se(r,e,...n){if(!r)throw rp(e,...n)}function Yi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Qc(e),new Error(e)}function er(r,e){r||Yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function MR(){return O_()==="http:"||O_()==="https:"}function O_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MR()||cw()||"connection"in navigator)?navigator.onLine:!0}function PR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,er(n>e,"Short delay should be less than long delay!"),this.isMobile=ow()||hw()}get(){return VR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(r,e){er(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UR=new ru(3e4,6e4);function Gs(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Zr(r,e,n,s,o={}){return x0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=iu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return uw()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&uo(r.emulatorConfig.host)&&(g.credentials="include"),D0.fetch()(await O0(r,r.config.apiHost,n,m),g)})}async function x0(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},kR),e);try{const o=new BR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Lc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Lc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Lc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw I0(r,E,g);Qn(r,E)}}catch(o){if(o instanceof ir)throw o;Qn(r,"network-request-failed",{message:String(o)})}}async function Ch(r,e,n,s,o={}){const u=await Zr(r,e,n,s,o);return"mfaPendingCredential"in u&&Qn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function O0(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?sp(r.config,o):`${r.config.apiScheme}://${o}`;return LR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function jR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(gi(this.auth,"network-request-failed")),UR.get())})}}function Lc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=gi(r,e,s);return o.customData._tokenResponse=n,o}function N_(r){return r!==void 0&&r.enterprise!==void 0}class zR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return jR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qR(r,e){return Zr(r,"GET","/v2/recaptchaConfig",Gs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(r,e){return Zr(r,"POST","/v1/accounts:delete",e)}async function oh(r,e){return Zr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FR(r,e=!1){const n=Qt(r),s=await n.getIdToken(e),o=ap(s);Se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Ll(hm(o.auth_time)),issuedAtTime:Ll(hm(o.iat)),expirationTime:Ll(hm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function hm(r){return Number(r)*1e3}function ap(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=m0(n);return o?JSON.parse(o):(Qc("Failed to decode base64 JWT payload"),null)}catch(o){return Qc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function M_(r){const e=ap(r);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ir&&GR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function GR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ll(this.lastLoginAt),this.creationTime=Ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await Fl(r,oh(n,{idToken:s}));Se(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?N0(u.providerUserInfo):[],m=YR(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Rm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,w)}async function QR(r){const e=Qt(r);await lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YR(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function N0(r){return r.map(e=>{var{providerId:n}=e,s=ip(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(r,e){const n=await x0(r,{},async()=>{const s=iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await O0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&uo(r.emulatorConfig.host)&&(p.credentials="include"),D0.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $R(r,e){return Zr(r,"POST","/v2/accounts:revokeToken",Gs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):M_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=M_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await XR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ka;return s&&(Se(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(r,e){Se(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Kn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=ip(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new KR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Rm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Fl(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return FR(this,e)}reload(){return QR(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Kn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await lh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(qr(this.auth));const e=await this.getIdToken();return await Fl(this,HR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,E;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,A=(o=n.email)!==null&&o!==void 0?o:void 0,k=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,O=(f=n.photoURL)!==null&&f!==void 0?f:void 0,z=(m=n.tenantId)!==null&&m!==void 0?m:void 0,N=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,q=(g=n.createdAt)!==null&&g!==void 0?g:void 0,$=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:X,emailVerified:ee,isAnonymous:Y,providerData:ce,stsTokenManager:I}=n;Se(X&&I,e,"internal-error");const R=Ka.fromJSON(this.name,I);Se(typeof X=="string",e,"internal-error"),Mr(w,e.name),Mr(A,e.name),Se(typeof ee=="boolean",e,"internal-error"),Se(typeof Y=="boolean",e,"internal-error"),Mr(k,e.name),Mr(O,e.name),Mr(z,e.name),Mr(N,e.name),Mr(q,e.name),Mr($,e.name);const C=new Kn({uid:X,auth:e,email:A,emailVerified:ee,displayName:w,isAnonymous:Y,photoURL:O,phoneNumber:k,tenantId:z,stsTokenManager:R,createdAt:q,lastLoginAt:$});return ce&&Array.isArray(ce)&&(C.providerData=ce.map(M=>Object.assign({},M))),N&&(C._redirectEventId=N),C}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ka;o.updateFromServerResponse(n);const u=new Kn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await lh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?N0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Ka;m.updateFromIdToken(s);const p=new Kn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Rm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=new Map;function Xi(r){er(r instanceof Function,"Expected a class definition");let e=V_.get(r);return e?(er(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,V_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}M0.type="NONE";const P_=M0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(r,e,n){return`firebase:${r}:${e}:${n}`}class Qa{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Yc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Yc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await oh(this.auth,{idToken:e}).catch(()=>{});return n?Kn._fromGetAccountInfoResponse(this.auth,n,e):null}return Kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Qa(Xi(P_),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Xi(P_);const f=Yc(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let w;if(typeof E=="string"){const A=await oh(e,{idToken:E}).catch(()=>{});if(!A)break;w=await Kn._fromGetAccountInfoResponse(e,A,E)}else w=Kn._fromJSON(e,E);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Qa(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Qa(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(L0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(V0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(j0(e))return"Blackberry";if(B0(e))return"Webos";if(P0(e))return"Safari";if((e.includes("chrome/")||k0(e))&&!e.includes("edge/"))return"Chrome";if(U0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function V0(r=tn()){return/firefox\//i.test(r)}function P0(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function k0(r=tn()){return/crios\//i.test(r)}function L0(r=tn()){return/iemobile/i.test(r)}function U0(r=tn()){return/android/i.test(r)}function j0(r=tn()){return/blackberry/i.test(r)}function B0(r=tn()){return/webos/i.test(r)}function op(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function ZR(r=tn()){var e;return op(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function WR(){return fw()&&document.documentMode===10}function z0(r=tn()){return op(r)||U0(r)||B0(r)||j0(r)||/windows phone/i.test(r)||L0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(r,e=[]){let n;switch(r){case"Browser":n=k_(tn());break;case"Worker":n=`${k_(tn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${co}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eC(r,e={}){return Zr(r,"GET","/v2/passwordPolicy",Gs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=6;class nC{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:tC,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new L_(this),this.idTokenSubscription=new L_(this),this.beforeStateQueue=new JR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Qa.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await oh(this,{idToken:e}),s=await Kn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Gn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await lh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(qr(this));const n=e?Qt(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eC(this),n=new nC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new nu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await $R(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xi(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await Qa.create(this,[Xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=q0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&NR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ho(r){return Qt(r)}class L_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ew(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rC(r){Ih=r}function H0(r){return Ih.loadJS(r)}function sC(){return Ih.recaptchaEnterpriseScript}function aC(){return Ih.gapiScript}function oC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class lC{constructor(){this.enterprise=new uC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class uC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const cC="recaptcha-enterprise",F0="NO_RECAPTCHA";class hC{constructor(e){this.type=cC,this.auth=ho(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{qR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new zR(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;N_(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(F0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&N_(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=sC();p.length!==0&&(p+=m),H0(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function U_(r,e,n,s=!1,o=!1){const u=new hC(r);let f;if(o)f=F0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function j_(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await U_(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await U_(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(r,e){const n=np(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Bs(u,e??{}))return o;Qn(o,"already-initialized")}return n.initialize({options:e})}function dC(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Xi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function mC(r,e,n){const s=ho(r);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=G0(e),{host:f,port:m}=pC(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(Bs(g,s.config.emulator)&&Bs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,uo(f)?(v0(`${u}//${f}${p}`),_0("Auth",!0)):gC()}function G0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function pC(r){const e=G0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:B_(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:B_(f)}}}function B_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function gC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yi("not implemented")}_getIdTokenResponse(e){return Yi("not implemented")}_linkToIdToken(e,n){return Yi("not implemented")}_getReauthenticationResolver(e){return Yi("not implemented")}}async function yC(r,e){return Zr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(r,e){return Ch(r,"POST","/v1/accounts:signInWithPassword",Gs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(r,e){return Ch(r,"POST","/v1/accounts:signInWithEmailLink",Gs(r,e))}async function EC(r,e){return Ch(r,"POST","/v1/accounts:signInWithEmailLink",Gs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends lp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Gl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Gl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return j_(e,n,"signInWithPassword",vC);case"emailLink":return _C(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return j_(e,s,"signUpPassword",yC);case"emailLink":return EC(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ya(r,e){return Ch(r,"POST","/v1/accounts:signInWithIdp",Gs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="http://localhost";class qs extends lp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=ip(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new qs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ya(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ya(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ya(e,n)}buildRequest(){const e={requestUri:TC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=iu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function AC(r){const e=xl(Ol(r)).link,n=e?xl(Ol(e)).deep_link_id:null,s=xl(Ol(r)).deep_link_id;return(s?xl(Ol(s)).link:null)||s||n||e||r}class up{constructor(e){var n,s,o,u,f,m;const p=xl(Ol(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,w=SC((o=p.mode)!==null&&o!==void 0?o:null);Se(g&&E&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=AC(e);try{return new up(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.providerId=fo.PROVIDER_ID}static credential(e,n){return Gl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=up.parseLink(n);return Se(s,"argument-error"),Gl._fromEmailAndCode(e,s.code,s.tenantId)}}fo.PROVIDER_ID="password";fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends K0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends su{constructor(){super("facebook.com")}static credential(e){return qs._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vr.credential(e.oauthAccessToken)}catch{return null}}}Vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Pr.credential(n,s)}catch{return null}}}Pr.GOOGLE_SIGN_IN_METHOD="google.com";Pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends su{constructor(){super("github.com")}static credential(e){return qs._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends su{constructor(){super("twitter.com")}static credential(e,n){return qs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Lr.credential(n,s)}catch{return null}}}Lr.TWITTER_SIGN_IN_METHOD="twitter.com";Lr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Kn._fromIdTokenResponse(e,s,o),f=z_(s);return new Za({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=z_(s);return new Za({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function z_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends ir{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new uh(e,n,s,o)}}function Q0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(r,u,e,s):u})}async function bC(r,e,n=!1){const s=await Fl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Za._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(r,e,n=!1){const{auth:s}=r;if(Gn(s.app))return Promise.reject(qr(s));const o="reauthenticate";try{const u=await Fl(r,Q0(s,o,e,r),n);Se(u.idToken,s,"internal-error");const f=ap(u.idToken);Se(f,s,"internal-error");const{sub:m}=f;return Se(r.uid===m,s,"user-mismatch"),Za._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Qn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y0(r,e,n=!1){if(Gn(r.app))return Promise.reject(qr(r));const s="signIn",o=await Q0(r,s,e),u=await Za._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function RC(r,e){return Y0(ho(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(r){const e=ho(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function IC(r,e,n){return Gn(r.app)?Promise.reject(qr(r)):RC(Qt(r),fo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&CC(r),s})}function DC(r,e,n,s){return Qt(r).onIdTokenChanged(e,n,s)}function xC(r,e,n){return Qt(r).beforeAuthStateChanged(e,n)}function OC(r,e,n,s){return Qt(r).onAuthStateChanged(e,n,s)}function NC(r){return Qt(r).signOut()}const ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=1e3,VC=10;class $0 extends X0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=z0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);WR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,VC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},MC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$0.type="LOCAL";const PC=$0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0 extends X0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Z0.type="SESSION";const W0=Z0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Dh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await kC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=cp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return window}function UC(r){yi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(){return typeof yi().WorkerGlobalScope<"u"&&typeof yi().importScripts=="function"}async function jC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function zC(){return J0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="firebaseLocalStorageDb",qC=1,hh="firebaseLocalStorage",tT="fbase_key";class au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xh(r,e){return r.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function HC(){const r=indexedDB.deleteDatabase(eT);return new au(r).toPromise()}function Cm(){const r=indexedDB.open(eT,qC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(hh,{keyPath:tT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(hh)?e(s):(s.close(),await HC(),e(await Cm()))})})}async function q_(r,e,n){const s=xh(r,!0).put({[tT]:e,value:n});return new au(s).toPromise()}async function FC(r,e){const n=xh(r,!1).get(e),s=await new au(n).toPromise();return s===void 0?null:s.value}function H_(r,e){const n=xh(r,!0).delete(e);return new au(n).toPromise()}const GC=800,KC=3;class nT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>KC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return J0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dh._getInstance(zC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await jC(),!this.activeServiceWorker)return;this.sender=new LC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cm();return await q_(e,ch,"1"),await H_(e,ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>q_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>FC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>H_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=xh(o,!1).getAll();return new au(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nT.type="LOCAL";const QC=nT;new ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(r,e){return e?Xi(e):(Se(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp extends lp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ya(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ya(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ya(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function XC(r){return Y0(r.auth,new hp(r),r.bypassAuthState)}function $C(r){const{auth:e,user:n}=r;return Se(n,e,"internal-error"),wC(n,new hp(r),r.bypassAuthState)}async function ZC(r){const{auth:e,user:n}=r;return Se(n,e,"internal-error"),bC(n,new hp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XC;case"linkViaPopup":case"linkViaRedirect":return ZC;case"reauthViaPopup":case"reauthViaRedirect":return $C;default:Qn(this.auth,"internal-error")}}resolve(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=new ru(2e3,1e4);class Ga extends iT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ga.currentPopupAction&&Ga.currentPopupAction.cancel(),Ga.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const e=cp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ga.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WC.get())};e()}}Ga.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="pendingRedirect",Xc=new Map;class eI extends iT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Xc.get(this.auth._key());if(!e){try{const s=await tI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Xc.set(this.auth._key(),e)}return this.bypassAuthState||Xc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tI(r,e){const n=rI(e),s=iI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function nI(r,e){Xc.set(r._key(),e)}function iI(r){return Xi(r._redirectPersistence)}function rI(r){return Yc(JC,r.config.apiKey,r.name)}async function sI(r,e,n=!1){if(Gn(r.app))return Promise.reject(qr(r));const s=ho(r),o=YC(s,e),f=await new eI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=10*60*1e3;class oI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!rT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(gi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aI&&this.cachedEventUids.clear(),this.cachedEventUids.has(F_(e))}saveEventToCache(e){this.cachedEventUids.add(F_(e)),this.lastProcessedEventTime=Date.now()}}function F_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function rT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function lI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(r,e={}){return Zr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hI=/^https?/;async function fI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await uI(r);for(const n of e)try{if(dI(n))return}catch{}Qn(r,"unauthorized-domain")}function dI(r){const e=wm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!hI.test(n))return!1;if(cI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=new ru(3e4,6e4);function G_(){const r=yi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function pI(r){return new Promise((e,n)=>{var s,o,u;function f(){G_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{G_(),n(gi(r,"network-request-failed"))},timeout:mI.get()})}if(!((o=(s=yi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=yi().gapi)===null||u===void 0)&&u.load)f();else{const m=oC("iframefcb");return yi()[m]=()=>{gapi.load?f():n(gi(r,"network-request-failed"))},H0(`${aC()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw $c=null,e})}let $c=null;function gI(r){return $c=$c||pI(r),$c}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=new ru(5e3,15e3),vI="__/auth/iframe",_I="emulator/auth/iframe",EI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SI(r){const e=r.config;Se(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?sp(e,_I):`https://${r.config.authDomain}/${vI}`,s={apiKey:e.apiKey,appName:r.name,v:co},o=TI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${iu(s).slice(1)}`}async function AI(r){const e=await gI(r),n=yi().gapi;return Se(n,r,"internal-error"),e.open({where:document.body,url:SI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=gi(r,"network-request-failed"),m=yi().setTimeout(()=>{u(f)},yI.get());function p(){yi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wI=500,RI=600,CI="_blank",II="http://localhost";class K_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DI(r,e,n,s=wI,o=RI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},bI),{width:s.toString(),height:o.toString(),top:u,left:f}),g=tn().toLowerCase();n&&(m=k0(g)?CI:n),V0(g)&&(e=e||II,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[k,O])=>`${A}${k}=${O},`,"");if(ZR(g)&&m!=="_self")return xI(e||"",m),new K_(null);const w=window.open(e||"",m,E);Se(w,r,"popup-blocked");try{w.focus()}catch{}return new K_(w)}function xI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="__/auth/handler",NI="emulator/auth/handler",MI=encodeURIComponent("fac");async function Q_(r,e,n,s,o,u){Se(r.config.authDomain,r,"auth-domain-config-required"),Se(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:co,eventId:o};if(e instanceof K0){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",_w(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof su){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${MI}=${encodeURIComponent(p)}`:"";return`${VI(r)}?${iu(m).slice(1)}${g}`}function VI({config:r}){return r.emulator?sp(r,NI):`https://${r.authDomain}/${OI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="webStorageSupport";class PI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=W0,this._completeRedirectFn=sI,this._overrideRedirectResult=nI}async _openPopup(e,n,s,o){var u;er((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Q_(e,n,s,wm(),o);return DI(e,f,cp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Q_(e,n,s,wm(),o);return UC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(er(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await AI(e),s=new oI(e);return n.register("authEvent",o=>(Se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fm,{type:fm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[fm];f!==void 0&&n(!!f),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return z0()||P0()||op()}}const kI=PI;var Y_="@firebase/auth",X_="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jI(r){$a(new zs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Se(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q0(r)},g=new iC(s,o,u,p);return dC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),$a(new zs("auth-internal",e=>{const n=ho(e.getProvider("auth").getImmediate());return(s=>new LI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zr(Y_,X_,UI(r)),zr(Y_,X_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=5*60,zI=y0("authIdTokenMaxAge")||BI;let $_=null;const qI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>zI)return;const o=n==null?void 0:n.token;$_!==o&&($_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function HI(r=A0()){const e=np(r,"auth");if(e.isInitialized())return e.getImmediate();const n=fC(r,{popupRedirectResolver:kI,persistence:[QC,PC,W0]}),s=y0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=qI(u.toString());xC(n,f,()=>f(n.currentUser)),DC(n,m=>f(m))}}const o=p0("auth");return o&&mC(n,`http://${o}`),n}function FI(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}rC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=gi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",FI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jI("Browser");var GI="firebase",KI="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zr(GI,KI,"app");var Z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hr,sT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,R){function C(){}C.prototype=R.prototype,I.D=R.prototype,I.prototype=new C,I.prototype.constructor=I,I.C=function(M,V,j){for(var D=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)D[xe-2]=arguments[xe];return R.prototype[V].apply(M,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,C){C||(C=0);var M=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)M[V]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(V=0;16>V;++V)M[V]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=I.g[0],C=I.g[1],V=I.g[2];var j=I.g[3],D=R+(j^C&(V^j))+M[0]+3614090360&4294967295;R=C+(D<<7&4294967295|D>>>25),D=j+(V^R&(C^V))+M[1]+3905402710&4294967295,j=R+(D<<12&4294967295|D>>>20),D=V+(C^j&(R^C))+M[2]+606105819&4294967295,V=j+(D<<17&4294967295|D>>>15),D=C+(R^V&(j^R))+M[3]+3250441966&4294967295,C=V+(D<<22&4294967295|D>>>10),D=R+(j^C&(V^j))+M[4]+4118548399&4294967295,R=C+(D<<7&4294967295|D>>>25),D=j+(V^R&(C^V))+M[5]+1200080426&4294967295,j=R+(D<<12&4294967295|D>>>20),D=V+(C^j&(R^C))+M[6]+2821735955&4294967295,V=j+(D<<17&4294967295|D>>>15),D=C+(R^V&(j^R))+M[7]+4249261313&4294967295,C=V+(D<<22&4294967295|D>>>10),D=R+(j^C&(V^j))+M[8]+1770035416&4294967295,R=C+(D<<7&4294967295|D>>>25),D=j+(V^R&(C^V))+M[9]+2336552879&4294967295,j=R+(D<<12&4294967295|D>>>20),D=V+(C^j&(R^C))+M[10]+4294925233&4294967295,V=j+(D<<17&4294967295|D>>>15),D=C+(R^V&(j^R))+M[11]+2304563134&4294967295,C=V+(D<<22&4294967295|D>>>10),D=R+(j^C&(V^j))+M[12]+1804603682&4294967295,R=C+(D<<7&4294967295|D>>>25),D=j+(V^R&(C^V))+M[13]+4254626195&4294967295,j=R+(D<<12&4294967295|D>>>20),D=V+(C^j&(R^C))+M[14]+2792965006&4294967295,V=j+(D<<17&4294967295|D>>>15),D=C+(R^V&(j^R))+M[15]+1236535329&4294967295,C=V+(D<<22&4294967295|D>>>10),D=R+(V^j&(C^V))+M[1]+4129170786&4294967295,R=C+(D<<5&4294967295|D>>>27),D=j+(C^V&(R^C))+M[6]+3225465664&4294967295,j=R+(D<<9&4294967295|D>>>23),D=V+(R^C&(j^R))+M[11]+643717713&4294967295,V=j+(D<<14&4294967295|D>>>18),D=C+(j^R&(V^j))+M[0]+3921069994&4294967295,C=V+(D<<20&4294967295|D>>>12),D=R+(V^j&(C^V))+M[5]+3593408605&4294967295,R=C+(D<<5&4294967295|D>>>27),D=j+(C^V&(R^C))+M[10]+38016083&4294967295,j=R+(D<<9&4294967295|D>>>23),D=V+(R^C&(j^R))+M[15]+3634488961&4294967295,V=j+(D<<14&4294967295|D>>>18),D=C+(j^R&(V^j))+M[4]+3889429448&4294967295,C=V+(D<<20&4294967295|D>>>12),D=R+(V^j&(C^V))+M[9]+568446438&4294967295,R=C+(D<<5&4294967295|D>>>27),D=j+(C^V&(R^C))+M[14]+3275163606&4294967295,j=R+(D<<9&4294967295|D>>>23),D=V+(R^C&(j^R))+M[3]+4107603335&4294967295,V=j+(D<<14&4294967295|D>>>18),D=C+(j^R&(V^j))+M[8]+1163531501&4294967295,C=V+(D<<20&4294967295|D>>>12),D=R+(V^j&(C^V))+M[13]+2850285829&4294967295,R=C+(D<<5&4294967295|D>>>27),D=j+(C^V&(R^C))+M[2]+4243563512&4294967295,j=R+(D<<9&4294967295|D>>>23),D=V+(R^C&(j^R))+M[7]+1735328473&4294967295,V=j+(D<<14&4294967295|D>>>18),D=C+(j^R&(V^j))+M[12]+2368359562&4294967295,C=V+(D<<20&4294967295|D>>>12),D=R+(C^V^j)+M[5]+4294588738&4294967295,R=C+(D<<4&4294967295|D>>>28),D=j+(R^C^V)+M[8]+2272392833&4294967295,j=R+(D<<11&4294967295|D>>>21),D=V+(j^R^C)+M[11]+1839030562&4294967295,V=j+(D<<16&4294967295|D>>>16),D=C+(V^j^R)+M[14]+4259657740&4294967295,C=V+(D<<23&4294967295|D>>>9),D=R+(C^V^j)+M[1]+2763975236&4294967295,R=C+(D<<4&4294967295|D>>>28),D=j+(R^C^V)+M[4]+1272893353&4294967295,j=R+(D<<11&4294967295|D>>>21),D=V+(j^R^C)+M[7]+4139469664&4294967295,V=j+(D<<16&4294967295|D>>>16),D=C+(V^j^R)+M[10]+3200236656&4294967295,C=V+(D<<23&4294967295|D>>>9),D=R+(C^V^j)+M[13]+681279174&4294967295,R=C+(D<<4&4294967295|D>>>28),D=j+(R^C^V)+M[0]+3936430074&4294967295,j=R+(D<<11&4294967295|D>>>21),D=V+(j^R^C)+M[3]+3572445317&4294967295,V=j+(D<<16&4294967295|D>>>16),D=C+(V^j^R)+M[6]+76029189&4294967295,C=V+(D<<23&4294967295|D>>>9),D=R+(C^V^j)+M[9]+3654602809&4294967295,R=C+(D<<4&4294967295|D>>>28),D=j+(R^C^V)+M[12]+3873151461&4294967295,j=R+(D<<11&4294967295|D>>>21),D=V+(j^R^C)+M[15]+530742520&4294967295,V=j+(D<<16&4294967295|D>>>16),D=C+(V^j^R)+M[2]+3299628645&4294967295,C=V+(D<<23&4294967295|D>>>9),D=R+(V^(C|~j))+M[0]+4096336452&4294967295,R=C+(D<<6&4294967295|D>>>26),D=j+(C^(R|~V))+M[7]+1126891415&4294967295,j=R+(D<<10&4294967295|D>>>22),D=V+(R^(j|~C))+M[14]+2878612391&4294967295,V=j+(D<<15&4294967295|D>>>17),D=C+(j^(V|~R))+M[5]+4237533241&4294967295,C=V+(D<<21&4294967295|D>>>11),D=R+(V^(C|~j))+M[12]+1700485571&4294967295,R=C+(D<<6&4294967295|D>>>26),D=j+(C^(R|~V))+M[3]+2399980690&4294967295,j=R+(D<<10&4294967295|D>>>22),D=V+(R^(j|~C))+M[10]+4293915773&4294967295,V=j+(D<<15&4294967295|D>>>17),D=C+(j^(V|~R))+M[1]+2240044497&4294967295,C=V+(D<<21&4294967295|D>>>11),D=R+(V^(C|~j))+M[8]+1873313359&4294967295,R=C+(D<<6&4294967295|D>>>26),D=j+(C^(R|~V))+M[15]+4264355552&4294967295,j=R+(D<<10&4294967295|D>>>22),D=V+(R^(j|~C))+M[6]+2734768916&4294967295,V=j+(D<<15&4294967295|D>>>17),D=C+(j^(V|~R))+M[13]+1309151649&4294967295,C=V+(D<<21&4294967295|D>>>11),D=R+(V^(C|~j))+M[4]+4149444226&4294967295,R=C+(D<<6&4294967295|D>>>26),D=j+(C^(R|~V))+M[11]+3174756917&4294967295,j=R+(D<<10&4294967295|D>>>22),D=V+(R^(j|~C))+M[2]+718787259&4294967295,V=j+(D<<15&4294967295|D>>>17),D=C+(j^(V|~R))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+j&4294967295}s.prototype.u=function(I,R){R===void 0&&(R=I.length);for(var C=R-this.blockSize,M=this.B,V=this.h,j=0;j<R;){if(V==0)for(;j<=C;)o(this,I,j),j+=this.blockSize;if(typeof I=="string"){for(;j<R;)if(M[V++]=I.charCodeAt(j++),V==this.blockSize){o(this,M),V=0;break}}else for(;j<R;)if(M[V++]=I[j++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=R},s.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;var C=8*this.o;for(R=I.length-8;R<I.length;++R)I[R]=C&255,C/=256;for(this.u(I),I=Array(16),R=C=0;4>R;++R)for(var M=0;32>M;M+=8)I[C++]=this.g[R]>>>M&255;return I};function u(I,R){var C=m;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=R(I)}function f(I,R){this.h=R;for(var C=[],M=!0,V=I.length-1;0<=V;V--){var j=I[V]|0;M&&j==R||(C[V]=j,M=!1)}this.g=C}var m={};function p(I){return-128<=I&&128>I?u(I,function(R){return new f([R|0],0>R?-1:0)}):new f([I|0],0>I?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return w;if(0>I)return N(g(-I));for(var R=[],C=1,M=0;I>=C;M++)R[M]=I/C|0,C*=4294967296;return new f(R,0)}function E(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return N(E(I.substring(1),R));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(R,8)),M=w,V=0;V<I.length;V+=8){var j=Math.min(8,I.length-V),D=parseInt(I.substring(V,V+j),R);8>j?(j=g(Math.pow(R,j)),M=M.j(j).add(g(D))):(M=M.j(C),M=M.add(g(D)))}return M}var w=p(0),A=p(1),k=p(16777216);r=f.prototype,r.m=function(){if(z(this))return-N(this).m();for(var I=0,R=1,C=0;C<this.g.length;C++){var M=this.i(C);I+=(0<=M?M:4294967296+M)*R,R*=4294967296}return I},r.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(O(this))return"0";if(z(this))return"-"+N(this).toString(I);for(var R=g(Math.pow(I,6)),C=this,M="";;){var V=ee(C,R).g;C=q(C,V.j(R));var j=((0<C.g.length?C.g[0]:C.h)>>>0).toString(I);if(C=V,O(C))return j+M;for(;6>j.length;)j="0"+j;M=j+M}},r.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function O(I){if(I.h!=0)return!1;for(var R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function z(I){return I.h==-1}r.l=function(I){return I=q(this,I),z(I)?-1:O(I)?0:1};function N(I){for(var R=I.g.length,C=[],M=0;M<R;M++)C[M]=~I.g[M];return new f(C,~I.h).add(A)}r.abs=function(){return z(this)?N(this):this},r.add=function(I){for(var R=Math.max(this.g.length,I.g.length),C=[],M=0,V=0;V<=R;V++){var j=M+(this.i(V)&65535)+(I.i(V)&65535),D=(j>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);M=D>>>16,j&=65535,D&=65535,C[V]=D<<16|j}return new f(C,C[C.length-1]&-2147483648?-1:0)};function q(I,R){return I.add(N(R))}r.j=function(I){if(O(this)||O(I))return w;if(z(this))return z(I)?N(this).j(N(I)):N(N(this).j(I));if(z(I))return N(this.j(N(I)));if(0>this.l(k)&&0>I.l(k))return g(this.m()*I.m());for(var R=this.g.length+I.g.length,C=[],M=0;M<2*R;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<I.g.length;V++){var j=this.i(M)>>>16,D=this.i(M)&65535,xe=I.i(V)>>>16,Ce=I.i(V)&65535;C[2*M+2*V]+=D*Ce,$(C,2*M+2*V),C[2*M+2*V+1]+=j*Ce,$(C,2*M+2*V+1),C[2*M+2*V+1]+=D*xe,$(C,2*M+2*V+1),C[2*M+2*V+2]+=j*xe,$(C,2*M+2*V+2)}for(M=0;M<R;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=R;M<2*R;M++)C[M]=0;return new f(C,0)};function $(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function X(I,R){this.g=I,this.h=R}function ee(I,R){if(O(R))throw Error("division by zero");if(O(I))return new X(w,w);if(z(I))return R=ee(N(I),R),new X(N(R.g),N(R.h));if(z(R))return R=ee(I,N(R)),new X(N(R.g),R.h);if(30<I.g.length){if(z(I)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var C=A,M=R;0>=M.l(I);)C=Y(C),M=Y(M);var V=ce(C,1),j=ce(M,1);for(M=ce(M,2),C=ce(C,2);!O(M);){var D=j.add(M);0>=D.l(I)&&(V=V.add(C),j=D),M=ce(M,1),C=ce(C,1)}return R=q(I,V.j(R)),new X(V,R)}for(V=w;0<=I.l(R);){for(C=Math.max(1,Math.floor(I.m()/R.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),j=g(C),D=j.j(R);z(D)||0<D.l(I);)C-=M,j=g(C),D=j.j(R);O(j)&&(j=A),V=V.add(j),I=q(I,D)}return new X(V,I)}r.A=function(I){return ee(this,I).h},r.and=function(I){for(var R=Math.max(this.g.length,I.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)&I.i(M);return new f(C,this.h&I.h)},r.or=function(I){for(var R=Math.max(this.g.length,I.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)|I.i(M);return new f(C,this.h|I.h)},r.xor=function(I){for(var R=Math.max(this.g.length,I.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)^I.i(M);return new f(C,this.h^I.h)};function Y(I){for(var R=I.g.length+1,C=[],M=0;M<R;M++)C[M]=I.i(M)<<1|I.i(M-1)>>>31;return new f(C,I.h)}function ce(I,R){var C=R>>5;R%=32;for(var M=I.g.length-C,V=[],j=0;j<M;j++)V[j]=0<R?I.i(j+C)>>>R|I.i(j+C+1)<<32-R:I.i(j+C);return new f(V,I.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,sT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Hr=f}).apply(typeof Z_<"u"?Z_:typeof self<"u"?self:typeof window<"u"?window:{});var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aT,Nl,oT,Zc,Im,lT,uT,cT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uc=="object"&&Uc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var H=c[b];if(!(H in v))break e;v=v[H]}c=c[c.length-1],b=v[c],y=y(b),y!=b&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,b=!1,H={next:function(){if(!b&&v<c.length){var Z=v++;return{value:y(Z,c[Z]),done:!1}}return b=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function w(c,y,v){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,b),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function A(c,y,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,A.apply(null,arguments)}function k(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function O(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(b,H,Z){for(var ue=Array(arguments.length-2),je=2;je<arguments.length;je++)ue[je-2]=arguments[je];return y.prototype[H].apply(b,ue)}}function z(c){const y=c.length;if(0<y){const v=Array(y);for(let b=0;b<y;b++)v[b]=c[b];return v}return[]}function N(c,y){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(p(b)){const H=c.length||0,Z=b.length||0;c.length=H+Z;for(let ue=0;ue<Z;ue++)c[H+ue]=b[ue]}else c.push(b)}}class q{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function $(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ee(c){return ee[" "](c),c}ee[" "]=function(){};var Y=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function ce(c,y,v){for(const b in c)y.call(v,c[b],b,c)}function I(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function R(c){const y={};for(const v in c)y[v]=c[v];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let v,b;for(let H=1;H<arguments.length;H++){b=arguments[H];for(v in b)c[v]=b[v];for(let Z=0;Z<C.length;Z++)v=C[Z],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function V(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function j(c){m.setTimeout(()=>{throw c},0)}function D(){var c=Oe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class xe{constructor(){this.h=this.g=null}add(y,v){const b=Ce.get();b.set(y,v),this.h?this.h.next=b:this.g=b,this.h=b}}var Ce=new q(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let se,he=!1,Oe=new xe,P=()=>{const c=m.Promise.resolve(void 0);se=()=>{c.then(re)}};var re=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(v){j(v)}var y=Ce;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}he=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function _e(c,y){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Y){e:{try{ee(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:pe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&_e.aa.h.call(this)}}O(_e,oe);var pe={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Mt="closure_listenable_"+(1e6*Math.random()|0),tt=0;function Zn(c,y,v,b,H){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!b,this.ha=H,this.key=++tt,this.da=this.fa=!1}function rr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Si(c){this.src=c,this.g={},this.h=0}Si.prototype.add=function(c,y,v,b,H){var Z=c.toString();c=this.g[Z],c||(c=this.g[Z]=[],this.h++);var ue=ts(c,y,b,H);return-1<ue?(y=c[ue],v||(y.fa=!1)):(y=new Zn(y,this.src,Z,!!b,H),y.fa=v,c.push(y)),y};function es(c,y){var v=y.type;if(v in c.g){var b=c.g[v],H=Array.prototype.indexOf.call(b,y,void 0),Z;(Z=0<=H)&&Array.prototype.splice.call(b,H,1),Z&&(rr(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ts(c,y,v,b){for(var H=0;H<c.length;++H){var Z=c[H];if(!Z.da&&Z.listener==y&&Z.capture==!!v&&Z.ha==b)return H}return-1}var ns="closure_lm_"+(1e6*Math.random()|0),vo={};function fu(c,y,v,b,H){if(Array.isArray(y)){for(var Z=0;Z<y.length;Z++)fu(c,y[Z],v,b,H);return null}return v=du(v),c&&c[Mt]?c.K(y,v,g(b)?!!b.capture:!1,H):bn(c,y,v,!1,b,H)}function bn(c,y,v,b,H,Z){if(!y)throw Error("Invalid event type");var ue=g(H)?!!H.capture:!!H,je=$s(c);if(je||(c[ns]=je=new Si(c)),v=je.add(y,v,b,ue,Z),v.proxy)return v;if(b=Zh(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)de||(H=ue),H===void 0&&(H=!1),c.addEventListener(y.toString(),b,H);else if(c.attachEvent)c.attachEvent(is(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Zh(){function c(v){return y.call(c.src,c.listener,v)}const y=Wh;return c}function _o(c,y,v,b,H){if(Array.isArray(y))for(var Z=0;Z<y.length;Z++)_o(c,y[Z],v,b,H);else b=g(b)?!!b.capture:!!b,v=du(v),c&&c[Mt]?(c=c.i,y=String(y).toString(),y in c.g&&(Z=c.g[y],v=ts(Z,v,b,H),-1<v&&(rr(Z[v]),Array.prototype.splice.call(Z,v,1),Z.length==0&&(delete c.g[y],c.h--)))):c&&(c=$s(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ts(y,v,b,H)),(v=-1<c?y[c]:null)&&Xs(v))}function Xs(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Mt])es(y.i,c);else{var v=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(v,b,c.capture):y.detachEvent?y.detachEvent(is(v),b):y.addListener&&y.removeListener&&y.removeListener(b),(v=$s(y))?(es(v,c),v.h==0&&(v.src=null,y[ns]=null)):rr(c)}}}function is(c){return c in vo?vo[c]:vo[c]="on"+c}function Wh(c,y){if(c.da)c=!0;else{y=new _e(y,this);var v=c.listener,b=c.ha||c.src;c.fa&&Xs(c),c=v.call(b,y)}return c}function $s(c){return c=c[ns],c instanceof Si?c:null}var Eo="__closure_events_fn_"+(1e9*Math.random()>>>0);function du(c){return typeof c=="function"?c:(c[Eo]||(c[Eo]=function(y){return c.handleEvent(y)}),c[Eo])}function ht(){le.call(this),this.i=new Si(this),this.M=this,this.F=null}O(ht,le),ht.prototype[Mt]=!0,ht.prototype.removeEventListener=function(c,y,v,b){_o(this,c,y,v,b)};function Qe(c,y){var v,b=c.F;if(b)for(v=[];b;b=b.F)v.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new oe(y,c);else if(y instanceof oe)y.target=y.target||c;else{var H=y;y=new oe(b,c),M(y,H)}if(H=!0,v)for(var Z=v.length-1;0<=Z;Z--){var ue=y.g=v[Z];H=dn(ue,b,!0,y)&&H}if(ue=y.g=c,H=dn(ue,b,!0,y)&&H,H=dn(ue,b,!1,y)&&H,v)for(Z=0;Z<v.length;Z++)ue=y.g=v[Z],H=dn(ue,b,!1,y)&&H}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],b=0;b<v.length;b++)rr(v[b]);delete c.g[y],c.h--}}this.F=null},ht.prototype.K=function(c,y,v,b){return this.i.add(String(c),y,!1,v,b)},ht.prototype.L=function(c,y,v,b){return this.i.add(String(c),y,!0,v,b)};function dn(c,y,v,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,Z=0;Z<y.length;++Z){var ue=y[Z];if(ue&&!ue.da&&ue.capture==v){var je=ue.listener,Rt=ue.ha||ue.src;ue.fa&&es(c.i,ue),H=je.call(Rt,b)!==!1&&H}}return H&&!b.defaultPrevented}function Xt(c,y,v){if(typeof c=="function")v&&(c=A(c,v));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function mu(c){c.g=Xt(()=>{c.g=null,c.i&&(c.i=!1,mu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Jh extends le{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:mu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(c){le.call(this),this.h=c,this.g={}}O(rs,le);var ss=[];function as(c){ce(c.g,function(y,v){this.g.hasOwnProperty(v)&&Xs(y)},c),c.g={}}rs.prototype.N=function(){rs.aa.N.call(this),as(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=m.JSON.stringify,Zs=m.JSON.parse,os=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function To(){}To.prototype.h=null;function So(c){return c.h||(c.h=c.i())}function Ao(){}var Ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bi(){oe.call(this,"d")}O(bi,oe);function bo(){oe.call(this,"c")}O(bo,oe);var Wn={},wo=null;function sr(){return wo=wo||new ht}Wn.La="serverreachability";function Ws(c){oe.call(this,Wn.La,c)}O(Ws,oe);function ar(c){const y=sr();Qe(y,new Ws(y))}Wn.STAT_EVENT="statevent";function pu(c,y){oe.call(this,Wn.STAT_EVENT,c),this.stat=y}O(pu,oe);function st(c){const y=sr();Qe(y,new pu(y,c))}Wn.Ma="timingevent";function wt(c,y){oe.call(this,Wn.Ma,c),this.size=y}O(wt,oe);function Et(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function wn(){this.g=!0}wn.prototype.xa=function(){this.g=!1};function Ro(c,y,v,b,H,Z){c.info(function(){if(c.g)if(Z)for(var ue="",je=Z.split("&"),Rt=0;Rt<je.length;Rt++){var Be=je[Rt].split("=");if(1<Be.length){var Pt=Be[0];Be=Be[1];var Ct=Pt.split("_");ue=2<=Ct.length&&Ct[1]=="type"?ue+(Pt+"="+Be+"&"):ue+(Pt+"=redacted&")}}else ue=null;else ue=Z;return"XMLHTTP REQ ("+b+") [attempt "+H+"]: "+y+`
`+v+`
`+ue})}function ef(c,y,v,b,H,Z,ue){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+H+"]: "+y+`
`+v+`
`+Z+" "+ue})}function or(c,y,v,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ls(c,v)+(b?" "+b:"")})}function gu(c,y){c.info(function(){return"TIMEOUT: "+y})}wn.prototype.info=function(){};function ls(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var b=v[c];if(!(2>b.length)){var H=b[1];if(Array.isArray(H)&&!(1>H.length)){var Z=H[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ue=1;ue<H.length;ue++)H[ue]=""}}}}return jn(v)}catch{return y}}var lr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jn;function ei(){}O(ei,To),ei.prototype.g=function(){return new XMLHttpRequest},ei.prototype.i=function(){return{}},Jn=new ei;function nn(c,y,v,b){this.j=c,this.i=y,this.l=v,this.R=b||1,this.U=new rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}var Co={},Js={};function Bn(c,y,v){c.L=1,c.v=ds(mn(y)),c.m=v,c.P=!0,Ri(c,null)}function Ri(c,y){c.F=Date.now(),us(c),c.A=mn(c.v);var v=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Mo(v.i,"t",b),c.C=0,v=c.j.J,c.h=new pt,c.g=Nu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Jh(A(c.Y,c,c.g),c.O)),y=c.U,v=c.g,b=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(ss[0]=H.toString()),H=ss);for(var Z=0;Z<H.length;Z++){var ue=fu(v,H[Z],b||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),ar(),Ro(c.i,c.u,c.A,c.l,c.R,c.m)}nn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Dn(c)==3?y.j():this.Y(c)},nn.prototype.Y=function(c){try{if(c==this.g)e:{const Ct=Dn(this.g);var y=this.g.Ba();const Vi=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||bu(this.g)))){this.J||Ct!=4||y==7||(y==8||0>=Vi?ar(3):ar(2)),ur(this);var v=this.g.Z();this.X=v;t:if(yu(this)){var b=bu(this.g);c="";var H=b.length,Z=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bt(this),ti(this);var ue="";break t}this.h.i=new m.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(Z&&y==H-1)});b.length=0,this.h.g+=c,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=v==200,ef(this.i,this.u,this.A,this.l,this.R,Ct,v),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Rt=this.g;if((je=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(je)){var Be=je;break t}}Be=null}if(v=Be)or(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cs(this,v);else{this.o=!1,this.s=3,st(12),Bt(this),ti(this);break e}}if(this.P){v=!0;let zt;for(;!this.J&&this.C<ue.length;)if(zt=vu(this,ue),zt==Js){Ct==4&&(this.s=4,st(14),v=!1),or(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Co){this.s=4,st(15),or(this.i,this.l,ue,"[Invalid Chunk]"),v=!1;break}else or(this.i,this.l,zt,null),cs(this,zt);if(yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||ue.length!=0||this.h.h||(this.s=1,st(16),v=!1),this.o=this.o&&v,!v)or(this.i,this.l,ue,"[Invalid Chunked Response]"),Bt(this),ti(this);else if(0<ue.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Ts(Pt),Pt.M=!0,st(11))}}else or(this.i,this.l,ue,null),cs(this,ue);Ct==4&&Bt(this),this.o&&!this.J&&(Ct==4?Du(this.j,this):(this.o=!1,us(this)))}else af(this.g),v==400&&0<ue.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),Bt(this),ti(this)}}}catch{}finally{}};function yu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function vu(c,y){var v=c.C,b=y.indexOf(`
`,v);return b==-1?Js:(v=Number(y.substring(v,b)),isNaN(v)?Co:(b+=1,b+v>y.length?Js:(y=y.slice(b,b+v),c.C=b+v,y)))}nn.prototype.cancel=function(){this.J=!0,Bt(this)};function us(c){c.S=Date.now()+c.I,_u(c,c.I)}function _u(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Et(A(c.ba,c),y)}function ur(c){c.B&&(m.clearTimeout(c.B),c.B=null)}nn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(gu(this.i,this.A),this.L!=2&&(ar(),st(17)),Bt(this),this.s=2,ti(this)):_u(this,this.S-c)};function ti(c){c.j.G==0||c.J||Du(c.j,c)}function Bt(c){ur(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,as(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function cs(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Io(v.h,c))){if(!c.K&&Io(v.h,c)&&v.G==3){try{var b=v.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var H=b;if(H[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)ha(v),ua(v);else break e;Uo(v),st(18)}}else v.za=H[1],0<v.za-v.T&&37500>H[2]&&v.F&&v.v==0&&!v.C&&(v.C=Et(A(v.Za,v),6e3));if(1>=ta(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Mi(v,11)}else if((c.K||v.g==c)&&ha(v),!$(y))for(H=v.Da.g.parse(y),y=0;y<H.length;y++){let Be=H[y];if(v.T=Be[0],Be=Be[1],v.G==2)if(Be[0]=="c"){v.K=Be[1],v.ia=Be[2];const Pt=Be[3];Pt!=null&&(v.la=Pt,v.j.info("VER="+v.la));const Ct=Be[4];Ct!=null&&(v.Aa=Ct,v.j.info("SVER="+v.Aa));const Vi=Be[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&(b=1.5*Vi,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const zt=c.g;if(zt){const li=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(li){var Z=b.h;Z.g||li.indexOf("spdy")==-1&&li.indexOf("quic")==-1&&li.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(na(Z,Z.h),Z.h=null))}if(b.D){const Bo=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Bo&&(b.ya=Bo,$e(b.I,b.D,Bo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var ue=c;if(b.qa=Ou(b,b.J?b.ia:null,b.W),ue.K){rn(b.h,ue);var je=ue,Rt=b.L;Rt&&(je.I=Rt),je.B&&(ur(je),us(je)),b.g=ue}else Cu(b);0<v.i.length&&ca(v)}else Be[0]!="stop"&&Be[0]!="close"||Mi(v,7);else v.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Mi(v,7):ko(v):Be[0]!="noop"&&v.l&&v.l.ta(Be),v.v=0)}}ar(4)}catch{}}var Eu=class{constructor(c,y){this.g=c,this.map=y}};function Ci(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ea(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ta(c){return c.h?1:c.g?c.g.size:0}function Io(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function na(c,y){c.g?c.g.add(y):c.h=y}function rn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ci.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Do(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return z(c.i)}function tf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,b=0;b<v;b++)y.push(c[b]);return y}y=[],v=0;for(b in c)y[v++]=c[b];return y}function ia(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const b in c)y[v++]=b;return y}}}function xo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=ia(c),b=tf(c),H=b.length,Z=0;Z<H;Z++)y.call(void 0,b[Z],v&&v[Z],c)}var hs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nf(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var b=c[v].indexOf("="),H=null;if(0<=b){var Z=c[v].substring(0,b);H=c[v].substring(b+1)}else Z=c[v];y(Z,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Tt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Tt){this.h=c.h,fs(this,c.j),this.o=c.o,this.g=c.g,cr(this,c.s),this.l=c.l;var y=c.i,v=new Di;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Ii(this,v),this.m=c.m}else c&&(y=String(c).match(hs))?(this.h=!1,fs(this,y[1]||"",!0),this.o=Rn(y[2]||""),this.g=Rn(y[3]||"",!0),cr(this,y[4]),this.l=Rn(y[5]||"",!0),Ii(this,y[6]||"",!0),this.m=Rn(y[7]||"")):(this.h=!1,this.i=new Di(null,this.h))}Tt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ms(y,Oo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ms(y,Oo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ms(v,v.charAt(0)=="/"?rf:No,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ms(v,ra)),c.join("")};function mn(c){return new Tt(c)}function fs(c,y,v){c.j=v?Rn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function cr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ii(c,y,v){y instanceof Di?(c.i=y,Su(c.i,c.h)):(v||(y=ms(y,sf)),c.i=new Di(y,c.h))}function $e(c,y,v){c.i.set(y,v)}function ds(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Rn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ms(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Tu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Tu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Oo=/[#\/\?@]/g,No=/[#\?:]/g,rf=/[#\?]/g,sf=/[#\?@]/g,ra=/#/g;function Di(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Cn(c){c.g||(c.g=new Map,c.h=0,c.i&&nf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Di.prototype,r.add=function(c,y){Cn(this),this.i=null,c=ni(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function xi(c,y){Cn(c),y=ni(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Oi(c,y){return Cn(c),y=ni(c,y),c.g.has(y)}r.forEach=function(c,y){Cn(this),this.g.forEach(function(v,b){v.forEach(function(H){c.call(y,H,b,this)},this)},this)},r.na=function(){Cn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let b=0;b<y.length;b++){const H=c[b];for(let Z=0;Z<H.length;Z++)v.push(y[b])}return v},r.V=function(c){Cn(this);let y=[];if(typeof c=="string")Oi(this,c)&&(y=y.concat(this.g.get(ni(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return Cn(this),this.i=null,c=ni(this,c),Oi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Mo(c,y,v){xi(c,y),0<v.length&&(c.i=null,c.g.set(ni(c,y),z(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var b=y[v];const Z=encodeURIComponent(String(b)),ue=this.V(b);for(b=0;b<ue.length;b++){var H=Z;ue[b]!==""&&(H+="="+encodeURIComponent(String(ue[b]))),c.push(H)}}return this.i=c.join("&")};function ni(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Su(c,y){y&&!c.j&&(Cn(c),c.i=null,c.g.forEach(function(v,b){var H=b.toLowerCase();b!=H&&(xi(this,b),Mo(this,H,v))},c)),c.j=y}function ps(c,y){const v=new wn;if(m.Image){const b=new Image;b.onload=k(In,v,"TestLoadImage: loaded",!0,y,b),b.onerror=k(In,v,"TestLoadImage: error",!1,y,b),b.onabort=k(In,v,"TestLoadImage: abort",!1,y,b),b.ontimeout=k(In,v,"TestLoadImage: timeout",!1,y,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function zn(c,y){const v=new wn,b=new AbortController,H=setTimeout(()=>{b.abort(),In(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(Z=>{clearTimeout(H),Z.ok?In(v,"TestPingServer: ok",!0,y):In(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),In(v,"TestPingServer: error",!1,y)})}function In(c,y,v,b,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),b(v)}catch{}}function gs(){this.g=new os}function ii(c,y,v){const b=v||"";try{xo(c,function(H,Z){let ue=H;g(H)&&(ue=jn(H)),y.push(b+Z+"="+encodeURIComponent(ue))})}catch(H){throw y.push(b+"type="+encodeURIComponent("_badmap")),H}}function hr(c){this.l=c.Ub||null,this.j=c.eb||!1}O(hr,To),hr.prototype.g=function(){return new Ni(this.l,this.j)},hr.prototype.i=function(c){return function(){return c}}({});function Ni(c,y){ht.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Ni,ht),r=Ni.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,si(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ri(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ri(this):si(this),this.readyState==3&&Vo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ri(this))},r.Qa=function(c){this.g&&(this.response=c,ri(this))},r.ga=function(){this.g&&ri(this)};function ri(c){c.readyState=4,c.l=null,c.j=null,c.v=null,si(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function si(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Po(c){let y="";return ce(c,function(v,b){y+=b,y+=":",y+=v,y+=`\r
`}),y}function Vt(c,y,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Po(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):$e(c,y,v))}function Ge(c){ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Ge,ht);var sa=/^https?$/i,ys=["POST","PUT"];r=Ge.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jn.g(),this.v=this.o?So(this.o):So(Jn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Z){Au(this,Z);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var H in b)v.set(H,b[H]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Z of b.keys())v.set(Z,b.get(Z));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(Z=>Z.toLowerCase()=="content-type"),H=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ys,y,void 0))||b||H||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ue]of v)this.g.setRequestHeader(Z,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Z){Au(this,Z)}};function Au(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,aa(c),ai(c)}function aa(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),ai(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ai(this,!0)),Ge.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?oa(this):this.bb())},r.bb=function(){oa(this)};function oa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Dn(c)!=4||c.Z()!=2)){if(c.u&&Dn(c)==4)Xt(c.Ea,0,c);else if(Qe(c,"readystatechange"),Dn(c)==4){c.h=!1;try{const ue=c.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var b;if(b=ue===0){var H=String(c.D).match(hs)[1]||null;!H&&m.self&&m.self.location&&(H=m.self.location.protocol.slice(0,-1)),b=!sa.test(H?H.toLowerCase():"")}v=b}if(v)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var Z=2<Dn(c)?c.g.statusText:""}catch{Z=""}c.l=Z+" ["+c.Z()+"]",aa(c)}}finally{ai(c)}}}}function ai(c,y){if(c.g){vs(c);const v=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Qe(c,"ready");try{v.onreadystatechange=b}catch{}}}function vs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Dn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Zs(y)}};function bu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function af(c){const y={};c=(c.g&&2<=Dn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if($(c[b]))continue;var v=V(c[b]);const H=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Z=y[H]||[];y[H]=Z,Z.push(v)}I(y,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _s(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function la(c){this.Aa=0,this.i=[],this.j=new wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_s("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_s("baseRetryDelayMs",5e3,c),this.cb=_s("retryDelaySeedMs",1e4,c),this.Wa=_s("forwardChannelMaxRetries",2,c),this.wa=_s("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ci(c&&c.concurrentRequestLimit),this.Da=new gs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=la.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,b){st(0),this.W=c,this.H=y||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=Ou(this,null,this.W),ca(this)};function ko(c){if(wu(c),c.G==3){var y=c.U++,v=mn(c.I);if($e(v,"SID",c.K),$e(v,"RID",y),$e(v,"TYPE","terminate"),Es(c,v),y=new nn(c,c.j,y),y.L=2,y.v=ds(mn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Nu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),us(y)}xu(c)}function ua(c){c.g&&(Ts(c),c.g.cancel(),c.g=null)}function wu(c){ua(c),c.u&&(m.clearTimeout(c.u),c.u=null),ha(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ca(c){if(!ea(c.h)&&!c.s){c.s=!0;var y=c.Ga;se||P(),he||(se(),he=!0),Oe.add(y,c),c.B=0}}function of(c,y){return ta(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Et(A(c.Ga,c,y),jo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new nn(this,this.j,c);let Z=this.o;if(this.S&&(Z?(Z=R(Z),M(Z,this.S)):Z=this.S),this.m!==null||this.O||(H.H=Z,Z=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Ru(this,H,y),v=mn(this.I),$e(v,"RID",c),$e(v,"CVER",22),this.D&&$e(v,"X-HTTP-Session-Id",this.D),Es(this,v),Z&&(this.O?y="headers="+encodeURIComponent(String(Po(Z)))+"&"+y:this.m&&Vt(v,this.m,Z)),na(this.h,H),this.Ua&&$e(v,"TYPE","init"),this.P?($e(v,"$req",y),$e(v,"SID","null"),H.T=!0,Bn(H,v,null)):Bn(H,v,y),this.G=2}}else this.G==3&&(c?Lo(this,c):this.i.length==0||ea(this.h)||Lo(this))};function Lo(c,y){var v;y?v=y.l:v=c.U++;const b=mn(c.I);$e(b,"SID",c.K),$e(b,"RID",v),$e(b,"AID",c.T),Es(c,b),c.m&&c.o&&Vt(b,c.m,c.o),v=new nn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Ru(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),na(c.h,v),Bn(v,b,y)}function Es(c,y){c.H&&ce(c.H,function(v,b){$e(y,b,v)}),c.l&&xo({},function(v,b){$e(y,b,v)})}function Ru(c,y,v){v=Math.min(c.i.length,v);var b=c.l?A(c.l.Na,c.l,c):null;e:{var H=c.i;let Z=-1;for(;;){const ue=["count="+v];Z==-1?0<v?(Z=H[0].g,ue.push("ofs="+Z)):Z=0:ue.push("ofs="+Z);let je=!0;for(let Rt=0;Rt<v;Rt++){let Be=H[Rt].g;const Pt=H[Rt].map;if(Be-=Z,0>Be)Z=Math.max(0,H[Rt].g-100),je=!1;else try{ii(Pt,ue,"req"+Be+"_")}catch{b&&b(Pt)}}if(je){b=ue.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,b}function Cu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;se||P(),he||(se(),he=!0),Oe.add(y,c),c.v=0}}function Uo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Et(A(c.Fa,c),jo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Iu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Et(A(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),ua(this),Iu(this))};function Ts(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Iu(c){c.g=new nn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=mn(c.qa);$e(y,"RID","rpc"),$e(y,"SID",c.K),$e(y,"AID",c.T),$e(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(y,"TO",c.ja),$e(y,"TYPE","xmlhttp"),Es(c,y),c.m&&c.o&&Vt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ds(mn(y)),v.m=null,v.P=!0,Ri(v,c)}r.Za=function(){this.C!=null&&(this.C=null,ua(this),Uo(this),st(19))};function ha(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Du(c,y){var v=null;if(c.g==y){ha(c),Ts(c),c.g=null;var b=2}else if(Io(c.h,y))v=y.D,rn(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;b=sr(),Qe(b,new wt(b,v)),ca(c)}else Cu(c);else if(H=y.s,H==3||H==0&&0<y.X||!(b==1&&of(c,y)||b==2&&Uo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),H){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function jo(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Mi(c,y){if(c.j.info("Error code "+y),y==2){var v=A(c.fb,c),b=c.Xa;const H=!b;b=new Tt(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||fs(b,"https"),ds(b),H?ps(b.toString(),v):zn(b.toString(),v)}else st(2);c.G=0,c.l&&c.l.sa(y),xu(c),wu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function xu(c){if(c.G=0,c.ka=[],c.l){const y=Do(c.h);(y.length!=0||c.i.length!=0)&&(N(c.ka,y),N(c.ka,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.ra()}}function Ou(c,y,v){var b=v instanceof Tt?mn(v):new Tt(v);if(b.g!="")y&&(b.g=y+"."+b.g),cr(b,b.s);else{var H=m.location;b=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var Z=new Tt(null);b&&fs(Z,b),y&&(Z.g=y),H&&cr(Z,H),v&&(Z.l=v),b=Z}return v=c.D,y=c.ya,v&&y&&$e(b,v,y),$e(b,"VER",c.la),Es(c,b),b}function Nu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ge(new hr({eb:v})):new Ge(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mu(){}r=Mu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function fa(){}fa.prototype.g=function(c,y){return new sn(c,y)};function sn(c,y){ht.call(this),this.g=new la(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!$(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!$(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new oi(this)}O(sn,ht),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){ko(this.g)},sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=jn(c),c=v);y.i.push(new Eu(y.Ya++,c)),y.G==3&&ca(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,ko(this.g),delete this.g,sn.aa.N.call(this)};function Vu(c){bi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}O(Vu,bi);function Pu(){bo.call(this),this.status=1}O(Pu,bo);function oi(c){this.g=c}O(oi,Mu),oi.prototype.ua=function(){Qe(this.g,"a")},oi.prototype.ta=function(c){Qe(this.g,new Vu(c))},oi.prototype.sa=function(c){Qe(this.g,new Pu)},oi.prototype.ra=function(){Qe(this.g,"b")},fa.prototype.createWebChannel=fa.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,cT=function(){return new fa},uT=function(){return sr()},lT=Wn,Im={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lr.NO_ERROR=0,lr.TIMEOUT=8,lr.HTTP_ERROR=6,Zc=lr,wi.COMPLETE="complete",oT=wi,Ao.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Nl=Ao,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,aT=Ge}).apply(typeof Uc<"u"?Uc:typeof self<"u"?self:typeof window<"u"?window:{});const W_="@firebase/firestore",J_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new ep("@firebase/firestore");function za(){return Hs.logLevel}function fe(r,...e){if(Hs.logLevel<=Le.DEBUG){const n=e.map(fp);Hs.debug(`Firestore (${mo}): ${r}`,...n)}}function tr(r,...e){if(Hs.logLevel<=Le.ERROR){const n=e.map(fp);Hs.error(`Firestore (${mo}): ${r}`,...n)}}function Wa(r,...e){if(Hs.logLevel<=Le.WARN){const n=e.map(fp);Hs.warn(`Firestore (${mo}): ${r}`,...n)}}function fp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,hT(r,s,n)}function hT(r,e,n){let s=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw tr(s),new Error(s)}function Ke(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||hT(e,o,s)}function Re(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends ir{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class YI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class XI{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Zi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Zi,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Zi)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new fT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class $I{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new $I(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new eE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new eE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=JI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Me(r,e){return r<e?-1:r>e?1:0}function Dm(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Me(s,o);{const u=dT(),f=e2(u.encode(tE(r,n)),u.encode(tE(e,n)));return f!==0?f:Me(s,o)}}n+=s>65535?2:1}return Me(r.length,e.length)}function tE(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function e2(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Me(r[n],e[n]);return Me(r.length,e.length)}function Ja(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=-62135596800,iE=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*iE);return new rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<nE)throw new ye(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iE}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-nE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new rt(0,0))}static max(){return new we(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="__name__";class pi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ae(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return pi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=pi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Me(e.length,n.length)}static compareSegments(e,n){const s=pi.isNumericId(e),o=pi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?pi.extractNumericId(e).compare(pi.extractNumericId(n)):Dm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hr.fromString(e.substring(4,e.length-2))}}class ot extends pi{construct(e,n,s){return new ot(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(ae.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const t2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends pi{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return t2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rE}static keyField(){return new Kt([rE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ye(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ye(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ye(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ot.fromString(e))}static fromName(e){return new ve(ot.fromString(e).popFirst(5))}static empty(){return new ve(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=-1;function n2(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new rt(n+1,0):new rt(n,s));return new Gr(o,ve.empty(),e)}function i2(r){return new Gr(r.readTime,r.key,Kl)}class Gr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Gr(we.min(),ve.empty(),Kl)}static max(){return new Gr(we.max(),ve.empty(),Kl)}}function r2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(r.documentKey,e.documentKey),n!==0?n:Me(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class a2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(r){if(r.code!==ae.FAILED_PRECONDITION||r.message!==s2)throw r;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,s)=>{n(e)})}static reject(e){return new ie((n,s)=>{s(e)})}static waitFor(e){return new ie((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next(o=>o?ie.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ie((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new ie((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function o2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function go(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Oh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp=-1;function Nh(r){return r==null}function fh(r){return r===0&&1/r==-1/0}function l2(r){return typeof r=="number"&&Number.isInteger(r)&&!fh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="";function u2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=sE(e)),e=c2(r.get(n),e);return sE(e)}function c2(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case pT:n+="";break;default:n+=u}}return n}function sE(r){return r+pT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Wr(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function gT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jc(this.root,e,this.comparator,!0)}}class jc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Gt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new oE(this.data.getIterator())}getIteratorFrom(e){return new oE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class oE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new Ot(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ja(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new yT("Invalid base64 string: "+u):u}}(e);return new Yt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const h2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(r){if(Ke(!!r,39018),typeof r=="string"){let e=0;const n=h2.exec(r);if(Ke(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(r.seconds),nanos:vt(r.nanos)}}function vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Qr(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="server_timestamp",_T="__type__",ET="__previous_value__",TT="__local_write_time__";function mp(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[_T])===null||n===void 0?void 0:n.stringValue)===vT}function Mh(r){const e=r.mapValue.fields[ET];return mp(e)?Mh(e):e}function Ql(r){const e=Kr(r.mapValue.fields[TT].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const dh="(default)";class Yl{constructor(e,n){this.projectId=e,this.database=n||dh}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database===dh}isEqual(e){return e instanceof Yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="__type__",d2="__max__",Bc={mapValue:{}},AT="__vector__",mh="value";function Yr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?mp(r)?4:p2(r)?9007199254740991:m2(r)?10:11:Ae(28295,{value:r})}function Ei(r,e){if(r===e)return!0;const n=Yr(r);if(n!==Yr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ql(r).isEqual(Ql(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Kr(o.timestampValue),m=Kr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Qr(o.bytesValue).isEqual(Qr(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=vt(o.doubleValue),m=vt(u.doubleValue);return f===m?fh(f)===fh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return Ja(r.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(aE(f)!==aE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ei(f[p],m[p])))return!1;return!0}(r,e);default:return Ae(52216,{left:r})}}function Xl(r,e){return(r.values||[]).find(n=>Ei(n,e))!==void 0}function eo(r,e){if(r===e)return 0;const n=Yr(r),s=Yr(e);if(n!==s)return Me(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=vt(u.integerValue||u.doubleValue),p=vt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return lE(r.timestampValue,e.timestampValue);case 4:return lE(Ql(r),Ql(e));case 5:return Dm(r.stringValue,e.stringValue);case 6:return function(u,f){const m=Qr(u),p=Qr(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Me(m[g],p[g]);if(E!==0)return E}return Me(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Me(vt(u.latitude),vt(f.latitude));return m!==0?m:Me(vt(u.longitude),vt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return uE(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const w=u.fields||{},A=f.fields||{},k=(m=w[mh])===null||m===void 0?void 0:m.arrayValue,O=(p=A[mh])===null||p===void 0?void 0:p.arrayValue,z=Me(((g=k==null?void 0:k.values)===null||g===void 0?void 0:g.length)||0,((E=O==null?void 0:O.values)===null||E===void 0?void 0:E.length)||0);return z!==0?z:uE(k,O)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Bc.mapValue&&f===Bc.mapValue)return 0;if(u===Bc.mapValue)return 1;if(f===Bc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const A=Dm(p[w],E[w]);if(A!==0)return A;const k=eo(m[p[w]],g[E[w]]);if(k!==0)return k}return Me(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Ae(23264,{Pe:n})}}function lE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Me(r,e);const n=Kr(r),s=Kr(e),o=Me(n.seconds,s.seconds);return o!==0?o:Me(n.nanos,s.nanos)}function uE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=eo(n[o],s[o]);if(u)return u}return Me(n.length,s.length)}function to(r){return xm(r)}function xm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Kr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Qr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ve.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=xm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${xm(n.fields[f])}`;return o+"}"}(r.mapValue):Ae(61005,{value:r})}function Wc(r){switch(Yr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Mh(r);return e?16+Wc(e):16;case 5:return 2*r.stringValue.length;case 6:return Qr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Wc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Wr(s.fields,(u,f)=>{o+=u.length+Wc(f)}),o}(r.mapValue);default:throw Ae(13486,{value:r})}}function Om(r){return!!r&&"integerValue"in r}function pp(r){return!!r&&"arrayValue"in r}function cE(r){return!!r&&"nullValue"in r}function hE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Jc(r){return!!r&&"mapValue"in r}function m2(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[ST])===null||n===void 0?void 0:n.stringValue)===AT}function Ul(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Wr(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ul(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ul(r.arrayValue.values[n]);return e}return Object.assign({},r)}function p2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===d2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Jc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ul(n)}setAll(e){let n=Kt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Ul(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Jc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Wr(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new hn(Ul(this.value))}}function bT(r){const e=[];return Wr(r.fields,(n,s)=>{const o=new Kt([n]);if(Jc(s)){const u=bT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new en(e,0,we.min(),we.min(),we.min(),hn.empty(),0)}static newFoundDocument(e,n,s,o){return new en(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new en(e,2,n,we.min(),we.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,we.min(),we.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n){this.position=e,this.inclusive=n}}function fE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(f.referenceValue),n.key):s=eo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function dE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ei(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n="asc"){this.field=e,this.dir=n}}function g2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{}class xt extends wT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new v2(e,n,s):n==="array-contains"?new T2(e,s):n==="in"?new S2(e,s):n==="not-in"?new A2(e,s):n==="array-contains-any"?new b2(e,s):new xt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new _2(e,s):new E2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(eo(n,this.value)):n!==null&&Yr(this.value)===Yr(n)&&this.matchesComparison(eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends wT{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Ti(e,n)}matches(e){return RT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function RT(r){return r.op==="and"}function CT(r){return y2(r)&&RT(r)}function y2(r){for(const e of r.filters)if(e instanceof Ti)return!1;return!0}function Nm(r){if(r instanceof xt)return r.field.canonicalString()+r.op.toString()+to(r.value);if(CT(r))return r.filters.map(e=>Nm(e)).join(",");{const e=r.filters.map(n=>Nm(n)).join(",");return`${r.op}(${e})`}}function IT(r,e){return r instanceof xt?function(s,o){return o instanceof xt&&s.op===o.op&&s.field.isEqual(o.field)&&Ei(s.value,o.value)}(r,e):r instanceof Ti?function(s,o){return o instanceof Ti&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&IT(f,o.filters[m]),!0):!1}(r,e):void Ae(19439)}function DT(r){return r instanceof xt?function(n){return`${n.field.canonicalString()} ${n.op} ${to(n.value)}`}(r):r instanceof Ti?function(n){return n.op.toString()+" {"+n.getFilters().map(DT).join(" ,")+"}"}(r):"Filter"}class v2 extends xt{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class _2 extends xt{constructor(e,n){super(e,"in",n),this.keys=xT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class E2 extends xt{constructor(e,n){super(e,"not-in",n),this.keys=xT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ve.fromName(s.referenceValue))}class T2 extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pp(n)&&Xl(n.arrayValue,this.value)}}class S2 extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class A2 extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xl(this.value.arrayValue,n)}}class b2 extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Xl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function mE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new w2(r,e,n,s,o,u,f)}function gp(r){const e=Re(r);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Nm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Nh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>to(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>to(s)).join(",")),e.Ie=n}return e.Ie}function yp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!g2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!IT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!dE(r.startAt,e.startAt)&&dE(r.endAt,e.endAt)}function Mm(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function R2(r,e,n,s,o,u,f,m){return new Vh(r,e,n,s,o,u,f,m)}function vp(r){return new Vh(r)}function pE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function C2(r){return r.collectionGroup!==null}function jl(r){const e=Re(r);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ot(Kt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new gh(u,s))}),n.has(Kt.keyField().canonicalString())||e.Ee.push(new gh(Kt.keyField(),s))}return e.Ee}function vi(r){const e=Re(r);return e.de||(e.de=I2(e,jl(r))),e.de}function I2(r,e){if(r.limitType==="F")return mE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new gh(o.field,u)});const n=r.endAt?new ph(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ph(r.startAt.position,r.startAt.inclusive):null;return mE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Vm(r,e,n){return new Vh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Ph(r,e){return yp(vi(r),vi(e))&&r.limitType===e.limitType}function OT(r){return`${gp(vi(r))}|lt:${r.limitType}`}function qa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>DT(o)).join(", ")}]`),Nh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>to(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>to(o)).join(",")),`Target(${s})`}(vi(r))}; limitType=${r.limitType})`}function kh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of jl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=fE(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,jl(s),o)||s.endAt&&!function(f,m,p){const g=fE(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,jl(s),o))}(r,e)}function D2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function NT(r){return(e,n)=>{let s=!1;for(const o of jl(r)){const u=x2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function x2(r,e,n){const s=r.field.isKeyField()?ve.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?eo(p,g):Ae(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Wr(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return gT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=new ct(ve.comparator);function nr(){return O2}const MT=new ct(ve.comparator);function Ml(...r){let e=MT;for(const n of r)e=e.insert(n.key,n);return e}function VT(r){let e=MT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Us(){return Bl()}function PT(){return Bl()}function Bl(){return new Ks(r=>r.toString(),(r,e)=>r.isEqual(e))}const N2=new ct(ve.comparator),M2=new Ot(ve.comparator);function Ue(...r){let e=M2;for(const n of r)e=e.add(n);return e}const V2=new Ot(Me);function P2(){return V2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function kT(r){return{integerValue:""+r}}function k2(r,e){return l2(e)?kT(e):_p(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(){this._=void 0}}function L2(r,e,n){return r instanceof $l?function(o,u){const f={fields:{[_T]:{stringValue:vT},[TT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&mp(u)&&(u=Mh(u)),u&&(f.fields[ET]=u),{mapValue:f}}(n,e):r instanceof Zl?UT(r,e):r instanceof Wl?jT(r,e):function(o,u){const f=LT(o,u),m=gE(f)+gE(o.Re);return Om(f)&&Om(o.Re)?kT(m):_p(o.serializer,m)}(r,e)}function U2(r,e,n){return r instanceof Zl?UT(r,e):r instanceof Wl?jT(r,e):n}function LT(r,e){return r instanceof yh?function(s){return Om(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class $l extends Lh{}class Zl extends Lh{constructor(e){super(),this.elements=e}}function UT(r,e){const n=BT(e);for(const s of r.elements)n.some(o=>Ei(o,s))||n.push(s);return{arrayValue:{values:n}}}class Wl extends Lh{constructor(e){super(),this.elements=e}}function jT(r,e){let n=BT(e);for(const s of r.elements)n=n.filter(o=>!Ei(o,s));return{arrayValue:{values:n}}}class yh extends Lh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function gE(r){return vt(r.integerValue||r.doubleValue)}function BT(r){return pp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,n){this.field=e,this.transform=n}}function B2(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Zl&&o instanceof Zl||s instanceof Wl&&o instanceof Wl?Ja(s.elements,o.elements,Ei):s instanceof yh&&o instanceof yh?Ei(s.Re,o.Re):s instanceof $l&&o instanceof $l}(r.transform,e.transform)}class z2{constructor(e,n){this.version=e,this.transformResults=n}}class Ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Uh{}function zT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ep(r.key,Ln.none()):new ou(r.key,r.data,Ln.none());{const n=r.data,s=hn.empty();let o=new Ot(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Jr(r.key,s,new Sn(o.toArray()),Ln.none())}}function q2(r,e,n){r instanceof ou?function(o,u,f){const m=o.value.clone(),p=vE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof Jr?function(o,u,f){if(!eh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=vE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(qT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function zl(r,e,n,s){return r instanceof ou?function(u,f,m,p){if(!eh(u.precondition,f))return m;const g=u.value.clone(),E=_E(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof Jr?function(u,f,m,p){if(!eh(u.precondition,f))return m;const g=_E(u.fieldTransforms,p,f),E=f.data;return E.setAll(qT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(r,e,n,s):function(u,f,m){return eh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function H2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=LT(s.transform,o||null);u!=null&&(n===null&&(n=hn.empty()),n.set(s.field,u))}return n||null}function yE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ja(s,o,(u,f)=>B2(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ou extends Uh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Jr extends Uh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function qT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function vE(r,e,n){const s=new Map;Ke(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,U2(f,m,n[o]))}return s}function _E(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,L2(u,f,e))}return s}class Ep extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class F2 extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&q2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=zl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=zl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=PT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=zT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&Ja(this.mutations,e.mutations,(n,s)=>yE(n,s))&&Ja(this.baseMutations,e.baseMutations,(n,s)=>yE(n,s))}}class Tp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return N2}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Tp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,qe;function Y2(r){switch(r){case ae.OK:return Ae(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Ae(15467,{code:r})}}function HT(r){if(r===void 0)return tr("GRPC error has no .code"),ae.UNKNOWN;switch(r){case bt.OK:return ae.OK;case bt.CANCELLED:return ae.CANCELLED;case bt.UNKNOWN:return ae.UNKNOWN;case bt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case bt.INTERNAL:return ae.INTERNAL;case bt.UNAVAILABLE:return ae.UNAVAILABLE;case bt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case bt.NOT_FOUND:return ae.NOT_FOUND;case bt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case bt.ABORTED:return ae.ABORTED;case bt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case bt.DATA_LOSS:return ae.DATA_LOSS;default:return Ae(39323,{code:r})}}(qe=bt||(bt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=new Hr([4294967295,4294967295],0);function EE(r){const e=dT().encode(r),n=new sT;return n.update(e),new Uint8Array(n.digest())}function TE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Hr([n,s],0),new Hr([o,u],0)]}class Sp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Vl(`Invalid padding: ${n}`);if(s<0)throw new Vl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Vl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Vl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Hr.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(Hr.fromNumber(s)));return o.compare(X2)===1&&(o=new Hr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=EE(e),[s,o]=TE(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Sp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.pe===0)return;const n=EE(e),[s,o]=TE(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new jh(we.min(),o,new ct(Me),nr(),Ue())}}class lu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new lu(s,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class FT{constructor(e,n){this.targetId=e,this.Ce=n}}class GT{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class SE{constructor(){this.Fe=0,this.Me=AE(),this.xe=Yt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ue(),n=Ue(),s=Ue();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ae(38017,{changeType:u})}}),new lu(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=AE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ke(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class $2{constructor(e){this.ze=e,this.je=new Map,this.He=nr(),this.Je=zc(),this.Ye=zc(),this.Ze=new ct(Me)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(Mm(u))if(s===0){const f=new ve(u.path);this.tt(n,f,en.newNoDocument(f,we.min()))}else Ke(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const m=this.ct(e),p=m?this.lt(m,e,f):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Qr(s).toUint8Array()}catch(p){if(p instanceof yT)return Wa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Sp(f,o,u)}catch(p){return Wa(p instanceof Vl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&Mm(m.target)){const p=new ve(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,en.newNoDocument(p,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=Ue();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new jh(e,n,this.Ze,this.He,s);return this.He=nr(),this.Je=zc(),this.Ye=zc(),this.Ze=new ct(Me),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new SE,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ot(Me),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ot(Me),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new SE),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function zc(){return new ct(ve.comparator)}function AE(){return new ct(ve.comparator)}const Z2={asc:"ASCENDING",desc:"DESCENDING"},W2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},J2={and:"AND",or:"OR"};class eD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pm(r,e){return r.useProto3Json||Nh(e)?e:{value:e}}function vh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function tD(r,e){return vh(r,e.toTimestamp())}function _i(r){return Ke(!!r,49232),we.fromTimestamp(function(n){const s=Kr(n);return new rt(s.seconds,s.nanos)}(r))}function Ap(r,e){return km(r,e).canonicalString()}function km(r,e){const n=function(o){return new ot(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function QT(r){const e=ot.fromString(r);return Ke(WT(e),10190,{key:e.toString()}),e}function Lm(r,e){return Ap(r.databaseId,e.path)}function dm(r,e){const n=QT(e);if(n.get(1)!==r.databaseId.projectId)throw new ye(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ye(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ve(XT(n))}function YT(r,e){return Ap(r.databaseId,e)}function nD(r){const e=QT(r);return e.length===4?ot.emptyPath():XT(e)}function Um(r){return new ot(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function XT(r){return Ke(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function bE(r,e,n){return{name:Lm(r,e),fields:n.value.mapValue.fields}}function iD(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Ke(E===void 0||typeof E=="string",58123),Yt.fromBase64String(E||"")):(Ke(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Yt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?ae.UNKNOWN:HT(g.code);return new ye(E,g.message||"")}(f);n=new GT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=dm(r,s.document.name),u=_i(s.document.updateTime),f=s.document.createTime?_i(s.document.createTime):we.min(),m=new hn({mapValue:{fields:s.document.fields}}),p=en.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new th(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=dm(r,s.document),u=s.readTime?_i(s.readTime):we.min(),f=en.newNoDocument(o,u),m=s.removedTargetIds||[];n=new th([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=dm(r,s.document),u=s.removedTargetIds||[];n=new th([],u,o,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new Q2(o,u),m=s.targetId;n=new FT(m,f)}}return n}function rD(r,e){let n;if(e instanceof ou)n={update:bE(r,e.key,e.value)};else if(e instanceof Ep)n={delete:Lm(r,e.key)};else if(e instanceof Jr)n={update:bE(r,e.key,e.data),updateMask:dD(e.fieldMask)};else{if(!(e instanceof F2))return Ae(16599,{ft:e.type});n={verify:Lm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof $l)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Zl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Wl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof yh)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Ae(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:tD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)}(r,e.precondition)),n}function sD(r,e){return r&&r.length>0?(Ke(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?_i(o.updateTime):_i(u);return f.isEqual(we.min())&&(f=_i(u)),new z2(f,o.transformResults||[])}(n,e))):[]}function aD(r,e){return{documents:[YT(r,e.path)]}}function oD(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=YT(r,o);const u=function(g){if(g.length!==0)return ZT(Ti.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(A){return{field:Ha(A.field),direction:cD(A.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Pm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:o}}function lD(r){let e=nD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(w){const A=$T(w);return A instanceof Ti&&CT(A)?A.getFilters():[A]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(A=>function(O){return new gh(Fa(O.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(A))}(n.orderBy));let m=null;n.limit&&(m=function(w){let A;return A=typeof w=="object"?w.value:w,Nh(A)?null:A}(n.limit));let p=null;n.startAt&&(p=function(w){const A=!!w.before,k=w.values||[];return new ph(k,A)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const A=!w.before,k=w.values||[];return new ph(k,A)}(n.endAt)),R2(e,o,f,u,m,"F",p,g)}function uD(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $T(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Fa(n.unaryFilter.field);return xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Fa(n.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Fa(n.unaryFilter.field);return xt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Fa(n.unaryFilter.field);return xt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(r):r.fieldFilter!==void 0?function(n){return xt.create(Fa(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Ti.create(n.compositeFilter.filters.map(s=>$T(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(n.compositeFilter.op))}(r):Ae(30097,{filter:r})}function cD(r){return Z2[r]}function hD(r){return W2[r]}function fD(r){return J2[r]}function Ha(r){return{fieldPath:r.canonicalString()}}function Fa(r){return Kt.fromServerFormat(r.fieldPath)}function ZT(r){return r instanceof xt?function(n){if(n.op==="=="){if(hE(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NAN"}};if(cE(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hE(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NAN"}};if(cE(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(n.field),op:hD(n.op),value:n.value}}}(r):r instanceof Ti?function(n){const s=n.getFilters().map(o=>ZT(o));return s.length===1?s[0]:{compositeFilter:{op:fD(n.op),filters:s}}}(r):Ae(54877,{filter:r})}function dD(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n,s,o,u=we.min(),f=we.min(),m=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.wt=e}}function pD(r){const e=lD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Vm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.Cn=new yD}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Gr.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Gr.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class yD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ot(ot.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ot(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JT=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(JT,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new no(0)}static lr(){return new no(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="LruGarbageCollector",vD=1048576;function CE([r,e],[n,s]){const o=Me(r,n);return o===0?Me(e,s):o}class _D{constructor(e){this.Er=e,this.buffer=new Ot(CE),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();CE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ED{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){fe(RE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){go(n)?fe(RE,"Ignoring IndexedDB error during garbage collection: ",n):await po(n)}await this.mr(3e5)})}}class TD{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Oh.le);const s=new _D(n);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(wE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wE):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),za()<=Le.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function SD(r,e){return new TD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.changes=new Ks(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&zl(s.mutation,o,Sn.empty(),rt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ue()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ue()){const o=Us();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Ml();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Us();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ue()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=nr();const f=Bl(),m=function(){return Bl()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Jr)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),zl(E.mutation,g,E.mutation.getFieldMask(),rt.now())):f.set(g.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var w;return m.set(g,new bD(E,(w=f.get(g))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Bl();let o=new ct((f,m)=>f-m),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Sn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const w=(o.get(m.batchId)||Ue()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,w=PT();E.forEach(A=>{if(!u.has(A)){const k=zT(n.get(A),s.get(A));k!==null&&w.set(A,k),u=u.add(A)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return ie.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ve.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):C2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(Us());let m=Kl,p=u;return f.next(g=>ie.forEach(g,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?ie.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{p=p.insert(E,A)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ue())).next(E=>({batchId:m,changes:VT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(s=>{let o=Ml();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ml();return this.indexManager.getCollectionParents(e,u).next(m=>ie.forEach(m,p=>{const g=function(w,A){return new Vh(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((w,A)=>{f=f.insert(w,A)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,en.newInvalidDocument(E)))});let m=Ml();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&zl(E.mutation,g,Sn.empty(),rt.now()),kh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ie.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:_i(o.createTime)}}(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:pD(o.bundledQuery),readTime:_i(o.readTime)}}(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.overlays=new ct(ve.comparator),this.Qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Us();return ie.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=Us(),u=n.length+1,f=new ve(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Us(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Us(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return ie.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new K2(n,s));let u=this.Qr.get(n);u===void 0&&(u=Ue(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(){this.$r=new Ot(jt.Ur),this.Kr=new Ot(jt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new jt(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new jt(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new ve(new ot([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.Kr.forEachInRange([s,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ve(new ot([])),s=new jt(n,e),o=new jt(n,e+1);let u=Ue();return this.Kr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new jt(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ve.comparator(e.key,n.key)||Me(e.Zr,n.Zr)}static Wr(e,n){return Me(e.Zr,n.Zr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ot(jt.Ur)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new G2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Xr=this.Xr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(f)}lookupMutationBatch(e,n){return ie.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?dp:this.nr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],f=>{const m=this.ei(f.Zr);u.push(m)}),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ot(Me);return n.forEach(o=>{const u=new jt(o,0),f=new jt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],m=>{s=s.add(m.Zr)})}),ie.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const f=new jt(new ve(u),0);let m=new Ot(Me);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Zr)),!0)},f),ie.resolve(this.ni(m))}ni(e){const n=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ke(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return ie.forEach(n.mutations,o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new jt(n,0),o=this.Xr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.ii=e,this.docs=function(){return new ct(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=nr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))}),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=nr();const f=n.path,m=new ve(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||r2(i2(E),s)<=0||(o.has(E.key)||kh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ae(9500)}si(e,n){return ie.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new OD(this)}getSize(e){return ie.resolve(this.size)}}class OD extends AD{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),ie.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.persistence=e,this.oi=new Ks(n=>gp(n),yp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this._i=0,this.ai=new bp,this.targetCount=0,this.ui=no.cr()}forEachTarget(e,n){return this.oi.forEach((s,o)=>n(o)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),ie.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new no(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Tr(n),ie.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.oi.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ie.waitFor(u).next(()=>o)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n){this.ci={},this.overlays={},this.li=new Oh(0),this.hi=!1,this.hi=!0,this.Pi=new ID,this.referenceDelegate=e(this),this.Ti=new ND(this),this.indexManager=new gD,this.remoteDocumentCache=function(o){return new xD(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new mD(n),this.Ei=new RD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new DD(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new MD(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return ie.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class MD extends a2{constructor(e){super(),this.currentSequenceNumber=e}}class wp{constructor(e){this.persistence=e,this.Vi=new bp,this.mi=null}static fi(e){return new wp(e)}get gi(){if(this.mi)return this.mi;throw Ae(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.gi,s=>{const o=ve.fromPath(s);return this.pi(e,o).next(u=>{u||n.removeEntry(o,we.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ie.or([()=>ie.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class _h{constructor(e,n){this.persistence=e,this.yi=new Ks(s=>u2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=SD(this,n)}static fi(e,n){return new _h(e,n)}di(){}Ai(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}br(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return ie.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(u=>u?ie.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,f=>this.Dr(e,f,n).next(m=>{m||(s++,u.removeEntry(f,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ie.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Wc(e.data.value)),n}Dr(e,n,s){return ie.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ds=s,this.As=o}static Rs(e,n){let s=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Rp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return dw()?8:o2(tn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ws(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.bs(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new VD;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.fs)return this.Ds(e,n,f,m.size)})}).next(()=>u.result)}Ds(e,n,s,o){return s.documentReadCount<this.gs?(za()<=Le.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ie.resolve()):(za()<=Le.DEBUG&&fe("QueryEngine","Query:",qa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(za()<=Le.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vi(n))):ie.resolve())}ws(e,n){if(pE(n))return ie.resolve(null);let s=vi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Vm(n,null,"F"),s=vi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ue(...u);return this.ys.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.vs(n,m);return this.Cs(n,g,f,p.readTime)?this.ws(e,Vm(n,null,"F")):this.Fs(e,g,n,p)}))})))}bs(e,n,s,o){return pE(n)||o.isEqual(we.min())?ie.resolve(null):this.ys.getDocuments(e,s).next(u=>{const f=this.vs(n,u);return this.Cs(n,f,s,o)?ie.resolve(null):(za()<=Le.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qa(n)),this.Fs(e,f,n,n2(o,Kl)).next(m=>m))})}vs(e,n){let s=new Ot(NT(e));return n.forEach((o,u)=>{kh(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return za()<=Le.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",qa(n)),this.ys.getDocumentsMatchingQuery(e,n,Gr.min(),s)}Fs(e,n,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="LocalStore",kD=3e8;class LD{constructor(e,n,s,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new ct(Me),this.Os=new Ks(u=>gp(u),yp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wD(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function UD(r,e,n,s){return new LD(r,e,n,s)}async function tS(r,e){const n=Re(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ue();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({ks:g,removedBatchIds:f,addedBatchIds:m}))})})}function jD(r,e){const n=Re(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const w=g.batch,A=w.keys();let k=ie.resolve();return A.forEach(O=>{k=k.next(()=>E.getEntry(p,O)).next(z=>{const N=g.docVersions.get(O);Ke(N!==null,48541),z.version.compareTo(N)<0&&(w.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),E.addEntry(z)))})}),k.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ue();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function nS(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function BD(r,e){const n=Re(r),s=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];e.targetChanges.forEach((E,w)=>{const A=o.get(w);if(!A)return;m.push(n.Ti.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.Ti.addMatchingKeys(u,E.addedDocuments,w)));let k=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?k=k.withResumeToken(Yt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(w,k),function(z,N,q){return z.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=kD?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(A,k,E)&&m.push(n.Ti.updateTargetData(u,k))});let p=nr(),g=Ue();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(zD(u,f,e.documentUpdates).next(E=>{p=E.qs,g=E.Qs})),!s.isEqual(we.min())){const E=n.Ti.getLastRemoteSnapshotVersion(u).next(w=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return ie.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.xs=o,u))}function zD(r,e,n){let s=Ue(),o=Ue();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=nr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):fe(Cp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{qs:f,Qs:o}})}function qD(r,e){const n=Re(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=dp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function HD(r,e){const n=Re(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,e).next(u=>u?(o=u,ie.resolve(o)):n.Ti.allocateTargetId(s).next(f=>(o=new Ur(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function jm(r,e,n){const s=Re(r),o=s.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!go(f))throw f;fe(Cp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function IE(r,e,n){const s=Re(r);let o=we.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const w=Re(p),A=w.Os.get(E);return A!==void 0?ie.resolve(w.xs.get(A)):w.Ti.getTargetData(g,E)}(s,f,vi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,e,n?o:we.min(),n?u:Ue())).next(m=>(FD(s,D2(e),m),{documents:m,$s:u})))}function FD(r,e,n){let s=r.Ns.get(e)||we.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Ns.set(e,s)}class DE{constructor(){this.activeTargetIds=P2()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GD{constructor(){this.xo=new DE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new DE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="ConnectivityMonitor";class OE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){fe(xE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){fe(xE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc=null;function Bm(){return qc===null?qc=function(){return 268435456+Math.round(2147483648*Math.random())}():qc++,"0x"+qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="RestConnection",QD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YD{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===dh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,n,s,o,u){const f=Bm(),m=this.jo(e,n.toUriEncodedString());fe(mm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:g}=new URL(m),E=uo(g);return this.Jo(e,m,p,s,E).then(w=>(fe(mm,`Received RPC '${e}' ${f}: `,w),w),w=>{throw Wa(mm,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",s),w})}Yo(e,n,s,o,u,f){return this.zo(e,n,s,o,u)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const s=QD[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class $D extends YD{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Bm();return new Promise((m,p)=>{const g=new aT;g.setWithCredentials(!0),g.listenOnce(oT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Zc.NO_ERROR:const w=g.getResponseJson();fe(Wt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case Zc.TIMEOUT:fe(Wt,`RPC '${e}' ${f} timed out`),p(new ye(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const A=g.getStatus();if(fe(Wt,`RPC '${e}' ${f} failed with status:`,A,"response text:",g.getResponseText()),A>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const O=k==null?void 0:k.error;if(O&&O.status&&O.message){const z=function(q){const $=q.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf($)>=0?$:ae.UNKNOWN}(O.status);p(new ye(z,O.message))}else p(new ye(ae.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ye(ae.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{h_:e,streamId:f,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{fe(Wt,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);fe(Wt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)})}I_(e,n,s){const o=Bm(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=cT(),m=uT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");fe(Wt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);this.E_(w);let A=!1,k=!1;const O=new XD({Zo:N=>{k?fe(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,N):(A||(fe(Wt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),fe(Wt,`RPC '${e}' stream ${o} sending:`,N),w.send(N))},Xo:()=>w.close()}),z=(N,q,$)=>{N.listen(q,X=>{try{$(X)}catch(ee){setTimeout(()=>{throw ee},0)}})};return z(w,Nl.EventType.OPEN,()=>{k||(fe(Wt,`RPC '${e}' stream ${o} transport opened.`),O.__())}),z(w,Nl.EventType.CLOSE,()=>{k||(k=!0,fe(Wt,`RPC '${e}' stream ${o} transport closed`),O.u_(),this.d_(w))}),z(w,Nl.EventType.ERROR,N=>{k||(k=!0,Wa(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,N.name,"Message:",N.message),O.u_(new ye(ae.UNAVAILABLE,"The operation could not be completed")))}),z(w,Nl.EventType.MESSAGE,N=>{var q;if(!k){const $=N.data[0];Ke(!!$,16349);const X=$,ee=(X==null?void 0:X.error)||((q=X[0])===null||q===void 0?void 0:q.error);if(ee){fe(Wt,`RPC '${e}' stream ${o} received error:`,ee);const Y=ee.status;let ce=function(C){const M=bt[C];if(M!==void 0)return HT(M)}(Y),I=ee.message;ce===void 0&&(ce=ae.INTERNAL,I="Unknown error status: "+Y+" with message "+ee.message),k=!0,O.u_(new ye(ce,I)),w.close()}else fe(Wt,`RPC '${e}' stream ${o} received:`,$),O.c_($)}}),z(m,lT.STAT_EVENT,N=>{N.stat===Im.PROXY?fe(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):N.stat===Im.NOPROXY&&fe(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.a_()},0),O}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function pm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(r){return new eD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.A_=s,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="PersistentStream";class rS{constructor(e,n,s,o,u,f,m,p){this.xi=e,this.S_=s,this.D_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new iS(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(tr(n.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===n&&this.z_(s,o)},s=>{e(()=>{const o=new ye(ae.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(e,n){const s=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return fe(NE,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(fe(NE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZD extends rS{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=iD(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?_i(f.readTime):we.min()}(e);return this.listener.Y_(n,s)}Z_(e){const n={};n.database=Um(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Mm(p)?{documents:aD(u,p)}:{query:oD(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=KT(u,f.resumeToken);const g=Pm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=vh(u,f.snapshotVersion.toTimestamp());const g=Pm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=uD(this.serializer,e);s&&(n.labels=s),this.Q_(n)}X_(e){const n={};n.database=Um(this.serializer),n.removeTarget=e,this.Q_(n)}}class WD extends rS{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=sD(e.writeResults,e.commitTime),s=_i(e.commitTime);return this.listener.ra(s,n)}ia(){const e={};e.database=Um(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>rD(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{}class ex extends JD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new ye(ae.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(e,km(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(ae.UNKNOWN,u.toString())})}Yo(e,n,s,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Yo(e,km(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ye(ae.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class tx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(tr(n),this.ua=!1):fe("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="RemoteStore";class nx{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(f=>{s.enqueueAndForget(async()=>{Qs(this)&&(fe(Fs,"Restarting streams for network reachability change."),await async function(p){const g=Re(p);g.da.add(4),await uu(g),g.Va.set("Unknown"),g.da.delete(4),await zh(g)}(this))})}),this.Va=new tx(s,o)}}async function zh(r){if(Qs(r))for(const e of r.Aa)await e(!0)}async function uu(r){for(const e of r.Aa)await e(!1)}function sS(r,e){const n=Re(r);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Op(n)?xp(n):yo(n).N_()&&Dp(n,e))}function Ip(r,e){const n=Re(r),s=yo(n);n.Ea.delete(e),s.N_()&&aS(n,e),n.Ea.size===0&&(s.N_()?s.k_():Qs(n)&&n.Va.set("Unknown"))}function Dp(r,e){if(r.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yo(r).Z_(e)}function aS(r,e){r.ma.Ke(e),yo(r).X_(e)}function xp(r){r.ma=new $2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Ea.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),yo(r).start(),r.Va.ca()}function Op(r){return Qs(r)&&!yo(r).O_()&&r.Ea.size>0}function Qs(r){return Re(r).da.size===0}function oS(r){r.ma=void 0}async function ix(r){r.Va.set("Online")}async function rx(r){r.Ea.forEach((e,n)=>{Dp(r,e)})}async function sx(r,e){oS(r),Op(r)?(r.Va.Pa(e),xp(r)):r.Va.set("Unknown")}async function ax(r,e,n){if(r.Va.set("Online"),e instanceof GT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ea.delete(m),o.ma.removeTarget(m))}(r,e)}catch(s){fe(Fs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Eh(r,s)}else if(e instanceof th?r.ma.Xe(e):e instanceof FT?r.ma.ot(e):r.ma.nt(e),!n.isEqual(we.min()))try{const s=await nS(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.ma.It(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ea.get(g);E&&u.Ea.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.Ea.get(p);if(!E)return;u.Ea.set(p,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),aS(u,p);const w=new Ur(E.target,p,g,E.sequenceNumber);Dp(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){fe(Fs,"Failed to raise snapshot:",s),await Eh(r,s)}}async function Eh(r,e,n){if(!go(e))throw e;r.da.add(1),await uu(r),r.Va.set("Offline"),n||(n=()=>nS(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{fe(Fs,"Retrying IndexedDB access"),await n(),r.da.delete(1),await zh(r)})}function lS(r,e){return e().catch(n=>Eh(r,n,e))}async function qh(r){const e=Re(r),n=Xr(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:dp;for(;ox(e);)try{const o=await qD(e.localStore,s);if(o===null){e.Ia.length===0&&n.k_();break}s=o.batchId,lx(e,o)}catch(o){await Eh(e,o)}uS(e)&&cS(e)}function ox(r){return Qs(r)&&r.Ia.length<10}function lx(r,e){r.Ia.push(e);const n=Xr(r);n.N_()&&n.ea&&n.ta(e.mutations)}function uS(r){return Qs(r)&&!Xr(r).O_()&&r.Ia.length>0}function cS(r){Xr(r).start()}async function ux(r){Xr(r).ia()}async function cx(r){const e=Xr(r);for(const n of r.Ia)e.ta(n.mutations)}async function hx(r,e,n){const s=r.Ia.shift(),o=Tp.from(s,e,n);await lS(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await qh(r)}async function fx(r,e){e&&Xr(r).ea&&await async function(s,o){if(function(f){return Y2(f)&&f!==ae.ABORTED}(o.code)){const u=s.Ia.shift();Xr(s).L_(),await lS(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await qh(s)}}(r,e),uS(r)&&cS(r)}async function ME(r,e){const n=Re(r);n.asyncQueue.verifyOperationInProgress(),fe(Fs,"RemoteStore received new credentials");const s=Qs(n);n.da.add(3),await uu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await zh(n)}async function dx(r,e){const n=Re(r);e?(n.da.delete(2),await zh(n)):e||(n.da.add(2),await uu(n),n.Va.set("Unknown"))}function yo(r){return r.fa||(r.fa=function(n,s,o){const u=Re(n);return u.oa(),new ZD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:ix.bind(null,r),n_:rx.bind(null,r),i_:sx.bind(null,r),Y_:ax.bind(null,r)}),r.Aa.push(async e=>{e?(r.fa.L_(),Op(r)?xp(r):r.Va.set("Unknown")):(await r.fa.stop(),oS(r))})),r.fa}function Xr(r){return r.ga||(r.ga=function(n,s,o){const u=Re(n);return u.oa(),new WD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:ux.bind(null,r),i_:fx.bind(null,r),na:cx.bind(null,r),ra:hx.bind(null,r)}),r.Aa.push(async e=>{e?(r.ga.L_(),await qh(r)):(await r.ga.stop(),r.Ia.length>0&&(fe(Fs,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Np(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mp(r,e){if(tr("AsyncQueue",`${e}: ${r}`),go(r))return new ye(ae.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{static emptySet(e){return new Xa(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=Ml(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Xa;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(){this.pa=new ct(ve.comparator)}track(e){const n=e.doc.key,s=this.pa.get(n);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(n,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(n):e.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Ae(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,s)=>{e.push(s)}),e}}class io{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new io(e,n,Xa.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class px{constructor(){this.queries=PE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Re(n),u=o.queries;o.queries=PE(),u.forEach((f,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new ye(ae.ABORTED,"Firestore shutting down"))}}function PE(){return new Ks(r=>OT(r),Ph)}async function hS(r,e){const n=Re(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Da()&&e.va()&&(s=2):(u=new mx,s=e.va()?0:1);try{switch(s){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Mp(f,`Initialization of query '${qa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.Fa(n.onlineState),u.ba&&e.Ma(u.ba)&&Vp(n)}async function fS(r,e){const n=Re(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.va()?0:1:!u.Da()&&e.va()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function gx(r,e){const n=Re(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Ma(o)&&(s=!0);f.ba=o}}s&&Vp(n)}function yx(r,e,n){const s=Re(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Vp(r){r.Ca.forEach(e=>{e.next()})}var zm,kE;(kE=zm||(zm={})).xa="default",kE.Cache="cache";class dS{constructor(e,n,s){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new io(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==zm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.key=e}}class pS{constructor(e){this.key=e}}class vx{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.Za=NT(e),this.Xa=new Xa(this.Za)}get eu(){return this.Ha}tu(e,n){const s=n?n.nu:new VE,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const A=o.get(E),k=kh(this.query,w)?w:null,O=!!A&&this.mutatedKeys.has(A.key),z=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let N=!1;A&&k?A.data.isEqual(k.data)?O!==z&&(s.track({type:3,doc:k}),N=!0):this.ru(A,k)||(s.track({type:2,doc:k}),N=!0,(p&&this.Za(k,p)>0||g&&this.Za(k,g)<0)&&(m=!0)):!A&&k?(s.track({type:0,doc:k}),N=!0):A&&!k&&(s.track({type:1,doc:A}),N=!0,(p||g)&&(m=!0)),N&&(k?(f=f.add(k),u=z?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Xa:f,nu:s,Cs:m,mutatedKeys:u}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const f=e.nu.wa();f.sort((E,w)=>function(k,O){const z=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:N})}};return z(k)-z(O)}(E.type,w.type)||this.Za(E.doc,w.doc)),this.iu(s),o=o!=null&&o;const m=n&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Ja;return this.Ja=p,f.length!==0||g?{snapshot:new io(this.query,e.Xa,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new VE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return e.forEach(s=>{this.Ya.has(s)||n.push(new pS(s))}),this.Ya.forEach(s=>{e.has(s)||n.push(new mS(s))}),n}au(e){this.Ha=e.$s,this.Ya=Ue();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return io.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Pp="SyncEngine";class _x{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Ex{constructor(e){this.key=e,this.cu=!1}}class Tx{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new Ks(m=>OT(m),Ph),this.Pu=new Map,this.Tu=new Set,this.Iu=new ct(ve.comparator),this.Eu=new Map,this.du=new bp,this.Au={},this.Ru=new Map,this.Vu=no.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function Sx(r,e,n=!0){const s=TS(r);let o;const u=s.hu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await gS(s,e,n,!0),o}async function Ax(r,e){const n=TS(r);await gS(n,e,!0,!1)}async function gS(r,e,n,s){const o=await HD(r.localStore,vi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await bx(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&sS(r.remoteStore,o),m}async function bx(r,e,n,s,o){r.fu=(w,A,k)=>async function(z,N,q,$){let X=N.view.tu(q);X.Cs&&(X=await IE(z.localStore,N.query,!1).then(({documents:I})=>N.view.tu(I,X)));const ee=$&&$.targetChanges.get(N.targetId),Y=$&&$.targetMismatches.get(N.targetId)!=null,ce=N.view.applyChanges(X,z.isPrimaryClient,ee,Y);return UE(z,N.targetId,ce.ou),ce.snapshot}(r,w,A,k);const u=await IE(r.localStore,e,!0),f=new vx(e,u.$s),m=f.tu(u.documents),p=lu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);UE(r,n,g.ou);const E=new _x(e,n,f);return r.hu.set(e,E),r.Pu.has(n)?r.Pu.get(n).push(e):r.Pu.set(n,[e]),g.snapshot}async function wx(r,e,n){const s=Re(r),o=s.hu.get(e),u=s.Pu.get(o.targetId);if(u.length>1)return s.Pu.set(o.targetId,u.filter(f=>!Ph(f,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await jm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Ip(s.remoteStore,o.targetId),qm(s,o.targetId)}).catch(po)):(qm(s,o.targetId),await jm(s.localStore,o.targetId,!0))}async function Rx(r,e){const n=Re(r),s=n.hu.get(e),o=n.Pu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ip(n.remoteStore,s.targetId))}async function Cx(r,e,n){const s=Vx(r);try{const o=await function(f,m){const p=Re(f),g=rt.now(),E=m.reduce((k,O)=>k.add(O.key),Ue());let w,A;return p.persistence.runTransaction("Locally write mutations","readwrite",k=>{let O=nr(),z=Ue();return p.Bs.getEntries(k,E).next(N=>{O=N,O.forEach((q,$)=>{$.isValidDocument()||(z=z.add(q))})}).next(()=>p.localDocuments.getOverlayedDocuments(k,O)).next(N=>{w=N;const q=[];for(const $ of m){const X=H2($,w.get($.key).overlayedDocument);X!=null&&q.push(new Jr($.key,X,bT(X.value.mapValue),Ln.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,q,m)}).next(N=>{A=N;const q=N.applyToLocalDocumentSet(w,z);return p.documentOverlayCache.saveOverlays(k,N.batchId,q)})}).then(()=>({batchId:A.batchId,changes:VT(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Au[f.currentUser.toKey()];g||(g=new ct(Me)),g=g.insert(m,p),f.Au[f.currentUser.toKey()]=g}(s,o.batchId,n),await cu(s,o.changes),await qh(s.remoteStore)}catch(o){const u=Mp(o,"Failed to persist write");n.reject(u)}}async function yS(r,e){const n=Re(r);try{const s=await BD(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Eu.get(u);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.cu=!0:o.modifiedDocuments.size>0?Ke(f.cu,14607):o.removedDocuments.size>0&&(Ke(f.cu,42227),f.cu=!1))}),await cu(n,s,e)}catch(s){await po(s)}}function LE(r,e,n){const s=Re(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.hu.forEach((u,f)=>{const m=f.view.Fa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Re(f);p.onlineState=m;let g=!1;p.queries.forEach((E,w)=>{for(const A of w.Sa)A.Fa(m)&&(g=!0)}),g&&Vp(p)}(s.eventManager,e),o.length&&s.lu.Y_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Ix(r,e,n){const s=Re(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new ct(ve.comparator);f=f.insert(u,en.newNoDocument(u,we.min()));const m=Ue().add(u),p=new jh(we.min(),new Map,new ct(Me),f,m);await yS(s,p),s.Iu=s.Iu.remove(u),s.Eu.delete(e),kp(s)}else await jm(s.localStore,e,!1).then(()=>qm(s,e,n)).catch(po)}async function Dx(r,e){const n=Re(r),s=e.batch.batchId;try{const o=await jD(n.localStore,e);_S(n,s,null),vS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await cu(n,o)}catch(o){await po(o)}}async function xx(r,e,n){const s=Re(r);try{const o=await function(f,m){const p=Re(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(w=>(Ke(w!==null,37113),E=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);_S(s,e,n),vS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await cu(s,o)}catch(o){await po(o)}}function vS(r,e){(r.Ru.get(e)||[]).forEach(n=>{n.resolve()}),r.Ru.delete(e)}function _S(r,e,n){const s=Re(r);let o=s.Au[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Au[s.currentUser.toKey()]=o}}function qm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Pu.get(e))r.hu.delete(s),n&&r.lu.gu(s,n);r.Pu.delete(e),r.isPrimaryClient&&r.du.Hr(e).forEach(s=>{r.du.containsKey(s)||ES(r,s)})}function ES(r,e){r.Tu.delete(e.path.canonicalString());const n=r.Iu.get(e);n!==null&&(Ip(r.remoteStore,n),r.Iu=r.Iu.remove(e),r.Eu.delete(n),kp(r))}function UE(r,e,n){for(const s of n)s instanceof mS?(r.du.addReference(s.key,e),Ox(r,s)):s instanceof pS?(fe(Pp,"Document no longer in limbo: "+s.key),r.du.removeReference(s.key,e),r.du.containsKey(s.key)||ES(r,s.key)):Ae(19791,{pu:s})}function Ox(r,e){const n=e.key,s=n.path.canonicalString();r.Iu.get(n)||r.Tu.has(s)||(fe(Pp,"New document in limbo: "+n),r.Tu.add(s),kp(r))}function kp(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const e=r.Tu.values().next().value;r.Tu.delete(e);const n=new ve(ot.fromString(e)),s=r.Vu.next();r.Eu.set(s,new Ex(n)),r.Iu=r.Iu.insert(n,s),sS(r.remoteStore,new Ur(vi(vp(n.path)),s,"TargetPurposeLimboResolution",Oh.le))}}async function cu(r,e,n){const s=Re(r),o=[],u=[],f=[];s.hu.isEmpty()||(s.hu.forEach((m,p)=>{f.push(s.fu(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Rp.Rs(p.targetId,g);u.push(w)}}))}),await Promise.all(f),s.lu.Y_(o),await async function(p,g){const E=Re(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ie.forEach(g,A=>ie.forEach(A.ds,k=>E.persistence.referenceDelegate.addReference(w,A.targetId,k)).next(()=>ie.forEach(A.As,k=>E.persistence.referenceDelegate.removeReference(w,A.targetId,k)))))}catch(w){if(!go(w))throw w;fe(Cp,"Failed to update sequence numbers: "+w)}for(const w of g){const A=w.targetId;if(!w.fromCache){const k=E.xs.get(A),O=k.snapshotVersion,z=k.withLastLimboFreeSnapshotVersion(O);E.xs=E.xs.insert(A,z)}}}(s.localStore,u))}async function Nx(r,e){const n=Re(r);if(!n.currentUser.isEqual(e)){fe(Pp,"User change. New user:",e.toKey());const s=await tS(n.localStore,e);n.currentUser=e,function(u,f){u.Ru.forEach(m=>{m.forEach(p=>{p.reject(new ye(ae.CANCELLED,f))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await cu(n,s.ks)}}function Mx(r,e){const n=Re(r),s=n.Eu.get(e);if(s&&s.cu)return Ue().add(s.key);{let o=Ue();const u=n.Pu.get(e);if(!u)return o;for(const f of u){const m=n.hu.get(f);o=o.unionWith(m.view.eu)}return o}}function TS(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=yS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ix.bind(null,e),e.lu.Y_=gx.bind(null,e.eventManager),e.lu.gu=yx.bind(null,e.eventManager),e}function Vx(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Dx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xx.bind(null,e),e}class Th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return UD(this.persistence,new PD,e.initialUser,this.serializer)}Su(e){return new eS(wp.fi,this.serializer)}bu(e){return new GD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Th.provider={build:()=>new Th};class Px extends Th{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Ke(this.persistence.referenceDelegate instanceof _h,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ED(s,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new eS(s=>_h.fi(s,n),this.serializer)}}class Hm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>LE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Nx.bind(null,this.syncEngine),await dx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new px}()}createDatastore(e){const n=Bh(e.databaseInfo.databaseId),s=function(u){return new $D(u)}(e.databaseInfo);return function(u,f,m,p){return new ex(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new nx(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>LE(this.syncEngine,n,0),function(){return OE.C()?new OE:new KD}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const w=new Tx(o,u,f,m,p,g);return E&&(w.mu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Re(o);fe(Fs,"RemoteStore shutting down."),u.da.add(5),await uu(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Hm.provider={build:()=>new Hm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="FirestoreClient";class kx{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=mT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{fe($r,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(fe($r,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Mp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function gm(r,e){r.asyncQueue.verifyOperationInProgress(),fe($r,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await tS(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function jE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await Lx(r);fe($r,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>ME(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>ME(e.remoteStore,o)),r._onlineComponents=e}async function Lx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){fe($r,"Using user provided OfflineComponentProvider");try{await gm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ae.FAILED_PRECONDITION||o.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Wa("Error using user provided cache. Falling back to memory cache: "+n),await gm(r,new Th)}}else fe($r,"Using default OfflineComponentProvider"),await gm(r,new Px(void 0));return r._offlineComponents}async function AS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(fe($r,"Using user provided OnlineComponentProvider"),await jE(r,r._uninitializedComponentsProvider._online)):(fe($r,"Using default OnlineComponentProvider"),await jE(r,new Hm))),r._onlineComponents}function Ux(r){return AS(r).then(e=>e.syncEngine)}async function bS(r){const e=await AS(r),n=e.eventManager;return n.onListen=Sx.bind(null,e.syncEngine),n.onUnlisten=wx.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Ax.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Rx.bind(null,e.syncEngine),n}function jx(r,e,n={}){const s=new Zi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new SS({next:A=>{E.xu(),f.enqueueAndForget(()=>fS(u,w));const k=A.docs.has(m);!k&&A.fromCache?g.reject(new ye(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&A.fromCache&&p&&p.source==="server"?g.reject(new ye(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),w=new dS(vp(m.path),E,{includeMetadataChanges:!0,Qa:!0});return hS(u,w)}(await bS(r),r.asyncQueue,e,n,s)),s.promise}function Bx(r,e,n={}){const s=new Zi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new SS({next:A=>{E.xu(),f.enqueueAndForget(()=>fS(u,w)),A.fromCache&&p.source==="server"?g.reject(new ye(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),w=new dS(m,E,{includeMetadataChanges:!0,Qa:!0});return hS(u,w)}(await bS(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(r,e,n){if(!n)throw new ye(ae.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function zx(r,e,n,s){if(e===!0&&s===!0)throw new ye(ae.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function zE(r){if(!ve.isDocumentKey(r))throw new ye(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function qE(r){if(ve.isDocumentKey(r))throw new ye(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Lp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ae(12329,{type:typeof r})}function Yn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ye(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lp(r);throw new ye(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="firestore.googleapis.com",HE=!0;class FE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CS,this.ssl=HE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:HE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=JT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vD)throw new ye(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wS((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ye(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ye(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ye(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new QI;switch(s.type){case"firstParty":return new ZI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=BE.get(n);s&&(fe("ComponentProvider","Removing Datastore"),BE.delete(n),s.terminate())}(this),Promise.resolve()}}function qx(r,e,n,s={}){var o;r=Yn(r,Hh);const u=uo(e),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u&&(v0(`https://${p}`),_0("Firestore",!0)),f.host!==CS&&f.host!==p&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!Bs(g,m)&&(r._setSettings(g),s.mockUserToken)){let E,w;if(typeof s.mockUserToken=="string")E=s.mockUserToken,w=Jt.MOCK_USER;else{E=rw(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ye(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Jt(A)}r._authCredentials=new YI(new fT(E,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Fh(this.firestore,e,this._query)}}class fn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class Fr extends Fh{constructor(e,n,s){super(e,n,vp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new ve(e))}withConverter(e){return new Fr(this.firestore,e,this._path)}}function it(r,e,...n){if(r=Qt(r),RS("collection","path",e),r instanceof Hh){const s=ot.fromString(e,...n);return qE(s),new Fr(r,null,s)}{if(!(r instanceof fn||r instanceof Fr))throw new ye(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ot.fromString(e,...n));return qE(s),new Fr(r.firestore,null,s)}}function Nt(r,e,...n){if(r=Qt(r),arguments.length===1&&(e=mT.newId()),RS("doc","path",e),r instanceof Hh){const s=ot.fromString(e,...n);return zE(s),new fn(r,null,new ve(s))}{if(!(r instanceof fn||r instanceof Fr))throw new ye(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ot.fromString(e,...n));return zE(s),new fn(r.firestore,r instanceof Fr?r.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="AsyncQueue";class KE{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new iS(this,"async_queue_retry"),this.rc=()=>{const s=pm();s&&fe(GE,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const n=pm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Zi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!go(e))throw e;fe(GE,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,tr("INTERNAL UNHANDLED ERROR: ",QE(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(e,n,s){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const o=Np.createAndSchedule(this,e,n,s,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&Ae(47125,{cc:QE(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function QE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Ys extends Hh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new KE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new KE(e),this._firestoreClient=void 0,await e}}}function Hx(r,e){const n=typeof r=="object"?r:A0(),s=typeof r=="string"?r:dh,o=np(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=nw("firestore");u&&qx(o,...u)}return o}function Up(r){if(r._terminated)throw new ye(ae.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Fx(r),r._firestoreClient}function Fx(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,g,E){return new f2(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,wS(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new kx(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ro(Yt.fromBase64String(e))}catch(n){throw new ye(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ro(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=/^__.*__$/;class Kx{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Jr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ou(e,this.data,n,this.fieldTransforms)}}class IS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Jr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function DS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ic:r})}}class zp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new zp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:s,Rc:!1});return o.Vc(e),o}mc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Sh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(DS(this.Ic)&&Gx.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Qx{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Bh(e)}bc(e,n,s,o=!1){return new zp({Ic:e,methodName:n,wc:s,path:Kt.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qp(r){const e=r._freezeSettings(),n=Bh(r._databaseId);return new Qx(r._databaseId,!!e.ignoreUndefinedProperties,n)}function xS(r,e,n,s,o,u={}){const f=r.bc(u.merge||u.mergeFields?2:0,e,n,o);Fp("Data must be an object, but it was:",f,s);const m=OS(s,f);let p,g;if(u.merge)p=new Sn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const A=Fm(e,w,n);if(!f.contains(A))throw new ye(ae.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);MS(E,A)||E.push(A)}p=new Sn(E),g=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=f.fieldTransforms;return new Kx(new hn(m),p,g)}class Qh extends Kh{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qh}}class Hp extends Kh{_toFieldTransform(e){return new j2(e.path,new $l)}isEqual(e){return e instanceof Hp}}function Yx(r,e,n,s){const o=r.bc(1,e,n);Fp("Data must be an object, but it was:",o,s);const u=[],f=hn.empty();Wr(s,(p,g)=>{const E=Gp(e,p,n);g=Qt(g);const w=o.mc(E);if(g instanceof Qh)u.push(E);else{const A=Yh(g,w);A!=null&&(u.push(E),f.set(E,A))}});const m=new Sn(u);return new IS(f,m,o.fieldTransforms)}function Xx(r,e,n,s,o,u){const f=r.bc(1,e,n),m=[Fm(e,s,n)],p=[o];if(u.length%2!=0)throw new ye(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(Fm(e,u[A])),p.push(u[A+1]);const g=[],E=hn.empty();for(let A=m.length-1;A>=0;--A)if(!MS(g,m[A])){const k=m[A];let O=p[A];O=Qt(O);const z=f.mc(k);if(O instanceof Qh)g.push(k);else{const N=Yh(O,z);N!=null&&(g.push(k),E.set(k,N))}}const w=new Sn(g);return new IS(E,w,f.fieldTransforms)}function Yh(r,e){if(NS(r=Qt(r)))return Fp("Unsupported field value:",e,r),OS(r,e);if(r instanceof Kh)return function(s,o){if(!DS(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Yh(m,o.fc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Qt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return k2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:vh(o.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:vh(o.serializer,u)}}if(s instanceof jp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ro)return{bytesValue:KT(o.serializer,s._byteString)};if(s instanceof fn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ap(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Bp)return function(f,m){return{mapValue:{fields:{[ST]:{stringValue:AT},[mh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.gc("VectorValues must only contain numeric values.");return _p(m.serializer,g)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${Lp(s)}`)}(r,e)}function OS(r,e){const n={};return gT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wr(r,(s,o)=>{const u=Yh(o,e.Ac(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function NS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rt||r instanceof jp||r instanceof ro||r instanceof fn||r instanceof Kh||r instanceof Bp)}function Fp(r,e,n){if(!NS(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Lp(n);throw s==="an object"?e.gc(r+" a custom object"):e.gc(r+" "+s)}}function Fm(r,e,n){if((e=Qt(e))instanceof Gh)return e._internalPath;if(typeof e=="string")return Gp(r,e);throw Sh("Field path arguments must be of type string or ",r,!1,void 0,n)}const $x=new RegExp("[~\\*/\\[\\]]");function Gp(r,e,n){if(e.search($x)>=0)throw Sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Gh(...e.split("."))._internalPath}catch{throw Sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Sh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ye(ae.INVALID_ARGUMENT,m+r+p)}function MS(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Zx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(PS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Zx extends VS{data(){return super.data()}}function PS(r,e){return typeof e=="string"?Gp(r,e):e instanceof Gh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ye(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jx{convertValue(e,n="none"){switch(Yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Wr(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[mh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>vt(f.doubleValue));return new Bp(u)}convertGeoPoint(e){return new jp(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Mh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ql(e));default:return null}}convertTimestamp(e){const n=Kr(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ot.fromString(e);Ke(WT(s),9688,{name:e});const o=new Yl(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return o.isEqual(n)||tr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class LS extends VS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(PS("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class nh extends LS{data(e={}){return super.data(e)}}class eO{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Pl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new nh(this._firestore,this._userDataWriter,s.key,s,new Pl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Pl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Pl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:tO(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function tO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(r){r=Yn(r,fn);const e=Yn(r.firestore,Ys);return jx(Up(e),r._key).then(n=>nO(e,r,n))}class US extends Jx{constructor(e){super(),this.firestore=e}convertBytes(e){return new ro(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function _t(r){r=Yn(r,Fh);const e=Yn(r.firestore,Ys),n=Up(e),s=new US(e);return Wx(r._query),Bx(n,r._query).then(o=>new eO(e,s,r,o))}function Gm(r,e,n){r=Yn(r,fn);const s=Yn(r.firestore,Ys),o=kS(r.converter,e,n);return $h(s,[xS(qp(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Ln.none())])}function Kp(r,e,n,...s){r=Yn(r,fn);const o=Yn(r.firestore,Ys),u=qp(o);let f;return f=typeof(e=Qt(e))=="string"||e instanceof Gh?Xx(u,"updateDoc",r._key,e,n,s):Yx(u,"updateDoc",r._key,e),$h(o,[f.toMutation(r._key,Ln.exists(!0))])}function hu(r){return $h(Yn(r.firestore,Ys),[new Ep(r._key,Ln.none())])}function Xh(r,e){const n=Yn(r.firestore,Ys),s=Nt(r),o=kS(r.converter,e);return $h(n,[xS(qp(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Ln.exists(!1))]).then(()=>s)}function $h(r,e){return function(s,o){const u=new Zi;return s.asyncQueue.enqueueAndForget(async()=>Cx(await Ux(s),o,u)),u.promise}(Up(r),e)}function nO(r,e,n){const s=n.docs.get(e._key),o=new US(r);return new LS(r,o,e._key,s,new Pl(n.hasPendingWrites,n.fromCache),e.converter)}function Ah(){return new Hp("serverTimestamp")}(function(e,n=!0){(function(o){mo=o})(co),$a(new zs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Ys(new XI(s.getProvider("auth-internal")),new WI(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ye(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),zr(W_,J_,e),zr(W_,J_,"esm2017")})();const iO={apiKey:"AIzaSyBIfGyeHMc_0LPtX5qbeqQrabX6wXvs_kI",authDomain:"flashcompauth.firebaseapp.com",projectId:"flashcompauth",storageBucket:"flashcompauth.appspot.com",messagingSenderId:"466092936876",appId:"1:466092936876:web:0ab1780cc4fc96327a5909"},jS=S0(iO),Qp=HI(jS),Ie=Hx(jS),rO=()=>{const[r,e]=L.useState(""),[n,s]=L.useState(""),[o,u]=L.useState(""),f=lo(),m=An(),p=async()=>{var E,w;const g=((w=(E=m.state)==null?void 0:E.from)==null?void 0:w.pathname)||"/dashboard";try{await IC(Qp,r,n),u(" ..."),setTimeout(()=>f(g,{replace:!0}),600)}catch(A){u(" : "+A.message)}};return T.jsxs("div",{style:{padding:"2em",maxWidth:"400px",margin:"auto"},children:[T.jsx("h2",{children:""}),T.jsx("input",{type:"email",placeholder:"",value:r,onChange:g=>e(g.target.value)}),T.jsx("input",{type:"password",placeholder:"",value:n,onChange:g=>s(g.target.value)}),T.jsx("button",{onClick:p,children:""}),T.jsx("div",{style:{marginTop:"1em",color:"red"},children:o})]})},sO=()=>{const r=lo(),[e,n]=L.useState([]),s=m=>m?m.seconds?new Date(m.seconds*1e3).toLocaleDateString():String(m):"-",o=()=>{NC(Qp).then(()=>r("/login")).catch(m=>console.error(":",m))},u=async()=>{try{const p=(await _t(it(Ie,"events"))).docs.map(g=>({id:g.id,...g.data()}));n(p)}catch(m){console.error(":",m)}};L.useEffect(()=>{u()},[]);const f=async m=>{if(window.confirm(""))try{await hu(Nt(Ie,"events",m)),n(e.filter(p=>p.id!==m))}catch(p){console.error(":",p)}};return T.jsxs("div",{style:{padding:"2em",maxWidth:"980px",margin:"0 auto"},children:[T.jsx("h2",{children:""}),T.jsx("p",{children:""}),T.jsxs("section",{style:{border:"1px solid #ddd",borderRadius:"10px",padding:"1em"},children:[T.jsx("h3",{style:{marginTop:0},children:""}),T.jsx("p",{style:{marginTop:0},children:""}),T.jsx(mt,{to:"/create-event",children:" "})]}),T.jsx("h3",{style:{marginTop:"1.6em"},children:" "}),e.length===0?T.jsx("p",{children:""}):T.jsx("div",{style:{display:"grid",gap:"1em"},children:e.map(m=>T.jsxs("section",{style:{border:"1px solid #ddd",borderRadius:"10px",padding:"1em"},children:[T.jsx("h4",{style:{marginTop:0,marginBottom:"0.4em"},children:m.name}),T.jsxs("p",{style:{marginTop:0},children:[": ",s(m.startDate),"  ",s(m.endDate)]}),T.jsxs("div",{style:{display:"flex",gap:"0.8em",flexWrap:"wrap"},children:[T.jsx(mt,{to:`/events/${m.id}/edit`,state:{tab:"seasons"},children:" /  / "}),T.jsx(mt,{to:`/events/${m.id}/edit`,state:{tab:"participants"},children:""}),T.jsx(mt,{to:`/events/${m.id}/edit`,state:{tab:"scores"},children:""}),T.jsx(mt,{to:`/score-summary/${m.id}`,children:""}),T.jsx("button",{type:"button",onClick:()=>f(m.id),children:" "})]})]},m.id))}),T.jsx("div",{style:{marginTop:"2em"},children:T.jsx("button",{type:"button",onClick:o,children:""})}),T.jsx("div",{style:{marginTop:"1em"},children:T.jsx(mt,{to:"/",children:" Home"})})]})};function aO(){const[r,e]=L.useState(""),[n,s]=L.useState(""),[o,u]=L.useState(""),[f,m]=L.useState(""),p=lo(),g=async E=>{E.preventDefault();try{await Xh(it(Ie,"events"),{name:r,startDate:rt.fromDate(new Date(n)),endDate:rt.fromDate(new Date(o)),createdAt:Ah()}),m(" "),e(""),s(""),u(""),p("/dashboard")}catch(w){console.error(w),m(" ")}};return T.jsxs("div",{style:{padding:"2em"},children:[T.jsx("h2",{children:" "}),T.jsx(mt,{to:"/dashboard",children:" "}),T.jsxs("form",{onSubmit:g,children:[T.jsx("input",{type:"text",placeholder:"",value:r,onChange:E=>e(E.target.value),required:!0}),T.jsx("input",{type:"date",value:n,onChange:E=>s(E.target.value),required:!0}),T.jsx("input",{type:"date",value:o,onChange:E=>u(E.target.value),required:!0}),T.jsx("button",{type:"submit",children:""})]}),T.jsx("p",{children:f})]})}const YE=r=>{if(!r)return"";const e=typeof r.toDate=="function"?r.toDate():new Date(r);if(Number.isNaN(e.getTime()))return"";const n=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");return`${n}-${s}-${o}`},oO=({eventId:r})=>{const[e,n]=L.useState(""),[s,o]=L.useState(""),[u,f]=L.useState(""),[m,p]=L.useState(""),[g,E]=L.useState([]),[w,A]=L.useState(""),[k,O]=L.useState({name:"",startDate:"",endDate:""}),z=L.useCallback(async()=>{try{const ce=(await _t(it(Ie,"events",r,"seasons"))).docs.map(I=>({id:I.id,...I.data()}));E(ce)}catch(Y){console.error(":",Y)}},[r]);L.useEffect(()=>{z()},[z]);const N=async Y=>{Y.preventDefault();try{await Xh(it(Ie,"events",r,"seasons"),{name:e,startDate:rt.fromDate(new Date(s)),endDate:rt.fromDate(new Date(u))}),p(" "),n(""),o(""),f(""),z()}catch(ce){console.error(ce),p(" ")}},q=async Y=>{if(window.confirm(""))try{await hu(Nt(Ie,"events",r,"seasons",Y)),E(I=>I.filter(R=>R.id!==Y))}catch(I){console.error(":",I)}},$=Y=>{A(Y.id),O({name:Y.name||"",startDate:YE(Y.startDate),endDate:YE(Y.endDate)})},X=()=>{A(""),O({name:"",startDate:"",endDate:""})},ee=async Y=>{if(!k.name.trim()||!k.startDate||!k.endDate){alert("");return}try{const ce={name:k.name.trim(),startDate:rt.fromDate(new Date(k.startDate)),endDate:rt.fromDate(new Date(k.endDate))};await Kp(Nt(Ie,"events",r,"seasons",Y),ce),E(I=>I.map(R=>R.id===Y?{...R,...ce}:R)),X()}catch(ce){console.error(":",ce),alert("")}};return T.jsxs("div",{children:[T.jsx("h3",{children:" "}),T.jsxs("form",{onSubmit:N,children:[T.jsx("input",{type:"text",placeholder:"",value:e,onChange:Y=>n(Y.target.value),required:!0}),T.jsx("input",{type:"date",value:s,onChange:Y=>o(Y.target.value),required:!0}),T.jsx("input",{type:"date",value:u,onChange:Y=>f(Y.target.value),required:!0}),T.jsx("button",{type:"submit",children:""})]}),T.jsx("p",{children:m}),T.jsx("ul",{children:g.map(Y=>T.jsx("li",{children:w===Y.id?T.jsxs(T.Fragment,{children:[T.jsx("input",{type:"text",value:k.name,onChange:ce=>O(I=>({...I,name:ce.target.value}))}),T.jsx("input",{type:"date",value:k.startDate,onChange:ce=>O(I=>({...I,startDate:ce.target.value}))}),T.jsx("input",{type:"date",value:k.endDate,onChange:ce=>O(I=>({...I,endDate:ce.target.value}))}),T.jsx("button",{type:"button",onClick:()=>ee(Y.id),children:""}),T.jsx("button",{type:"button",onClick:X,children:""})]}):T.jsxs(T.Fragment,{children:[Y.name,"",Y.startDate.toDate().toLocaleDateString(),"",Y.endDate.toDate().toLocaleDateString(),"",T.jsx("button",{type:"button",onClick:()=>$(Y),children:""}),T.jsx("button",{type:"button",onClick:()=>q(Y.id),children:""})]})},Y.id))})]})},lO=({eventId:r,categories:e,setCategories:n})=>{const[s,o]=L.useState(""),[u,f]=L.useState(""),[m,p]=L.useState(""),g=L.useCallback(async()=>{try{const N=(await _t(it(Ie,"events",r,"categories"))).docs.map(q=>({id:q.id,...q.data()}));n(N)}catch(z){console.error(":",z)}},[r,n]);L.useEffect(()=>{g()},[g]);const E=async z=>{if(z.preventDefault(),!!s)try{await Xh(it(Ie,"events",r,"categories"),{name:s}),o(""),g()}catch(N){console.error(":",N)}},w=async z=>{if(window.confirm(""))try{await hu(Nt(Ie,"events",r,"categories",z)),n(q=>q.filter($=>$.id!==z))}catch(q){console.error(":",q)}},A=z=>{f(z.id),p(z.name||"")},k=()=>{f(""),p("")},O=async z=>{const N=m.trim();if(!N){alert("");return}try{await Kp(Nt(Ie,"events",r,"categories",z),{name:N}),n(q=>q.map($=>$.id===z?{...$,name:N}:$)),k()}catch(q){console.error(":",q),alert("")}};return T.jsxs("div",{children:[T.jsx("h3",{children:" "}),T.jsxs("form",{onSubmit:E,children:[T.jsx("input",{type:"text",placeholder:"",value:s,onChange:z=>o(z.target.value),required:!0}),T.jsx("button",{type:"submit",children:""})]}),T.jsx("ul",{children:e.map(z=>T.jsx("li",{children:u===z.id?T.jsxs(T.Fragment,{children:[T.jsx("input",{type:"text",value:m,onChange:N=>p(N.target.value)}),T.jsx("button",{type:"button",onClick:()=>O(z.id),children:""}),T.jsx("button",{type:"button",onClick:k,children:""})]}):T.jsxs(T.Fragment,{children:[z.name,T.jsx("button",{type:"button",onClick:()=>A(z),children:""}),T.jsx("button",{type:"button",onClick:()=>w(z.id),children:""})]})},z.id))})]})},Hc={name:"",memberNo:"",age:"",gender:"",categoryId:""},uO=r=>r==="male"?"":r==="female"?"":r==="other"?"":"",cO=({eventId:r,categories:e})=>{const[n,s]=L.useState([]),[o,u]=L.useState(Hc),[f,m]=L.useState(""),[p,g]=L.useState(Hc),E=L.useCallback(async()=>{try{const q=(await _t(it(Ie,"events",r,"participants"))).docs.map($=>({id:$.id,...$.data()}));s(q)}catch(N){console.error(":",N)}},[r]);L.useEffect(()=>{E()},[E]);const w=async N=>{N.preventDefault();try{await Xh(it(Ie,"events",r,"participants"),{name:o.name.trim(),memberNo:o.memberNo.trim(),age:Number(o.age),gender:o.gender,categoryId:o.categoryId,createdAt:Ah()}),u(Hc),E()}catch(q){console.error(":",q)}},A=N=>{m(N.id),g({name:N.name||"",memberNo:N.memberNo||"",age:N.age?String(N.age):"",gender:N.gender||"",categoryId:N.categoryId||""})},k=()=>{m(""),g(Hc)},O=async N=>{if(!p.name.trim()||!p.memberNo.trim()||!p.age||!p.gender||!p.categoryId){alert("");return}try{const q={name:p.name.trim(),memberNo:p.memberNo.trim(),age:Number(p.age),gender:p.gender,categoryId:p.categoryId,updatedAt:Ah()};await Kp(Nt(Ie,"events",r,"participants",N),q),s($=>$.map(X=>X.id===N?{...X,...q,updatedAt:new Date}:X)),k()}catch(q){console.error(":",q),alert("")}},z=async N=>{if(window.confirm(""))try{await hu(Nt(Ie,"events",r,"participants",N)),s($=>$.filter(X=>X.id!==N))}catch($){console.error(":",$)}};return T.jsxs("div",{children:[T.jsx("h3",{children:" "}),T.jsxs("form",{onSubmit:w,children:[T.jsx("input",{type:"text",placeholder:"",value:o.name,onChange:N=>u(q=>({...q,name:N.target.value})),required:!0}),T.jsx("input",{type:"text",placeholder:"",value:o.memberNo,onChange:N=>u(q=>({...q,memberNo:N.target.value})),required:!0}),T.jsx("input",{type:"number",min:"1",max:"120",placeholder:"",value:o.age,onChange:N=>u(q=>({...q,age:N.target.value})),required:!0}),T.jsxs("select",{value:o.gender,onChange:N=>u(q=>({...q,gender:N.target.value})),required:!0,children:[T.jsx("option",{value:"",children:"--  --"}),T.jsx("option",{value:"male",children:""}),T.jsx("option",{value:"female",children:""}),T.jsx("option",{value:"other",children:""})]}),T.jsxs("select",{value:o.categoryId,onChange:N=>u(q=>({...q,categoryId:N.target.value})),required:!0,children:[T.jsx("option",{value:"",children:"--  --"}),e.map(N=>T.jsx("option",{value:N.id,children:N.name},N.id))]}),T.jsx("button",{type:"submit",children:""})]}),T.jsx("ul",{children:n.map(N=>{var X;const q=((X=e.find(ee=>ee.id===N.categoryId))==null?void 0:X.name)||"",$=f===N.id;return T.jsx("li",{children:$?T.jsxs(T.Fragment,{children:[T.jsx("input",{type:"text",value:p.name,onChange:ee=>g(Y=>({...Y,name:ee.target.value}))}),T.jsx("input",{type:"text",value:p.memberNo,onChange:ee=>g(Y=>({...Y,memberNo:ee.target.value}))}),T.jsx("input",{type:"number",min:"1",max:"120",value:p.age,onChange:ee=>g(Y=>({...Y,age:ee.target.value}))}),T.jsxs("select",{value:p.gender,onChange:ee=>g(Y=>({...Y,gender:ee.target.value})),children:[T.jsx("option",{value:"",children:"--  --"}),T.jsx("option",{value:"male",children:""}),T.jsx("option",{value:"female",children:""}),T.jsx("option",{value:"other",children:""})]}),T.jsxs("select",{value:p.categoryId,onChange:ee=>g(Y=>({...Y,categoryId:ee.target.value})),children:[T.jsx("option",{value:"",children:"--  --"}),e.map(ee=>T.jsx("option",{value:ee.id,children:ee.name},ee.id))]}),T.jsx("button",{type:"button",onClick:()=>O(N.id),children:""}),T.jsx("button",{type:"button",onClick:k,children:""})]}):T.jsxs(T.Fragment,{children:[N.name," / ",": ",N.memberNo||"-"," / ",": ",N.age||"-"," / ",": ",uO(N.gender)," / ",": ",q,T.jsx("button",{type:"button",onClick:()=>A(N),children:""}),T.jsx("button",{type:"button",onClick:()=>z(N.id),children:""})]})},N.id)})})]})},hO=()=>{const{eventId:r}=eu(),[e,n]=L.useState([]),[s,o]=L.useState(""),[u,f]=L.useState([]),[m,p]=L.useState(""),[g,E]=L.useState([]),[w,A]=L.useState("");L.useEffect(()=>{(async()=>{const ee=await _t(it(Ie,"events",r,"seasons"));n(ee.docs.map(Y=>({id:Y.id,...Y.data()})))})()},[r]),L.useEffect(()=>{if(!s)return;(async()=>{const ee=await _t(it(Ie,"events",r,"categories"));f(ee.docs.map(Y=>({id:Y.id,...Y.data()})))})(),p(""),E([])},[s]),L.useEffect(()=>{if(!s||!m)return;(async()=>{const Y=(await _t(it(Ie,"events",r,"seasons",s,"categories",m,"routes"))).docs.map(ce=>({id:ce.id,...ce.data(),isEditing:!1}));Y.sort((ce,I)=>ce.name.localeCompare(I.name,"ja")),E(Y)})()},[m]);const k=()=>{const X=`No.${String(g.length+1).padStart(2,"0")}`;E([...g,{name:X,grade:"",isBonus:!1,isEditing:!0}])},O=(X,ee,Y)=>{E(ce=>{const I=[...ce];return I[X][ee]=ee==="isBonus"?Y.target.checked:Y,I})},z=X=>{E(ee=>ee.map((Y,ce)=>({...Y,isEditing:ce===X?!Y.isEditing:!1})))},N=async X=>{const ee=g[X];if(!ee.grade){alert("");return}const Y=Nt(Ie,"events",r,"seasons",s,"categories",m,"routes",ee.name);await Gm(Y,{name:ee.name,grade:ee.grade,isBonus:ee.isBonus}),E(ce=>{const I=[...ce];return I[X].isEditing=!1,I}),A(` ${ee.name} `),setTimeout(()=>A(""),2e3)},q=async X=>{const ee=g[X],Y=`No.${String(g.length+1).padStart(2,"0")}`,ce=Nt(Ie,"events",r,"seasons",s,"categories",m,"routes",Y);await Gm(ce,{name:Y,grade:ee.grade,isBonus:ee.isBonus});const I={...ee,name:Y,isEditing:!1},R=[...g];R.splice(X+1,0,I),E(R),A(" "),setTimeout(()=>A(""),2e3)},$=async X=>{const ee=g[X].name,Y=Nt(Ie,"events",r,"seasons",s,"categories",m,"routes",ee);await hu(Y);const ce=[...g];ce.splice(X,1),E(ce),A(" "),setTimeout(()=>A(""),2e3)};return T.jsxs("div",{children:[T.jsx("h3",{children:" "}),w&&T.jsx("p",{children:w}),T.jsxs("label",{children:["",T.jsxs("select",{value:s,onChange:X=>o(X.target.value),children:[T.jsx("option",{value:"",children:"--  --"}),e.map(X=>T.jsx("option",{value:X.id,children:X.name},X.id))]})]}),s&&T.jsxs(T.Fragment,{children:[T.jsxs("label",{children:["",T.jsxs("select",{value:m,onChange:X=>p(X.target.value),children:[T.jsx("option",{value:"",children:"--  --"}),u.map(X=>T.jsx("option",{value:X.id,children:X.name},X.id))]})]}),m&&T.jsxs(T.Fragment,{children:[T.jsx("div",{style:{marginTop:"1em"},children:T.jsx("button",{onClick:k,children:" "})}),T.jsxs("table",{style:{marginTop:"1em",borderCollapse:"collapse"},children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:""}),T.jsx("th",{children:""}),T.jsx("th",{children:""}),T.jsx("th",{children:""})]})}),T.jsx("tbody",{children:g.map((X,ee)=>T.jsxs("tr",{children:[T.jsx("td",{children:X.name}),T.jsx("td",{children:X.isEditing?T.jsxs("select",{value:X.grade,onChange:Y=>O(ee,"grade",Y.target.value),children:[T.jsx("option",{value:"",children:"--  --"}),T.jsx("option",{value:"9",children:"9"}),T.jsx("option",{value:"8",children:"8"}),T.jsx("option",{value:"7",children:"7"}),T.jsx("option",{value:"6",children:"6"}),T.jsx("option",{value:"5",children:"5"}),T.jsx("option",{value:"4",children:"4"}),T.jsx("option",{value:"3",children:"3"}),T.jsx("option",{value:"2",children:"2"}),T.jsx("option",{value:"1",children:"1"}),T.jsx("option",{value:"",children:""}),T.jsx("option",{value:"2",children:"2"})]}):X.grade}),T.jsx("td",{children:X.isEditing?T.jsx("input",{type:"checkbox",checked:X.isBonus,onChange:Y=>O(ee,"isBonus",Y)}):X.isBonus?"":"-"}),T.jsx("td",{children:X.isEditing?T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:()=>N(ee),children:""}),T.jsx("button",{onClick:()=>z(ee),children:""})]}):T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:()=>z(ee),children:""}),T.jsx("button",{onClick:()=>q(ee),children:""}),T.jsx("button",{onClick:()=>$(ee),children:""})]})})]},ee))})]})]})]})]})},fO=({eventId:r})=>{var A,k;const[e,n]=L.useState([]),[s,o]=L.useState([]),[u,f]=L.useState([]),m=An(),[p,g]=L.useState(((A=m.state)==null?void 0:A.seasonId)||""),[E,w]=L.useState(((k=m.state)==null?void 0:k.categoryId)||"");return L.useEffect(()=>{const O=async()=>{try{const q=(await _t(it(Ie,"events",r,"seasons"))).docs.map($=>({id:$.id,...$.data()}));n(q)}catch(N){console.error(":",N)}},z=async()=>{try{const q=(await _t(it(Ie,"events",r,"categories"))).docs.map($=>({id:$.id,...$.data()}));o(q)}catch(N){console.error(":",N)}};O(),z()},[r]),L.useEffect(()=>{(async()=>{if(E)try{const q=(await _t(it(Ie,"events",r,"participants"))).docs.map($=>({id:$.id,...$.data()})).filter($=>$.categoryId===E);f(q)}catch(z){console.error(":",z)}})()},[r,E]),L.useEffect(()=>{var O,z;(O=m.state)!=null&&O.seasonId&&g(m.state.seasonId),(z=m.state)!=null&&z.categoryId&&w(m.state.categoryId)},[m.state]),T.jsxs("div",{style:{padding:"2em"},children:[T.jsx("h2",{children:" "}),T.jsx("div",{style:{marginBottom:"1em"},children:T.jsxs("label",{children:[":",T.jsxs("select",{value:p,onChange:O=>g(O.target.value),children:[T.jsx("option",{value:"",children:"--  --"}),e.map(O=>T.jsx("option",{value:O.id,children:O.name},O.id))]})]})}),T.jsx("div",{style:{marginBottom:"1em"},children:T.jsxs("label",{children:[":",T.jsxs("select",{value:E,onChange:O=>w(O.target.value),children:[T.jsx("option",{value:"",children:"--  --"}),s.map(O=>T.jsx("option",{value:O.id,children:O.name},O.id))]})]})}),p&&E&&T.jsx("ul",{children:u.map(O=>T.jsxs("li",{children:[O.name,T.jsx(mt,{to:`/events/${r}/scoreinput/${p}/${E}/${O.id}`,style:{marginLeft:"1em"},children:" "})]},O.id))})]})},dO=()=>{var p;const{eventId:r}=eu(),[e,n]=L.useState(""),s=An(),[o,u]=L.useState(((p=s.state)==null?void 0:p.tab)||"seasons"),[f,m]=L.useState([]);return L.useEffect(()=>{(async()=>{try{const w=(await _t(it(Ie,"events",r,"categories"))).docs.map(A=>({id:A.id,...A.data()}));m(w)}catch(E){console.error(":",E)}})()},[r]),L.useEffect(()=>{(async()=>{const E=Nt(Ie,"events",r),w=await js(E);w.exists()&&n(w.data().name)})()},[r]),T.jsxs("div",{style:{padding:"2em"},children:[T.jsxs("h2",{children:[" ",e]}),T.jsx(mt,{to:"/dashboard",children:" "})," |"," ",T.jsxs("div",{style:{marginTop:"1em"},children:[T.jsx("button",{onClick:()=>u("seasons"),children:" "}),T.jsx("button",{onClick:()=>u("categories"),children:" "}),T.jsx("button",{onClick:()=>u("routes"),children:" "}),T.jsx("button",{onClick:()=>u("participants"),children:" "}),T.jsx("button",{onClick:()=>u("scores"),children:" "})]}),o==="seasons"&&T.jsx(oO,{eventId:r}),o==="categories"&&T.jsx(lO,{eventId:r,categories:f,setCategories:m}),o==="routes"&&T.jsx(hO,{eventId:r,categories:f}),o==="participants"&&T.jsx(cO,{eventId:r,categories:f}),o==="scores"&&T.jsx(fO,{eventId:r})]})},mO=()=>{const{eventId:r,seasonId:e,categoryId:n,participantId:s}=eu(),[o,u]=L.useState([]),[f,m]=L.useState(""),[p,g]=L.useState({}),[E,w]=L.useState(""),[A,k]=L.useState(null);L.useEffect(()=>{(async()=>{try{const q=await js(Nt(Ie,"events",r,"participants",s));q.exists()&&m(q.data().name||"");const X=(await _t(it(Ie,"events",r,"seasons",e,"categories",n,"routes"))).docs.map(Y=>Y.data()).sort((Y,ce)=>Y.name.localeCompare(ce.name,"ja"));u(X);const ee=await js(Nt(Ie,"events",r,"seasons",e,"categories",n,"participants",s));if(ee.exists()){const Y=ee.data();Y.scores&&g(Y.scores),Y.updatedAt&&k(Y.updatedAt.toDate())}}catch(q){console.error(":",q)}})()},[r,e,n,s]);const O=N=>{g(q=>({...q,[N]:!q[N]}))},z=async()=>{try{await Gm(Nt(Ie,"events",r,"seasons",e,"categories",n,"participants",s),{scores:p,updatedAt:Ah()},{merge:!0}),w(" "),setTimeout(()=>w(""),2e3)}catch(N){console.error(":",N),w(" ")}};return T.jsxs("div",{style:{padding:"2em"},children:[T.jsx("h2",{children:" "}),T.jsx("p",{children:T.jsx(mt,{to:`/events/${r}/edit`,state:{tab:"scores",seasonId:e,categoryId:n},children:" "})}),T.jsxs("p",{children:[": ",f]}),A&&T.jsxs("p",{style:{fontStyle:"italic",fontSize:"0.9em"},children:[": ",A.toLocaleString()]}),T.jsx("div",{style:{marginTop:"1em"},children:o.map(N=>T.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.5em 0",borderBottom:"1px solid #ddd"},children:[T.jsx("span",{children:N.name}),T.jsx("input",{type:"checkbox",checked:!!p[N.name],onChange:()=>O(N.name)})]},N.name))}),T.jsxs("div",{style:{marginTop:"1em"},children:[T.jsx("button",{onClick:z,children:" "}),T.jsx("span",{style:{marginLeft:"1em"},children:E})]})]})},XE=r=>r?typeof r.toDate=="function"?r.toDate().toLocaleDateString():typeof r.seconds=="number"?new Date(r.seconds*1e3).toLocaleDateString():String(r):"-",pO=()=>{const[r,e]=L.useState([]),[n,s]=L.useState(!0);return L.useEffect(()=>{(async()=>{try{const f=(await _t(it(Ie,"events"))).docs.map(m=>({id:m.id,...m.data()})).sort((m,p)=>{var w,A;const g=(w=m.endDate)!=null&&w.seconds?m.endDate.seconds*1e3:0;return((A=p.endDate)!=null&&A.seconds?p.endDate.seconds*1e3:0)-g});e(f)}catch(u){console.error(":",u)}finally{s(!1)}})()},[]),n?T.jsx("p",{children:"..."}):T.jsxs("div",{style:{padding:"2em",maxWidth:"980px",margin:"0 auto"},children:[T.jsx("h2",{children:" "}),T.jsx("p",{style:{marginBottom:"0.4em"},children:""}),T.jsxs("ol",{style:{marginTop:0,paddingLeft:"1.2em"},children:[T.jsx("li",{children:""}),T.jsx("li",{children:""}),T.jsx("li",{children:""})]}),r.length===0?T.jsx("p",{children:""}):T.jsx("div",{style:{display:"grid",gap:"1em"},children:r.map(o=>T.jsxs("section",{style:{border:"1px solid #ddd",borderRadius:"10px",padding:"1em"},children:[T.jsx("h3",{style:{marginTop:0,marginBottom:"0.5em"},children:o.name}),T.jsxs("p",{style:{marginTop:0},children:[": ",XE(o.startDate),"  ",XE(o.endDate)]}),T.jsx(mt,{to:`/score-summary/${o.id}`,children:""})]},o.id))}),T.jsx("div",{style:{marginTop:"2em"},children:T.jsx(mt,{to:"/",children:" Home"})})]})},gO=r=>r?typeof r.toMillis=="function"?r.toMillis():typeof r.seconds=="number"?r.seconds*1e3:0:0,$E=(r,e)=>{const n={};for(const s of r){const o=new Map;for(const u of e.filter(f=>f.categoryId===s.id))o.set(u.id,{participantId:u.id,name:u.name||"",memberNo:u.memberNo||"-",totalPoints:0,clearCount:0,latestUpdatedAt:0});n[s.id]=o}return n},ZE=r=>{const e={};for(const[n,s]of Object.entries(r)){const o=Array.from(s.values()).sort((p,g)=>g.totalPoints!==p.totalPoints?g.totalPoints-p.totalPoints:g.clearCount!==p.clearCount?g.clearCount-p.clearCount:p.name.localeCompare(g.name,"ja"));let u=null,f=null,m=0;e[n]=o.map((p,g)=>((p.totalPoints!==u||p.clearCount!==f)&&(m=g+1),u=p.totalPoints,f=p.clearCount,{...p,rank:m}))}return e},yO=()=>{const{eventId:r}=eu(),[e,n]=L.useState(null),[s,o]=L.useState([]),[u,f]=L.useState([]),[m,p]=L.useState([]),[g,E]=L.useState("all"),[w,A]=L.useState(""),[k,O]=L.useState({}),[z,N]=L.useState(!0),[q,$]=L.useState(!1),[X,ee]=L.useState("");if(L.useEffect(()=>{let R=!1;return(async()=>{N(!0),ee("");try{const M=await js(Nt(Ie,"events",r));if(!M.exists()){R||ee("");return}const[V,j,D]=await Promise.all([_t(it(Ie,"events",r,"seasons")),_t(it(Ie,"events",r,"categories")),_t(it(Ie,"events",r,"participants"))]);if(R)return;n({id:M.id,...M.data()}),o(V.docs.map(xe=>({id:xe.id,...xe.data()})).sort((xe,Ce)=>xe.name.localeCompare(Ce.name,"ja"))),f(j.docs.map(xe=>({id:xe.id,...xe.data()})).sort((xe,Ce)=>xe.name.localeCompare(Ce.name,"ja"))),p(D.docs.map(xe=>({id:xe.id,...xe.data()})))}catch(M){console.error(":",M),R||ee("")}finally{R||N(!1)}})(),()=>{R=!0}},[r]),L.useEffect(()=>{let R=!1;return(async()=>{if(z||!e||u.length===0)return;ee("");const M=g==="all"?s.map(V=>V.id):[g].filter(Boolean);if(M.length===0){O(ZE($E(u,m)));return}$(!0);try{const V=$E(u,m),j=new Map(m.map(Ce=>[Ce.id,Ce])),D=M.flatMap(Ce=>u.map(async W=>{const[se,he]=await Promise.all([_t(it(Ie,"events",r,"seasons",Ce,"categories",W.id,"routes")),_t(it(Ie,"events",r,"seasons",Ce,"categories",W.id,"participants"))]);return{categoryId:W.id,routeSnap:se,scoreSnap:he}})),xe=await Promise.all(D);for(const{categoryId:Ce,routeSnap:W,scoreSnap:se}of xe){const he={};for(const Oe of W.docs){const P=Oe.data();he[P.name]=Number(P.points)||1}for(const Oe of se.docs){const P=Oe.data(),re=P.scores||{},le=Oe.id;if(!V[Ce].has(le)){const de=j.get(le);V[Ce].set(le,{participantId:le,name:(de==null?void 0:de.name)||P.participantName||`ID:${le}`,memberNo:(de==null?void 0:de.memberNo)||"-",totalPoints:0,clearCount:0,latestUpdatedAt:0})}const oe=V[Ce].get(le);for(const[de,_e]of Object.entries(re))_e&&(oe.totalPoints+=he[de]??1,oe.clearCount+=1);oe.latestUpdatedAt=Math.max(oe.latestUpdatedAt,gO(P.updatedAt))}}R||O(ZE(V))}catch(V){console.error(":",V),R||ee("")}finally{R||$(!1)}})(),()=>{R=!0}},[z,e,u,m,s,g,r]),z)return T.jsx("p",{children:"..."});if(X)return T.jsxs("div",{style:{padding:"2em"},children:[T.jsx("p",{children:X}),T.jsx("div",{style:{marginTop:"2em"},children:T.jsx(mt,{to:"/score-summary",children:" "})})]});const Y=w.trim().toLowerCase(),ce=Y.length>0,I=u.reduce((R,C)=>{const M=k[C.id]||[];return R+M.filter(V=>{const j=(V.name||"").toLowerCase(),D=(V.memberNo||"").toLowerCase();return j.includes(Y)||D.includes(Y)}).length},0);return T.jsxs("div",{style:{padding:"2em"},children:[T.jsxs("h2",{children:[e==null?void 0:e.name," - "]}),T.jsx("div",{style:{margin:"1em 0"},children:T.jsxs("label",{children:[":",T.jsxs("select",{value:g,onChange:R=>E(R.target.value),style:{marginLeft:"0.5em"},children:[T.jsx("option",{value:"all",children:""}),s.map(R=>T.jsx("option",{value:R.id,children:R.name},R.id))]})]})}),T.jsxs("div",{style:{margin:"1em 0"},children:[T.jsxs("label",{children:["/:",T.jsx("input",{type:"text",value:w,onChange:R=>A(R.target.value),placeholder:":  / M-1001",style:{marginLeft:"0.5em"}})]}),ce&&T.jsxs("span",{style:{marginLeft:"0.8em"},children:[" ",I," "]})]}),q&&T.jsx("p",{children:"..."}),u.length===0?T.jsx("p",{children:""}):u.map(R=>{const C=k[R.id]||[],M=ce?C.filter(V=>{const j=(V.name||"").toLowerCase(),D=(V.memberNo||"").toLowerCase();return j.includes(Y)||D.includes(Y)}):C;return T.jsxs("section",{style:{marginBottom:"2em"},children:[T.jsxs("h3",{children:[": ",R.name]}),M.length===0?T.jsx("p",{children:ce?"":""}):T.jsxs("table",{style:{borderCollapse:"collapse",width:"100%"},children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{style:{textAlign:"left",borderBottom:"1px solid #ccc"},children:""}),T.jsx("th",{style:{textAlign:"left",borderBottom:"1px solid #ccc"},children:""}),T.jsx("th",{style:{textAlign:"left",borderBottom:"1px solid #ccc"},children:""}),T.jsx("th",{style:{textAlign:"right",borderBottom:"1px solid #ccc"},children:""}),T.jsx("th",{style:{textAlign:"right",borderBottom:"1px solid #ccc"},children:""}),T.jsx("th",{style:{textAlign:"left",borderBottom:"1px solid #ccc"},children:""})]})}),T.jsx("tbody",{children:M.map(V=>T.jsxs("tr",{children:[T.jsx("td",{style:{padding:"0.4em 0"},children:V.rank}),T.jsx("td",{children:V.name}),T.jsx("td",{children:V.memberNo}),T.jsx("td",{style:{textAlign:"right"},children:V.totalPoints}),T.jsx("td",{style:{textAlign:"right"},children:V.clearCount}),T.jsx("td",{children:T.jsx(mt,{to:`/score-summary/${r}/participants/${V.participantId}?season=${g}`,children:""})})]},V.participantId))})]})]},R.id)}),T.jsx("div",{style:{marginTop:"2em"},children:T.jsx(mt,{to:"/score-summary",children:" "})})]})},vO=r=>r?typeof r.toDate=="function"?r.toDate().toLocaleString():typeof r.seconds=="number"?new Date(r.seconds*1e3).toLocaleString():"-":"-",_O=()=>{var ce;const{eventId:r,participantId:e}=eu(),[n]=z1(),[s,o]=L.useState(null),[u,f]=L.useState(null),[m,p]=L.useState([]),[g,E]=L.useState([]),[w,A]=L.useState(n.get("season")||"all"),[k,O]=L.useState([]),[z,N]=L.useState(!0),[q,$]=L.useState(!1),[X,ee]=L.useState("");L.useEffect(()=>{let I=!1;return(async()=>{N(!0),ee("");try{const[C,M,V,j]=await Promise.all([js(Nt(Ie,"events",r)),js(Nt(Ie,"events",r,"participants",e)),_t(it(Ie,"events",r,"seasons")),_t(it(Ie,"events",r,"categories"))]);if(!C.exists()){I||ee("");return}if(!M.exists()){I||ee("");return}const D=V.docs.map(se=>({id:se.id,...se.data()})).sort((se,he)=>se.name.localeCompare(he.name,"ja")),xe=j.docs.map(se=>({id:se.id,...se.data()})).sort((se,he)=>se.name.localeCompare(he.name,"ja"));if(I)return;const Ce=n.get("season"),W=Ce&&(Ce==="all"||D.some(se=>se.id===Ce))?Ce:"all";o({id:C.id,...C.data()}),f({id:M.id,...M.data()}),p(D),E(xe),A(W)}catch(C){console.error(":",C),I||ee("")}finally{I||N(!1)}})(),()=>{I=!0}},[r,e,n]),L.useEffect(()=>{let I=!1;return(async()=>{if(!(z||!u||m.length===0||g.length===0)){$(!0);try{const C=w==="all"?m:m.filter(D=>D.id===w),M=u.categoryId?[u.categoryId]:g.map(D=>D.id),V=new Map(g.map(D=>[D.id,D.name])),j=[];for(const D of C){const xe=[],Ce=M.map(async se=>{const[he,Oe]=await Promise.all([_t(it(Ie,"events",r,"seasons",D.id,"categories",se,"routes")),js(Nt(Ie,"events",r,"seasons",D.id,"categories",se,"participants",u.id))]);if(!Oe.exists())return null;const P=new Map(he.docs.map(_e=>{const pe=_e.data();return[pe.name,pe]})),re=Oe.data(),le=re.scores||{},oe=Object.entries(le).filter(([,_e])=>!!_e).map(([_e])=>{const pe=P.get(_e);return{routeName:_e,points:Number(pe==null?void 0:pe.points)||1,grade:(pe==null?void 0:pe.grade)||"-"}}).sort((_e,pe)=>_e.routeName.localeCompare(pe.routeName,"ja")),de=oe.reduce((_e,pe)=>_e+pe.points,0);return{categoryId:se,categoryName:V.get(se)||se,clearCount:oe.length,totalPoints:de,updatedAtText:vO(re.updatedAt),clearedRoutes:oe}}),W=(await Promise.all(Ce)).filter(Boolean);for(const se of W)xe.push(se);j.push({seasonId:D.id,seasonName:D.name,categorySummaries:xe,totalPoints:xe.reduce((se,he)=>se+he.totalPoints,0),totalClears:xe.reduce((se,he)=>se+he.clearCount,0)})}I||O(j)}catch(C){console.error(":",C),I||ee("")}finally{I||$(!1)}}})(),()=>{I=!0}},[z,u,m,g,w,r]);const Y=L.useMemo(()=>({totalPoints:k.reduce((I,R)=>I+R.totalPoints,0),totalClears:k.reduce((I,R)=>I+R.totalClears,0)}),[k]);return z?T.jsx("p",{children:"..."}):X?T.jsxs("div",{style:{padding:"2em"},children:[T.jsx("p",{children:X}),T.jsx("div",{style:{marginTop:"1.5em"},children:T.jsx(mt,{to:`/score-summary/${r}`,children:" "})})]}):T.jsxs("div",{style:{padding:"2em",maxWidth:"980px",margin:"0 auto"},children:[T.jsxs("h2",{children:[s==null?void 0:s.name," - "]}),T.jsxs("p",{style:{marginBottom:"0.4em"},children:[": ",T.jsx("strong",{children:(u==null?void 0:u.name)||"-"})]}),T.jsxs("p",{style:{marginTop:0},children:[": ",(u==null?void 0:u.memberNo)||"-"," / :"," ",((ce=g.find(I=>I.id===(u==null?void 0:u.categoryId)))==null?void 0:ce.name)||""]}),T.jsx("div",{style:{margin:"1em 0"},children:T.jsxs("label",{children:[":",T.jsxs("select",{value:w,onChange:I=>A(I.target.value),style:{marginLeft:"0.5em"},children:[T.jsx("option",{value:"all",children:""}),m.map(I=>T.jsx("option",{value:I.id,children:I.name},I.id))]})]})}),T.jsxs("section",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"1em"},children:[T.jsx("h3",{style:{marginTop:0},children:""}),T.jsxs("p",{style:{marginBottom:0},children:[": ",T.jsx("strong",{children:Y.totalPoints})," / : ",T.jsx("strong",{children:Y.totalClears})]})]}),q&&T.jsx("p",{style:{marginTop:"1em"},children:"..."}),T.jsx("div",{style:{marginTop:"1.2em"},children:k.length===0?T.jsx("p",{children:""}):k.map(I=>T.jsxs("section",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"1em",marginBottom:"1em"},children:[T.jsxs("h3",{style:{marginTop:0},children:[I.seasonName," /  ",I.totalPoints," /  ",I.totalClears]}),I.categorySummaries.length===0?T.jsx("p",{children:""}):I.categorySummaries.map(R=>T.jsxs("div",{style:{marginTop:"1em"},children:[T.jsxs("h4",{style:{marginBottom:"0.4em"},children:[": ",R.categoryName," /  ",R.totalPoints," /  ",R.clearCount]}),T.jsxs("p",{style:{marginTop:0,fontSize:"0.9em"},children:[": ",R.updatedAtText]}),R.clearedRoutes.length===0?T.jsx("p",{children:""}):T.jsxs("table",{style:{borderCollapse:"collapse",width:"100%"},children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{style:{textAlign:"left",borderBottom:"1px solid #ccc"},children:""}),T.jsx("th",{style:{textAlign:"left",borderBottom:"1px solid #ccc"},children:""}),T.jsx("th",{style:{textAlign:"right",borderBottom:"1px solid #ccc"},children:""})]})}),T.jsx("tbody",{children:R.clearedRoutes.map(C=>T.jsxs("tr",{children:[T.jsx("td",{style:{padding:"0.35em 0"},children:C.routeName}),T.jsx("td",{children:C.grade}),T.jsx("td",{style:{textAlign:"right"},children:C.points})]},C.routeName))})]})]},`${I.seasonId}-${R.categoryId}`))]},I.seasonId))}),T.jsx("div",{style:{marginTop:"1.5em"},children:T.jsx(mt,{to:`/score-summary/${r}`,children:" "})})]})},Fc=({children:r})=>{const[e,n]=L.useState(!0),[s,o]=L.useState(!1),u=An();return L.useEffect(()=>{const f=OC(Qp,m=>{o(!!m),n(!1)});return()=>f()},[]),e?T.jsx("p",{style:{padding:"2em"},children:"..."}):s?r:T.jsx(u1,{to:"/login",replace:!0,state:{from:u}})};function EO(){return T.jsx(k1,{basename:"/FlashComp",children:T.jsxs(h1,{children:[T.jsx(mi,{path:"/",element:T.jsx(Q1,{})}),T.jsx(mi,{path:"/login",element:T.jsx(rO,{})}),T.jsx(mi,{path:"/dashboard",element:T.jsx(Fc,{children:T.jsx(sO,{})})}),T.jsx(mi,{path:"/create-event",element:T.jsx(Fc,{children:T.jsx(aO,{})})}),T.jsx(mi,{path:"/events/:eventId/edit",element:T.jsx(Fc,{children:T.jsx(dO,{})})}),T.jsx(mi,{path:"/events/:eventId/scoreinput/:seasonId/:categoryId/:participantId",element:T.jsx(Fc,{children:T.jsx(mO,{})})}),T.jsx(mi,{path:"/score-summary",element:T.jsx(pO,{})}),T.jsx(mi,{path:"/score-summary/:eventId",element:T.jsx(yO,{})}),T.jsx(mi,{path:"/score-summary/:eventId/participants/:participantId",element:T.jsx(_O,{})})]})})}_b.createRoot(document.getElementById("root")).render(T.jsx(L.StrictMode,{children:T.jsx(EO,{})}));
